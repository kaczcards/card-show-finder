cea393365e4dae3c5302ba4dfa7c353b
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
import _classCallCheck from "@babel/runtime/helpers/classCallCheck";
import _createClass from "@babel/runtime/helpers/createClass";
function cov_7p9bcyhz4() {
  var path = "/Users/kevin/card-show-finder/src/services/mfaService.ts";
  var hash = "7aa2f2a936f0dc1487c6dab3147fc8f2281729b5";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/kevin/card-show-finder/src/services/mfaService.ts",
    statementMap: {
      "0": {
        start: {
          line: 65,
          column: 32
        },
        end: {
          line: 65,
          column: 59
        }
      },
      "1": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 67,
          column: 72
        }
      },
      "2": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 85,
          column: 5
        }
      },
      "3": {
        start: {
          line: 76,
          column: 30
        },
        end: {
          line: 76,
          column: 100
        }
      },
      "4": {
        start: {
          line: 77,
          column: 6
        },
        end: {
          line: 79,
          column: 7
        }
      },
      "5": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 78,
          column: 39
        }
      },
      "6": {
        start: {
          line: 81,
          column: 6
        },
        end: {
          line: 81,
          column: 18
        }
      },
      "7": {
        start: {
          line: 83,
          column: 6
        },
        end: {
          line: 83,
          column: 60
        }
      },
      "8": {
        start: {
          line: 84,
          column: 6
        },
        end: {
          line: 84,
          column: 16
        }
      },
      "9": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 108,
          column: 5
        }
      },
      "10": {
        start: {
          line: 96,
          column: 30
        },
        end: {
          line: 99,
          column: 8
        }
      },
      "11": {
        start: {
          line: 100,
          column: 6
        },
        end: {
          line: 102,
          column: 7
        }
      },
      "12": {
        start: {
          line: 101,
          column: 8
        },
        end: {
          line: 101,
          column: 39
        }
      },
      "13": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 104,
          column: 18
        }
      },
      "14": {
        start: {
          line: 106,
          column: 6
        },
        end: {
          line: 106,
          column: 56
        }
      },
      "15": {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 107,
          column: 16
        }
      },
      "16": {
        start: {
          line: 119,
          column: 4
        },
        end: {
          line: 134,
          column: 5
        }
      },
      "17": {
        start: {
          line: 120,
          column: 30
        },
        end: {
          line: 124,
          column: 8
        }
      },
      "18": {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 128,
          column: 7
        }
      },
      "19": {
        start: {
          line: 127,
          column: 8
        },
        end: {
          line: 127,
          column: 39
        }
      },
      "20": {
        start: {
          line: 130,
          column: 6
        },
        end: {
          line: 130,
          column: 18
        }
      },
      "21": {
        start: {
          line: 132,
          column: 6
        },
        end: {
          line: 132,
          column: 61
        }
      },
      "22": {
        start: {
          line: 133,
          column: 6
        },
        end: {
          line: 133,
          column: 16
        }
      },
      "23": {
        start: {
          line: 145,
          column: 4
        },
        end: {
          line: 159,
          column: 5
        }
      },
      "24": {
        start: {
          line: 146,
          column: 30
        },
        end: {
          line: 150,
          column: 8
        }
      },
      "25": {
        start: {
          line: 151,
          column: 6
        },
        end: {
          line: 153,
          column: 7
        }
      },
      "26": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 152,
          column: 39
        }
      },
      "27": {
        start: {
          line: 155,
          column: 6
        },
        end: {
          line: 155,
          column: 18
        }
      },
      "28": {
        start: {
          line: 157,
          column: 6
        },
        end: {
          line: 157,
          column: 62
        }
      },
      "29": {
        start: {
          line: 158,
          column: 6
        },
        end: {
          line: 158,
          column: 16
        }
      },
      "30": {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 181,
          column: 5
        }
      },
      "31": {
        start: {
          line: 169,
          column: 30
        },
        end: {
          line: 171,
          column: 8
        }
      },
      "32": {
        start: {
          line: 173,
          column: 6
        },
        end: {
          line: 175,
          column: 7
        }
      },
      "33": {
        start: {
          line: 174,
          column: 8
        },
        end: {
          line: 174,
          column: 39
        }
      },
      "34": {
        start: {
          line: 177,
          column: 6
        },
        end: {
          line: 177,
          column: 18
        }
      },
      "35": {
        start: {
          line: 179,
          column: 6
        },
        end: {
          line: 179,
          column: 51
        }
      },
      "36": {
        start: {
          line: 180,
          column: 6
        },
        end: {
          line: 180,
          column: 16
        }
      },
      "37": {
        start: {
          line: 189,
          column: 4
        },
        end: {
          line: 200,
          column: 5
        }
      },
      "38": {
        start: {
          line: 190,
          column: 30
        },
        end: {
          line: 190,
          column: 96
        }
      },
      "39": {
        start: {
          line: 192,
          column: 6
        },
        end: {
          line: 194,
          column: 7
        }
      },
      "40": {
        start: {
          line: 193,
          column: 8
        },
        end: {
          line: 193,
          column: 39
        }
      },
      "41": {
        start: {
          line: 196,
          column: 6
        },
        end: {
          line: 196,
          column: 18
        }
      },
      "42": {
        start: {
          line: 198,
          column: 6
        },
        end: {
          line: 198,
          column: 54
        }
      },
      "43": {
        start: {
          line: 199,
          column: 6
        },
        end: {
          line: 199,
          column: 16
        }
      },
      "44": {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 222,
          column: 5
        }
      },
      "45": {
        start: {
          line: 210,
          column: 30
        },
        end: {
          line: 212,
          column: 8
        }
      },
      "46": {
        start: {
          line: 214,
          column: 6
        },
        end: {
          line: 216,
          column: 7
        }
      },
      "47": {
        start: {
          line: 215,
          column: 8
        },
        end: {
          line: 215,
          column: 39
        }
      },
      "48": {
        start: {
          line: 218,
          column: 6
        },
        end: {
          line: 218,
          column: 18
        }
      },
      "49": {
        start: {
          line: 220,
          column: 6
        },
        end: {
          line: 220,
          column: 65
        }
      },
      "50": {
        start: {
          line: 221,
          column: 6
        },
        end: {
          line: 221,
          column: 16
        }
      },
      "51": {
        start: {
          line: 231,
          column: 4
        },
        end: {
          line: 247,
          column: 5
        }
      },
      "52": {
        start: {
          line: 233,
          column: 39
        },
        end: {
          line: 237,
          column: 17
        }
      },
      "53": {
        start: {
          line: 239,
          column: 6
        },
        end: {
          line: 241,
          column: 7
        }
      },
      "54": {
        start: {
          line: 240,
          column: 8
        },
        end: {
          line: 240,
          column: 39
        }
      },
      "55": {
        start: {
          line: 243,
          column: 6
        },
        end: {
          line: 243,
          column: 59
        }
      },
      "56": {
        start: {
          line: 245,
          column: 6
        },
        end: {
          line: 245,
          column: 64
        }
      },
      "57": {
        start: {
          line: 246,
          column: 6
        },
        end: {
          line: 246,
          column: 19
        }
      },
      "58": {
        start: {
          line: 262,
          column: 4
        },
        end: {
          line: 296,
          column: 5
        }
      },
      "59": {
        start: {
          line: 264,
          column: 36
        },
        end: {
          line: 264,
          column: 68
        }
      },
      "60": {
        start: {
          line: 266,
          column: 6
        },
        end: {
          line: 268,
          column: 7
        }
      },
      "61": {
        start: {
          line: 267,
          column: 8
        },
        end: {
          line: 267,
          column: 45
        }
      },
      "62": {
        start: {
          line: 270,
          column: 18
        },
        end: {
          line: 270,
          column: 47
        }
      },
      "63": {
        start: {
          line: 271,
          column: 22
        },
        end: {
          line: 274,
          column: 7
        }
      },
      "64": {
        start: {
          line: 277,
          column: 6
        },
        end: {
          line: 285,
          column: 7
        }
      },
      "65": {
        start: {
          line: 278,
          column: 8
        },
        end: {
          line: 278,
          column: 57
        }
      },
      "66": {
        start: {
          line: 280,
          column: 8
        },
        end: {
          line: 284,
          column: 11
        }
      },
      "67": {
        start: {
          line: 287,
          column: 6
        },
        end: {
          line: 290,
          column: 7
        }
      },
      "68": {
        start: {
          line: 288,
          column: 26
        },
        end: {
          line: 288,
          column: 47
        }
      },
      "69": {
        start: {
          line: 289,
          column: 8
        },
        end: {
          line: 289,
          column: 76
        }
      },
      "70": {
        start: {
          line: 292,
          column: 19
        },
        end: {
          line: 292,
          column: 40
        }
      },
      "71": {
        start: {
          line: 293,
          column: 6
        },
        end: {
          line: 293,
          column: 46
        }
      },
      "72": {
        start: {
          line: 295,
          column: 6
        },
        end: {
          line: 295,
          column: 52
        }
      },
      "73": {
        start: {
          line: 301,
          column: 26
        },
        end: {
          line: 301,
          column: 42
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 62,
            column: 2
          },
          end: {
            line: 62,
            column: 3
          }
        },
        loc: {
          start: {
            line: 62,
            column: 16
          },
          end: {
            line: 68,
            column: 3
          }
        },
        line: 62
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 74,
            column: 2
          },
          end: {
            line: 74,
            column: 3
          }
        },
        loc: {
          start: {
            line: 74,
            column: 58
          },
          end: {
            line: 86,
            column: 3
          }
        },
        line: 74
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 94,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        },
        loc: {
          start: {
            line: 94,
            column: 89
          },
          end: {
            line: 109,
            column: 3
          }
        },
        line: 94
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 118,
            column: 2
          },
          end: {
            line: 118,
            column: 3
          }
        },
        loc: {
          start: {
            line: 118,
            column: 107
          },
          end: {
            line: 135,
            column: 3
          }
        },
        line: 118
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 144,
            column: 2
          },
          end: {
            line: 144,
            column: 3
          }
        },
        loc: {
          start: {
            line: 144,
            column: 109
          },
          end: {
            line: 160,
            column: 3
          }
        },
        line: 144
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 167,
            column: 2
          },
          end: {
            line: 167,
            column: 3
          }
        },
        loc: {
          start: {
            line: 167,
            column: 82
          },
          end: {
            line: 182,
            column: 3
          }
        },
        line: 167
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 188,
            column: 2
          },
          end: {
            line: 188,
            column: 3
          }
        },
        loc: {
          start: {
            line: 188,
            column: 51
          },
          end: {
            line: 201,
            column: 3
          }
        },
        line: 188
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 208,
            column: 2
          },
          end: {
            line: 208,
            column: 3
          }
        },
        loc: {
          start: {
            line: 208,
            column: 80
          },
          end: {
            line: 223,
            column: 3
          }
        },
        line: 208
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 230,
            column: 2
          },
          end: {
            line: 230,
            column: 3
          }
        },
        loc: {
          start: {
            line: 230,
            column: 56
          },
          end: {
            line: 248,
            column: 3
          }
        },
        line: 230
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 257,
            column: 2
          },
          end: {
            line: 257,
            column: 3
          }
        },
        loc: {
          start: {
            line: 261,
            column: 47
          },
          end: {
            line: 297,
            column: 3
          }
        },
        line: 261
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 65,
            column: 32
          },
          end: {
            line: 65,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 65,
            column: 32
          },
          end: {
            line: 65,
            column: 53
          }
        }, {
          start: {
            line: 65,
            column: 57
          },
          end: {
            line: 65,
            column: 59
          }
        }],
        line: 65
      },
      "1": {
        loc: {
          start: {
            line: 77,
            column: 6
          },
          end: {
            line: 79,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 6
          },
          end: {
            line: 79,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 77
      },
      "2": {
        loc: {
          start: {
            line: 100,
            column: 6
          },
          end: {
            line: 102,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 6
          },
          end: {
            line: 102,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "3": {
        loc: {
          start: {
            line: 126,
            column: 6
          },
          end: {
            line: 128,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 126,
            column: 6
          },
          end: {
            line: 128,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 126
      },
      "4": {
        loc: {
          start: {
            line: 151,
            column: 6
          },
          end: {
            line: 153,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 6
          },
          end: {
            line: 153,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "5": {
        loc: {
          start: {
            line: 173,
            column: 6
          },
          end: {
            line: 175,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 173,
            column: 6
          },
          end: {
            line: 175,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 173
      },
      "6": {
        loc: {
          start: {
            line: 192,
            column: 6
          },
          end: {
            line: 194,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 192,
            column: 6
          },
          end: {
            line: 194,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 192
      },
      "7": {
        loc: {
          start: {
            line: 214,
            column: 6
          },
          end: {
            line: 216,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 214,
            column: 6
          },
          end: {
            line: 216,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 214
      },
      "8": {
        loc: {
          start: {
            line: 239,
            column: 6
          },
          end: {
            line: 241,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 239,
            column: 6
          },
          end: {
            line: 241,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 239
      },
      "9": {
        loc: {
          start: {
            line: 243,
            column: 13
          },
          end: {
            line: 243,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 243,
            column: 13
          },
          end: {
            line: 243,
            column: 33
          }
        }, {
          start: {
            line: 243,
            column: 37
          },
          end: {
            line: 243,
            column: 58
          }
        }],
        line: 243
      },
      "10": {
        loc: {
          start: {
            line: 259,
            column: 4
          },
          end: {
            line: 259,
            column: 34
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 259,
            column: 32
          },
          end: {
            line: 259,
            column: 34
          }
        }],
        line: 259
      },
      "11": {
        loc: {
          start: {
            line: 260,
            column: 4
          },
          end: {
            line: 260,
            column: 35
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 260,
            column: 29
          },
          end: {
            line: 260,
            column: 35
          }
        }],
        line: 260
      },
      "12": {
        loc: {
          start: {
            line: 266,
            column: 6
          },
          end: {
            line: 268,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 266,
            column: 6
          },
          end: {
            line: 268,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 266
      },
      "13": {
        loc: {
          start: {
            line: 277,
            column: 6
          },
          end: {
            line: 285,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 277,
            column: 6
          },
          end: {
            line: 285,
            column: 7
          }
        }, {
          start: {
            line: 279,
            column: 13
          },
          end: {
            line: 285,
            column: 7
          }
        }],
        line: 277
      },
      "14": {
        loc: {
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 290,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 290,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 287
      },
      "15": {
        loc: {
          start: {
            line: 289,
            column: 24
          },
          end: {
            line: 289,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 289,
            column: 24
          },
          end: {
            line: 289,
            column: 39
          }
        }, {
          start: {
            line: 289,
            column: 43
          },
          end: {
            line: 289,
            column: 74
          }
        }],
        line: 289
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0],
      "11": [0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7aa2f2a936f0dc1487c6dab3147fc8f2281729b5"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_7p9bcyhz4 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_7p9bcyhz4();
import { supabase } from '../supabase';
export var MFAService = function () {
  function MFAService() {
    var _ref;
    _classCallCheck(this, MFAService);
    cov_7p9bcyhz4().f[0]++;
    var supabaseUrl = (cov_7p9bcyhz4().s[0]++, (_ref = (cov_7p9bcyhz4().b[0][0]++, supabase.url)) != null ? _ref : (cov_7p9bcyhz4().b[0][1]++, ""));
    cov_7p9bcyhz4().s[1]++;
    this.baseUrl = supabaseUrl.replace("/auth/v1", "/functions/v1/mfa");
  }
  return _createClass(MFAService, [{
    key: "startEnrollment",
    value: (function () {
      var _startEnrollment = _asyncToGenerator(function* () {
        cov_7p9bcyhz4().f[1]++;
        cov_7p9bcyhz4().s[2]++;
        try {
          var _ref2 = (cov_7p9bcyhz4().s[3]++, yield this.callMFAEndpoint("enroll", {}, "GET")),
            data = _ref2.data,
            error = _ref2.error;
          cov_7p9bcyhz4().s[4]++;
          if (error) {
            cov_7p9bcyhz4().b[1][0]++;
            cov_7p9bcyhz4().s[5]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[1][1]++;
          }
          cov_7p9bcyhz4().s[6]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[7]++;
          console.error("Failed to start MFA enrollment:", err);
          cov_7p9bcyhz4().s[8]++;
          throw err;
        }
      });
      function startEnrollment() {
        return _startEnrollment.apply(this, arguments);
      }
      return startEnrollment;
    }())
  }, {
    key: "verifySetup",
    value: (function () {
      var _verifySetup = _asyncToGenerator(function* (code, challengeId) {
        cov_7p9bcyhz4().f[2]++;
        cov_7p9bcyhz4().s[9]++;
        try {
          var _ref3 = (cov_7p9bcyhz4().s[10]++, yield this.callMFAEndpoint("verify", {
              code: code,
              challengeId: challengeId
            })),
            data = _ref3.data,
            error = _ref3.error;
          cov_7p9bcyhz4().s[11]++;
          if (error) {
            cov_7p9bcyhz4().b[2][0]++;
            cov_7p9bcyhz4().s[12]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[2][1]++;
          }
          cov_7p9bcyhz4().s[13]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[14]++;
          console.error("Failed to verify MFA setup:", err);
          cov_7p9bcyhz4().s[15]++;
          throw err;
        }
      });
      function verifySetup(_x, _x2) {
        return _verifySetup.apply(this, arguments);
      }
      return verifySetup;
    }())
  }, {
    key: "authenticate",
    value: (function () {
      var _authenticate = _asyncToGenerator(function* (code, userId, sessionId) {
        cov_7p9bcyhz4().f[3]++;
        cov_7p9bcyhz4().s[16]++;
        try {
          var _ref4 = (cov_7p9bcyhz4().s[17]++, yield this.callMFAEndpoint("authenticate", {
              code: code,
              userId: userId,
              sessionId: sessionId
            })),
            data = _ref4.data,
            error = _ref4.error;
          cov_7p9bcyhz4().s[18]++;
          if (error) {
            cov_7p9bcyhz4().b[3][0]++;
            cov_7p9bcyhz4().s[19]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[3][1]++;
          }
          cov_7p9bcyhz4().s[20]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[21]++;
          console.error("Failed to authenticate with MFA:", err);
          cov_7p9bcyhz4().s[22]++;
          throw err;
        }
      });
      function authenticate(_x3, _x4, _x5) {
        return _authenticate.apply(this, arguments);
      }
      return authenticate;
    }())
  }, {
    key: "validateRecoveryCode",
    value: (function () {
      var _validateRecoveryCode = _asyncToGenerator(function* (code, userId, sessionId) {
        cov_7p9bcyhz4().f[4]++;
        cov_7p9bcyhz4().s[23]++;
        try {
          var _ref5 = (cov_7p9bcyhz4().s[24]++, yield this.callMFAEndpoint("validate-recovery", {
              code: code,
              userId: userId,
              sessionId: sessionId
            })),
            data = _ref5.data,
            error = _ref5.error;
          cov_7p9bcyhz4().s[25]++;
          if (error) {
            cov_7p9bcyhz4().b[4][0]++;
            cov_7p9bcyhz4().s[26]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[4][1]++;
          }
          cov_7p9bcyhz4().s[27]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[28]++;
          console.error("Failed to validate recovery code:", err);
          cov_7p9bcyhz4().s[29]++;
          throw err;
        }
      });
      function validateRecoveryCode(_x6, _x7, _x8) {
        return _validateRecoveryCode.apply(this, arguments);
      }
      return validateRecoveryCode;
    }())
  }, {
    key: "disableMFA",
    value: (function () {
      var _disableMFA = _asyncToGenerator(function* (code) {
        cov_7p9bcyhz4().f[5]++;
        cov_7p9bcyhz4().s[30]++;
        try {
          var _ref6 = (cov_7p9bcyhz4().s[31]++, yield this.callMFAEndpoint("disable", {
              code: code
            })),
            data = _ref6.data,
            error = _ref6.error;
          cov_7p9bcyhz4().s[32]++;
          if (error) {
            cov_7p9bcyhz4().b[5][0]++;
            cov_7p9bcyhz4().s[33]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[5][1]++;
          }
          cov_7p9bcyhz4().s[34]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[35]++;
          console.error("Failed to disable MFA:", err);
          cov_7p9bcyhz4().s[36]++;
          throw err;
        }
      });
      function disableMFA(_x9) {
        return _disableMFA.apply(this, arguments);
      }
      return disableMFA;
    }())
  }, {
    key: "getMFAStatus",
    value: (function () {
      var _getMFAStatus = _asyncToGenerator(function* () {
        cov_7p9bcyhz4().f[6]++;
        cov_7p9bcyhz4().s[37]++;
        try {
          var _ref7 = (cov_7p9bcyhz4().s[38]++, yield this.callMFAEndpoint("status", {}, "GET")),
            data = _ref7.data,
            error = _ref7.error;
          cov_7p9bcyhz4().s[39]++;
          if (error) {
            cov_7p9bcyhz4().b[6][0]++;
            cov_7p9bcyhz4().s[40]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[6][1]++;
          }
          cov_7p9bcyhz4().s[41]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[42]++;
          console.error("Failed to get MFA status:", err);
          cov_7p9bcyhz4().s[43]++;
          throw err;
        }
      });
      function getMFAStatus() {
        return _getMFAStatus.apply(this, arguments);
      }
      return getMFAStatus;
    }())
  }, {
    key: "regenerateRecoveryCodes",
    value: (function () {
      var _regenerateRecoveryCodes = _asyncToGenerator(function* (code) {
        cov_7p9bcyhz4().f[7]++;
        cov_7p9bcyhz4().s[44]++;
        try {
          var _ref8 = (cov_7p9bcyhz4().s[45]++, yield this.callMFAEndpoint("regenerate-recovery-codes", {
              code: code
            })),
            data = _ref8.data,
            error = _ref8.error;
          cov_7p9bcyhz4().s[46]++;
          if (error) {
            cov_7p9bcyhz4().b[7][0]++;
            cov_7p9bcyhz4().s[47]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[7][1]++;
          }
          cov_7p9bcyhz4().s[48]++;
          return data;
        } catch (err) {
          cov_7p9bcyhz4().s[49]++;
          console.error("Failed to regenerate recovery codes:", err);
          cov_7p9bcyhz4().s[50]++;
          throw err;
        }
      });
      function regenerateRecoveryCodes(_x0) {
        return _regenerateRecoveryCodes.apply(this, arguments);
      }
      return regenerateRecoveryCodes;
    }())
  }, {
    key: "isMFARequired",
    value: (function () {
      var _isMFARequired = _asyncToGenerator(function* (userId) {
        cov_7p9bcyhz4().f[8]++;
        cov_7p9bcyhz4().s[51]++;
        try {
          var _ref9 = (cov_7p9bcyhz4().s[52]++, yield supabase.from("profiles").select("mfa_enabled, mfa_verified").eq("id", userId).single()),
            profile = _ref9.data,
            error = _ref9.error;
          cov_7p9bcyhz4().s[53]++;
          if (error) {
            cov_7p9bcyhz4().b[8][0]++;
            cov_7p9bcyhz4().s[54]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[8][1]++;
          }
          cov_7p9bcyhz4().s[55]++;
          return (cov_7p9bcyhz4().b[9][0]++, profile == null ? void 0 : profile.mfa_enabled) && (cov_7p9bcyhz4().b[9][1]++, profile == null ? void 0 : profile.mfa_verified);
        } catch (err) {
          cov_7p9bcyhz4().s[56]++;
          console.error("Failed to check if MFA is required:", err);
          cov_7p9bcyhz4().s[57]++;
          return false;
        }
      });
      function isMFARequired(_x1) {
        return _isMFARequired.apply(this, arguments);
      }
      return isMFARequired;
    }())
  }, {
    key: "callMFAEndpoint",
    value: (function () {
      var _callMFAEndpoint = _asyncToGenerator(function* (endpoint) {
        var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (cov_7p9bcyhz4().b[10][0]++, {});
        var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (cov_7p9bcyhz4().b[11][0]++, "POST");
        cov_7p9bcyhz4().f[9]++;
        cov_7p9bcyhz4().s[58]++;
        try {
          var _ref0 = (cov_7p9bcyhz4().s[59]++, yield supabase.auth.getSession()),
            session = _ref0.data.session;
          cov_7p9bcyhz4().s[60]++;
          if (!session) {
            cov_7p9bcyhz4().b[12][0]++;
            cov_7p9bcyhz4().s[61]++;
            throw new Error("No active session");
          } else {
            cov_7p9bcyhz4().b[12][1]++;
          }
          var url = (cov_7p9bcyhz4().s[62]++, `${this.baseUrl}/${endpoint}`);
          var headers = (cov_7p9bcyhz4().s[63]++, {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${session.access_token}`
          });
          var response;
          cov_7p9bcyhz4().s[64]++;
          if (method === "GET") {
            cov_7p9bcyhz4().b[13][0]++;
            cov_7p9bcyhz4().s[65]++;
            response = yield fetch(url, {
              headers: headers,
              method: method
            });
          } else {
            cov_7p9bcyhz4().b[13][1]++;
            cov_7p9bcyhz4().s[66]++;
            response = yield fetch(url, {
              method: method,
              headers: headers,
              body: JSON.stringify(body)
            });
          }
          cov_7p9bcyhz4().s[67]++;
          if (!response.ok) {
            cov_7p9bcyhz4().b[14][0]++;
            var errorData = (cov_7p9bcyhz4().s[68]++, yield response.json());
            cov_7p9bcyhz4().s[69]++;
            throw new Error((cov_7p9bcyhz4().b[15][0]++, errorData.error) || (cov_7p9bcyhz4().b[15][1]++, `HTTP error ${response.status}`));
          } else {
            cov_7p9bcyhz4().b[14][1]++;
          }
          var data = (cov_7p9bcyhz4().s[70]++, yield response.json());
          cov_7p9bcyhz4().s[71]++;
          return {
            data: data,
            error: null
          };
        } catch (err) {
          cov_7p9bcyhz4().s[72]++;
          return {
            data: {},
            error: err
          };
        }
      });
      function callMFAEndpoint(_x10) {
        return _callMFAEndpoint.apply(this, arguments);
      }
      return callMFAEndpoint;
    }())
  }]);
}();
export var mfaService = (cov_7p9bcyhz4().s[73]++, new MFAService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdXBhYmFzZSIsIk1GQVNlcnZpY2UiLCJfcmVmIiwiX2NsYXNzQ2FsbENoZWNrIiwiY292XzdwOWJjeWh6NCIsImYiLCJzdXBhYmFzZVVybCIsInMiLCJiIiwidXJsIiwiYmFzZVVybCIsInJlcGxhY2UiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl9zdGFydEVucm9sbG1lbnQiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWYyIiwiY2FsbE1GQUVuZHBvaW50IiwiZGF0YSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwiZXJyIiwiY29uc29sZSIsInN0YXJ0RW5yb2xsbWVudCIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3ZlcmlmeVNldHVwIiwiY29kZSIsImNoYWxsZW5nZUlkIiwiX3JlZjMiLCJ2ZXJpZnlTZXR1cCIsIl94IiwiX3gyIiwiX2F1dGhlbnRpY2F0ZSIsInVzZXJJZCIsInNlc3Npb25JZCIsIl9yZWY0IiwiYXV0aGVudGljYXRlIiwiX3gzIiwiX3g0IiwiX3g1IiwiX3ZhbGlkYXRlUmVjb3ZlcnlDb2RlIiwiX3JlZjUiLCJ2YWxpZGF0ZVJlY292ZXJ5Q29kZSIsIl94NiIsIl94NyIsIl94OCIsIl9kaXNhYmxlTUZBIiwiX3JlZjYiLCJkaXNhYmxlTUZBIiwiX3g5IiwiX2dldE1GQVN0YXR1cyIsIl9yZWY3IiwiZ2V0TUZBU3RhdHVzIiwiX3JlZ2VuZXJhdGVSZWNvdmVyeUNvZGVzIiwiX3JlZjgiLCJyZWdlbmVyYXRlUmVjb3ZlcnlDb2RlcyIsIl94MCIsIl9pc01GQVJlcXVpcmVkIiwiX3JlZjkiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJwcm9maWxlIiwibWZhX2VuYWJsZWQiLCJtZmFfdmVyaWZpZWQiLCJpc01GQVJlcXVpcmVkIiwiX3gxIiwiX2NhbGxNRkFFbmRwb2ludCIsImVuZHBvaW50IiwiYm9keSIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm1ldGhvZCIsIl9yZWYwIiwiYXV0aCIsImdldFNlc3Npb24iLCJzZXNzaW9uIiwiaGVhZGVycyIsImFjY2Vzc190b2tlbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwic3RhdHVzIiwiX3gxMCIsIm1mYVNlcnZpY2UiXSwic291cmNlcyI6WyJtZmFTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vc3VwYWJhc2UnO1xuXG4vKipcbiAqIE1GQSBlbnJvbGxtZW50IHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUZBRW5yb2xsbWVudFJlc3BvbnNlIHtcbiAgc2VjcmV0OiBzdHJpbmc7XG4gIHFyQ29kZTogc3RyaW5nO1xuICBjaGFsbGVuZ2VJZDogc3RyaW5nO1xuICBhbGdvcml0aG06IHN0cmluZztcbiAgZGlnaXRzOiBudW1iZXI7XG4gIHBlcmlvZDogbnVtYmVyO1xufVxuXG4vKipcbiAqIE1GQSB2ZXJpZmljYXRpb24gcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNRkFWZXJpZmljYXRpb25SZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHJlY292ZXJ5Q29kZXM6IHN0cmluZ1tdO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogTUZBIGF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUZBQXV0aGVudGljYXRpb25SZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIE1GQSByZWNvdmVyeSBjb2RlIHZhbGlkYXRpb24gcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNRkFSZWNvdmVyeVJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG4gIHJlY292ZXJ5Q29kZXNSZW1haW5pbmc6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNRkEgc3RhdHVzIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUZBU3RhdHVzUmVzcG9uc2Uge1xuICBtZmFFbmFibGVkOiBib29sZWFuO1xuICBtZmFWZXJpZmllZDogYm9vbGVhbjtcbiAgZW5yb2xsbWVudFRpbWU6IHN0cmluZyB8IG51bGw7XG4gIHJlY292ZXJ5Q29kZXNSZW1haW5pbmc6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNRkEgc2VydmljZSBmb3IgbWFuYWdpbmcgTXVsdGktRmFjdG9yIEF1dGhlbnRpY2F0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBNRkFTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBiYXNlVXJsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBHZXQgdGhlIGJhc2UgU3VwYWJhc2UgVVJMIGZyb20gdGhlIGNsaWVudCAocHVibGljIHByb3BlcnR5KS5cbiAgICAvLyBXZSBjYXN0IHRvIGBhbnlgIHRvIGF2b2lkIFR5cGVTY3JpcHQgY29tcGxhaW5pbmcgYWJvdXQgcHJvdGVjdGVkIG1lbWJlcnMuXG4gICAgY29uc3Qgc3VwYWJhc2VVcmw6IHN0cmluZyA9IChzdXBhYmFzZSBhcyBhbnkpLnVybCA/PyBcIlwiO1xuICAgIC8vIFJlcGxhY2UgdGhlIGF1dGggcGFydCB3aXRoIGZ1bmN0aW9uc1xuICAgIHRoaXMuYmFzZVVybCA9IHN1cGFiYXNlVXJsLnJlcGxhY2UoXCIvYXV0aC92MVwiLCBcIi9mdW5jdGlvbnMvdjEvbWZhXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IE1GQSBlbnJvbGxtZW50IHByb2Nlc3NcbiAgICogQHJldHVybnMgTUZBIGVucm9sbG1lbnQgZGF0YSBpbmNsdWRpbmcgc2VjcmV0IGFuZCBRUiBjb2RlXG4gICAqL1xuICBhc3luYyBzdGFydEVucm9sbG1lbnQoKTogUHJvbWlzZTxNRkFFbnJvbGxtZW50UmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jYWxsTUZBRW5kcG9pbnQ8TUZBRW5yb2xsbWVudFJlc3BvbnNlPihcImVucm9sbFwiLCB7fSwgXCJHRVRcIik7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc3RhcnQgTUZBIGVucm9sbG1lbnQ6XCIsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBNRkEgc2V0dXAgd2l0aCBhIFRPVFAgY29kZVxuICAgKiBAcGFyYW0gY29kZSAtIFRoZSBUT1RQIGNvZGUgZnJvbSB0aGUgYXV0aGVudGljYXRvciBhcHBcbiAgICogQHBhcmFtIGNoYWxsZW5nZUlkIC0gVGhlIGNoYWxsZW5nZSBJRCBmcm9tIGVucm9sbG1lbnRcbiAgICogQHJldHVybnMgVmVyaWZpY2F0aW9uIHJlc3VsdCB3aXRoIHJlY292ZXJ5IGNvZGVzXG4gICAqL1xuICBhc3luYyB2ZXJpZnlTZXR1cChjb2RlOiBzdHJpbmcsIGNoYWxsZW5nZUlkOiBzdHJpbmcpOiBQcm9taXNlPE1GQVZlcmlmaWNhdGlvblJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2FsbE1GQUVuZHBvaW50PE1GQVZlcmlmaWNhdGlvblJlc3BvbnNlPihcInZlcmlmeVwiLCB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIGNoYWxsZW5nZUlkXG4gICAgICB9KTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB2ZXJpZnkgTUZBIHNldHVwOlwiLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBdXRoZW50aWNhdGUgd2l0aCBNRkEgZHVyaW5nIGxvZ2luXG4gICAqIEBwYXJhbSBjb2RlIC0gVGhlIFRPVFAgY29kZSBmcm9tIHRoZSBhdXRoZW50aWNhdG9yIGFwcFxuICAgKiBAcGFyYW0gdXNlcklkIC0gVGhlIHVzZXIgSUQgdG8gYXV0aGVudGljYXRlXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgLSBPcHRpb25hbCBzZXNzaW9uIElEIGZvciB0cmFja2luZ1xuICAgKiBAcmV0dXJucyBBdXRoZW50aWNhdGlvbiByZXN1bHRcbiAgICovXG4gIGFzeW5jIGF1dGhlbnRpY2F0ZShjb2RlOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBzZXNzaW9uSWQ/OiBzdHJpbmcpOiBQcm9taXNlPE1GQUF1dGhlbnRpY2F0aW9uUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jYWxsTUZBRW5kcG9pbnQ8TUZBQXV0aGVudGljYXRpb25SZXNwb25zZT4oXCJhdXRoZW50aWNhdGVcIiwge1xuICAgICAgICBjb2RlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIHNlc3Npb25JZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBhdXRoZW50aWNhdGUgd2l0aCBNRkE6XCIsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgcmVjb3ZlcnkgY29kZVxuICAgKiBAcGFyYW0gY29kZSAtIFRoZSByZWNvdmVyeSBjb2RlXG4gICAqIEBwYXJhbSB1c2VySWQgLSBUaGUgdXNlciBJRFxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIC0gT3B0aW9uYWwgc2Vzc2lvbiBJRCBmb3IgdHJhY2tpbmdcbiAgICogQHJldHVybnMgVmFsaWRhdGlvbiByZXN1bHRcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlUmVjb3ZlcnlDb2RlKGNvZGU6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIHNlc3Npb25JZD86IHN0cmluZyk6IFByb21pc2U8TUZBUmVjb3ZlcnlSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNhbGxNRkFFbmRwb2ludDxNRkFSZWNvdmVyeVJlc3BvbnNlPihcInZhbGlkYXRlLXJlY292ZXJ5XCIsIHtcbiAgICAgICAgY29kZSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBzZXNzaW9uSWRcbiAgICAgIH0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHZhbGlkYXRlIHJlY292ZXJ5IGNvZGU6XCIsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgTUZBIGZvciB0aGUgY3VycmVudCB1c2VyXG4gICAqIEBwYXJhbSBjb2RlIC0gT3B0aW9uYWwgVE9UUCBjb2RlIGZvciB2ZXJpZmljYXRpb24gKHJlcXVpcmVkIGZvciBub24tYWRtaW4gdXNlcnMpXG4gICAqIEByZXR1cm5zIFJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBhc3luYyBkaXNhYmxlTUZBKGNvZGU/OiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jYWxsTUZBRW5kcG9pbnQ8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4oXCJkaXNhYmxlXCIsIHtcbiAgICAgICAgY29kZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBkaXNhYmxlIE1GQTpcIiwgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IE1GQSBzdGF0dXNcbiAgICogQHJldHVybnMgTUZBIHN0YXR1cyBpbmZvcm1hdGlvblxuICAgKi9cbiAgYXN5bmMgZ2V0TUZBU3RhdHVzKCk6IFByb21pc2U8TUZBU3RhdHVzUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jYWxsTUZBRW5kcG9pbnQ8TUZBU3RhdHVzUmVzcG9uc2U+KFwic3RhdHVzXCIsIHt9LCBcIkdFVFwiKTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBNRkEgc3RhdHVzOlwiLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdlbmVyYXRlIHJlY292ZXJ5IGNvZGVzXG4gICAqIEBwYXJhbSBjb2RlIC0gVE9UUCBjb2RlIGZvciB2ZXJpZmljYXRpb25cbiAgICogQHJldHVybnMgTmV3IHJlY292ZXJ5IGNvZGVzXG4gICAqL1xuICBhc3luYyByZWdlbmVyYXRlUmVjb3ZlcnlDb2Rlcyhjb2RlOiBzdHJpbmcpOiBQcm9taXNlPE1GQVZlcmlmaWNhdGlvblJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuY2FsbE1GQUVuZHBvaW50PE1GQVZlcmlmaWNhdGlvblJlc3BvbnNlPihcInJlZ2VuZXJhdGUtcmVjb3ZlcnktY29kZXNcIiwge1xuICAgICAgICBjb2RlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlZ2VuZXJhdGUgcmVjb3ZlcnkgY29kZXM6XCIsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIE1GQSBpcyByZXF1aXJlZCBmb3IgYSB1c2VyXG4gICAqIEBwYXJhbSB1c2VySWQgLSBVc2VyIElEIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgTUZBIGlzIHJlcXVpcmVkXG4gICAqL1xuICBhc3luYyBpc01GQVJlcXVpcmVkKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB1c2VyIHByb2ZpbGUgdG8gY2hlY2sgaWYgTUZBIGlzIGVuYWJsZWRcbiAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwicHJvZmlsZXNcIilcbiAgICAgICAgLnNlbGVjdChcIm1mYV9lbmFibGVkLCBtZmFfdmVyaWZpZWRcIilcbiAgICAgICAgLmVxKFwiaWRcIiwgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBwcm9maWxlPy5tZmFfZW5hYmxlZCAmJiBwcm9maWxlPy5tZmFfdmVyaWZpZWQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNoZWNrIGlmIE1GQSBpcyByZXF1aXJlZDpcIiwgZXJyKTtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRGVmYXVsdCB0byBub3QgcmVxdWlyaW5nIE1GQSBvbiBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGFuIE1GQSBlbmRwb2ludFxuICAgKiBAcGFyYW0gZW5kcG9pbnQgLSBFbmRwb2ludCB0byBjYWxsXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBtZXRob2QgLSBIVFRQIG1ldGhvZFxuICAgKiBAcmV0dXJucyBSZXNwb25zZSBkYXRhIGFuZCBlcnJvclxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjYWxsTUZBRW5kcG9pbnQ8VD4oXG4gICAgZW5kcG9pbnQ6IHN0cmluZyxcbiAgICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30sXG4gICAgbWV0aG9kOiBcIkdFVFwiIHwgXCJQT1NUXCIgPSBcIlBPU1RcIlxuICApOiBQcm9taXNlPHsgZGF0YTogVDsgZXJyb3I6IEVycm9yIHwgbnVsbCB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSBzZXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9LyR7ZW5kcG9pbnR9YDtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYEJlYXJlciAke3Nlc3Npb24uYWNjZXNzX3Rva2VufWBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGxldCByZXNwb25zZTtcbiAgICAgIGlmIChtZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHsgaGVhZGVycywgbWV0aG9kIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEhUVFAgZXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBkYXRhIGFzIFQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyBkYXRhOiB7fSBhcyBULCBlcnJvcjogZXJyIGFzIEVycm9yIH07XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cG9ydCBhIHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IG1mYVNlcnZpY2UgPSBuZXcgTUZBU2VydmljZSgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFNBQVNBLFFBQVEsUUFBUSxhQUFhO0FBdUR0QyxXQUFhQyxVQUFVO0VBTXJCLFNBQUFBLFdBQUEsRUFBYztJQUFBLElBQUFDLElBQUE7SUFBQUMsZUFBQSxPQUFBRixVQUFBO0lBQUFHLGFBQUEsR0FBQUMsQ0FBQTtJQUdaLElBQU1DLFdBQW1CLElBQUFGLGFBQUEsR0FBQUcsQ0FBQSxRQUFBTCxJQUFBLElBQUFFLGFBQUEsR0FBQUksQ0FBQSxVQUFJUixRQUFRLENBQVNTLEdBQUcsYUFBQVAsSUFBQSxJQUFBRSxhQUFBLEdBQUFJLENBQUEsVUFBSSxFQUFFO0lBQUNKLGFBQUEsR0FBQUcsQ0FBQTtJQUV4RCxJQUFJLENBQUNHLE9BQU8sR0FBR0osV0FBVyxDQUFDSyxPQUFPLENBQUMsVUFBVSxFQUFFLG1CQUFtQixDQUFDO0VBQ3JFO0VBQUMsT0FBQUMsWUFBQSxDQUFBWCxVQUFBO0lBQUFZLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFDLGdCQUFBLEdBQUFDLGlCQUFBLENBTUQsYUFBd0Q7UUFBQVosYUFBQSxHQUFBQyxDQUFBO1FBQUFELGFBQUEsR0FBQUcsQ0FBQTtRQUN0RCxJQUFJO1VBQ0YsSUFBQVUsS0FBQSxJQUFBYixhQUFBLEdBQUFHLENBQUEsYUFBOEIsSUFBSSxDQUFDVyxlQUFlLENBQXdCLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7WUFBdEZDLElBQUksR0FBQUYsS0FBQSxDQUFKRSxJQUFJO1lBQUVDLEtBQUssR0FBQUgsS0FBQSxDQUFMRyxLQUFLO1VBQTRFaEIsYUFBQSxHQUFBRyxDQUFBO1VBQy9GLElBQUlhLEtBQUssRUFBRTtZQUFBaEIsYUFBQSxHQUFBSSxDQUFBO1lBQUFKLGFBQUEsR0FBQUcsQ0FBQTtZQUNULE1BQU0sSUFBSWMsS0FBSyxDQUFDRCxLQUFLLENBQUNFLE9BQU8sQ0FBQztVQUNoQyxDQUFDO1lBQUFsQixhQUFBLEdBQUFJLENBQUE7VUFBQTtVQUFBSixhQUFBLEdBQUFHLENBQUE7VUFFRCxPQUFPWSxJQUFJO1FBQ2IsQ0FBQyxDQUFDLE9BQU9JLEdBQUcsRUFBRTtVQUFBbkIsYUFBQSxHQUFBRyxDQUFBO1VBQ1ppQixPQUFPLENBQUNKLEtBQUssQ0FBQyxpQ0FBaUMsRUFBRUcsR0FBRyxDQUFDO1VBQUNuQixhQUFBLEdBQUFHLENBQUE7VUFDdEQsTUFBTWdCLEdBQUc7UUFDWDtNQUNGLENBQUM7TUFBQSxTQVpLRSxlQUFlQSxDQUFBO1FBQUEsT0FBQVYsZ0JBQUEsQ0FBQVcsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFmRixlQUFlO0lBQUE7RUFBQTtJQUFBWixHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBYyxZQUFBLEdBQUFaLGlCQUFBLENBb0JyQixXQUFrQmEsSUFBWSxFQUFFQyxXQUFtQixFQUFvQztRQUFBMUIsYUFBQSxHQUFBQyxDQUFBO1FBQUFELGFBQUEsR0FBQUcsQ0FBQTtRQUNyRixJQUFJO1VBQ0YsSUFBQXdCLEtBQUEsSUFBQTNCLGFBQUEsR0FBQUcsQ0FBQSxjQUE4QixJQUFJLENBQUNXLGVBQWUsQ0FBMEIsUUFBUSxFQUFFO2NBQ3BGVyxJQUFJLEVBQUpBLElBQUk7Y0FDSkMsV0FBVyxFQUFYQTtZQUNGLENBQUMsQ0FBQztZQUhNWCxJQUFJLEdBQUFZLEtBQUEsQ0FBSlosSUFBSTtZQUFFQyxLQUFLLEdBQUFXLEtBQUEsQ0FBTFgsS0FBSztVQUdoQmhCLGFBQUEsR0FBQUcsQ0FBQTtVQUNILElBQUlhLEtBQUssRUFBRTtZQUFBaEIsYUFBQSxHQUFBSSxDQUFBO1lBQUFKLGFBQUEsR0FBQUcsQ0FBQTtZQUNULE1BQU0sSUFBSWMsS0FBSyxDQUFDRCxLQUFLLENBQUNFLE9BQU8sQ0FBQztVQUNoQyxDQUFDO1lBQUFsQixhQUFBLEdBQUFJLENBQUE7VUFBQTtVQUFBSixhQUFBLEdBQUFHLENBQUE7VUFFRCxPQUFPWSxJQUFJO1FBQ2IsQ0FBQyxDQUFDLE9BQU9JLEdBQUcsRUFBRTtVQUFBbkIsYUFBQSxHQUFBRyxDQUFBO1VBQ1ppQixPQUFPLENBQUNKLEtBQUssQ0FBQyw2QkFBNkIsRUFBRUcsR0FBRyxDQUFDO1VBQUNuQixhQUFBLEdBQUFHLENBQUE7VUFDbEQsTUFBTWdCLEdBQUc7UUFDWDtNQUNGLENBQUM7TUFBQSxTQWZLUyxXQUFXQSxDQUFBQyxFQUFBLEVBQUFDLEdBQUE7UUFBQSxPQUFBTixZQUFBLENBQUFGLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBWEssV0FBVztJQUFBO0VBQUE7SUFBQW5CLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFxQixhQUFBLEdBQUFuQixpQkFBQSxDQXdCakIsV0FBbUJhLElBQVksRUFBRU8sTUFBYyxFQUFFQyxTQUFrQixFQUFzQztRQUFBakMsYUFBQSxHQUFBQyxDQUFBO1FBQUFELGFBQUEsR0FBQUcsQ0FBQTtRQUN2RyxJQUFJO1VBQ0YsSUFBQStCLEtBQUEsSUFBQWxDLGFBQUEsR0FBQUcsQ0FBQSxjQUE4QixJQUFJLENBQUNXLGVBQWUsQ0FBNEIsY0FBYyxFQUFFO2NBQzVGVyxJQUFJLEVBQUpBLElBQUk7Y0FDSk8sTUFBTSxFQUFOQSxNQUFNO2NBQ05DLFNBQVMsRUFBVEE7WUFDRixDQUFDLENBQUM7WUFKTWxCLElBQUksR0FBQW1CLEtBQUEsQ0FBSm5CLElBQUk7WUFBRUMsS0FBSyxHQUFBa0IsS0FBQSxDQUFMbEIsS0FBSztVQUloQmhCLGFBQUEsR0FBQUcsQ0FBQTtVQUVILElBQUlhLEtBQUssRUFBRTtZQUFBaEIsYUFBQSxHQUFBSSxDQUFBO1lBQUFKLGFBQUEsR0FBQUcsQ0FBQTtZQUNULE1BQU0sSUFBSWMsS0FBSyxDQUFDRCxLQUFLLENBQUNFLE9BQU8sQ0FBQztVQUNoQyxDQUFDO1lBQUFsQixhQUFBLEdBQUFJLENBQUE7VUFBQTtVQUFBSixhQUFBLEdBQUFHLENBQUE7VUFFRCxPQUFPWSxJQUFJO1FBQ2IsQ0FBQyxDQUFDLE9BQU9JLEdBQUcsRUFBRTtVQUFBbkIsYUFBQSxHQUFBRyxDQUFBO1VBQ1ppQixPQUFPLENBQUNKLEtBQUssQ0FBQyxrQ0FBa0MsRUFBRUcsR0FBRyxDQUFDO1VBQUNuQixhQUFBLEdBQUFHLENBQUE7VUFDdkQsTUFBTWdCLEdBQUc7UUFDWDtNQUNGLENBQUM7TUFBQSxTQWpCS2dCLFlBQVlBLENBQUFDLEdBQUEsRUFBQUMsR0FBQSxFQUFBQyxHQUFBO1FBQUEsT0FBQVAsYUFBQSxDQUFBVCxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQVpZLFlBQVk7SUFBQTtFQUFBO0lBQUExQixHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBNkIscUJBQUEsR0FBQTNCLGlCQUFBLENBMEJsQixXQUEyQmEsSUFBWSxFQUFFTyxNQUFjLEVBQUVDLFNBQWtCLEVBQWdDO1FBQUFqQyxhQUFBLEdBQUFDLENBQUE7UUFBQUQsYUFBQSxHQUFBRyxDQUFBO1FBQ3pHLElBQUk7VUFDRixJQUFBcUMsS0FBQSxJQUFBeEMsYUFBQSxHQUFBRyxDQUFBLGNBQThCLElBQUksQ0FBQ1csZUFBZSxDQUFzQixtQkFBbUIsRUFBRTtjQUMzRlcsSUFBSSxFQUFKQSxJQUFJO2NBQ0pPLE1BQU0sRUFBTkEsTUFBTTtjQUNOQyxTQUFTLEVBQVRBO1lBQ0YsQ0FBQyxDQUFDO1lBSk1sQixJQUFJLEdBQUF5QixLQUFBLENBQUp6QixJQUFJO1lBQUVDLEtBQUssR0FBQXdCLEtBQUEsQ0FBTHhCLEtBQUs7VUFJaEJoQixhQUFBLEdBQUFHLENBQUE7VUFDSCxJQUFJYSxLQUFLLEVBQUU7WUFBQWhCLGFBQUEsR0FBQUksQ0FBQTtZQUFBSixhQUFBLEdBQUFHLENBQUE7WUFDVCxNQUFNLElBQUljLEtBQUssQ0FBQ0QsS0FBSyxDQUFDRSxPQUFPLENBQUM7VUFDaEMsQ0FBQztZQUFBbEIsYUFBQSxHQUFBSSxDQUFBO1VBQUE7VUFBQUosYUFBQSxHQUFBRyxDQUFBO1VBRUQsT0FBT1ksSUFBSTtRQUNiLENBQUMsQ0FBQyxPQUFPSSxHQUFHLEVBQUU7VUFBQW5CLGFBQUEsR0FBQUcsQ0FBQTtVQUNaaUIsT0FBTyxDQUFDSixLQUFLLENBQUMsbUNBQW1DLEVBQUVHLEdBQUcsQ0FBQztVQUFDbkIsYUFBQSxHQUFBRyxDQUFBO1VBQ3hELE1BQU1nQixHQUFHO1FBQ1g7TUFDRixDQUFDO01BQUEsU0FoQktzQixvQkFBb0JBLENBQUFDLEdBQUEsRUFBQUMsR0FBQSxFQUFBQyxHQUFBO1FBQUEsT0FBQUwscUJBQUEsQ0FBQWpCLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBcEJrQixvQkFBb0I7SUFBQTtFQUFBO0lBQUFoQyxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBbUMsV0FBQSxHQUFBakMsaUJBQUEsQ0F1QjFCLFdBQWlCYSxJQUFhLEVBQWtEO1FBQUF6QixhQUFBLEdBQUFDLENBQUE7UUFBQUQsYUFBQSxHQUFBRyxDQUFBO1FBQzlFLElBQUk7VUFDRixJQUFBMkMsS0FBQSxJQUFBOUMsYUFBQSxHQUFBRyxDQUFBLGNBQThCLElBQUksQ0FBQ1csZUFBZSxDQUF3QyxTQUFTLEVBQUU7Y0FDbkdXLElBQUksRUFBSkE7WUFDRixDQUFDLENBQUM7WUFGTVYsSUFBSSxHQUFBK0IsS0FBQSxDQUFKL0IsSUFBSTtZQUFFQyxLQUFLLEdBQUE4QixLQUFBLENBQUw5QixLQUFLO1VBRWhCaEIsYUFBQSxHQUFBRyxDQUFBO1VBRUgsSUFBSWEsS0FBSyxFQUFFO1lBQUFoQixhQUFBLEdBQUFJLENBQUE7WUFBQUosYUFBQSxHQUFBRyxDQUFBO1lBQ1QsTUFBTSxJQUFJYyxLQUFLLENBQUNELEtBQUssQ0FBQ0UsT0FBTyxDQUFDO1VBQ2hDLENBQUM7WUFBQWxCLGFBQUEsR0FBQUksQ0FBQTtVQUFBO1VBQUFKLGFBQUEsR0FBQUcsQ0FBQTtVQUVELE9BQU9ZLElBQUk7UUFDYixDQUFDLENBQUMsT0FBT0ksR0FBRyxFQUFFO1VBQUFuQixhQUFBLEdBQUFHLENBQUE7VUFDWmlCLE9BQU8sQ0FBQ0osS0FBSyxDQUFDLHdCQUF3QixFQUFFRyxHQUFHLENBQUM7VUFBQ25CLGFBQUEsR0FBQUcsQ0FBQTtVQUM3QyxNQUFNZ0IsR0FBRztRQUNYO01BQ0YsQ0FBQztNQUFBLFNBZks0QixVQUFVQSxDQUFBQyxHQUFBO1FBQUEsT0FBQUgsV0FBQSxDQUFBdkIsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFWd0IsVUFBVTtJQUFBO0VBQUE7SUFBQXRDLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUF1QyxhQUFBLEdBQUFyQyxpQkFBQSxDQXFCaEIsYUFBaUQ7UUFBQVosYUFBQSxHQUFBQyxDQUFBO1FBQUFELGFBQUEsR0FBQUcsQ0FBQTtRQUMvQyxJQUFJO1VBQ0YsSUFBQStDLEtBQUEsSUFBQWxELGFBQUEsR0FBQUcsQ0FBQSxjQUE4QixJQUFJLENBQUNXLGVBQWUsQ0FBb0IsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztZQUFsRkMsSUFBSSxHQUFBbUMsS0FBQSxDQUFKbkMsSUFBSTtZQUFFQyxLQUFLLEdBQUFrQyxLQUFBLENBQUxsQyxLQUFLO1VBQXdFaEIsYUFBQSxHQUFBRyxDQUFBO1VBRTNGLElBQUlhLEtBQUssRUFBRTtZQUFBaEIsYUFBQSxHQUFBSSxDQUFBO1lBQUFKLGFBQUEsR0FBQUcsQ0FBQTtZQUNULE1BQU0sSUFBSWMsS0FBSyxDQUFDRCxLQUFLLENBQUNFLE9BQU8sQ0FBQztVQUNoQyxDQUFDO1lBQUFsQixhQUFBLEdBQUFJLENBQUE7VUFBQTtVQUFBSixhQUFBLEdBQUFHLENBQUE7VUFFRCxPQUFPWSxJQUFJO1FBQ2IsQ0FBQyxDQUFDLE9BQU9JLEdBQUcsRUFBRTtVQUFBbkIsYUFBQSxHQUFBRyxDQUFBO1VBQ1ppQixPQUFPLENBQUNKLEtBQUssQ0FBQywyQkFBMkIsRUFBRUcsR0FBRyxDQUFDO1VBQUNuQixhQUFBLEdBQUFHLENBQUE7VUFDaEQsTUFBTWdCLEdBQUc7UUFDWDtNQUNGLENBQUM7TUFBQSxTQWJLZ0MsWUFBWUEsQ0FBQTtRQUFBLE9BQUFGLGFBQUEsQ0FBQTNCLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBWjRCLFlBQVk7SUFBQTtFQUFBO0lBQUExQyxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBMEMsd0JBQUEsR0FBQXhDLGlCQUFBLENBb0JsQixXQUE4QmEsSUFBWSxFQUFvQztRQUFBekIsYUFBQSxHQUFBQyxDQUFBO1FBQUFELGFBQUEsR0FBQUcsQ0FBQTtRQUM1RSxJQUFJO1VBQ0YsSUFBQWtELEtBQUEsSUFBQXJELGFBQUEsR0FBQUcsQ0FBQSxjQUE4QixJQUFJLENBQUNXLGVBQWUsQ0FBMEIsMkJBQTJCLEVBQUU7Y0FDdkdXLElBQUksRUFBSkE7WUFDRixDQUFDLENBQUM7WUFGTVYsSUFBSSxHQUFBc0MsS0FBQSxDQUFKdEMsSUFBSTtZQUFFQyxLQUFLLEdBQUFxQyxLQUFBLENBQUxyQyxLQUFLO1VBRWhCaEIsYUFBQSxHQUFBRyxDQUFBO1VBRUgsSUFBSWEsS0FBSyxFQUFFO1lBQUFoQixhQUFBLEdBQUFJLENBQUE7WUFBQUosYUFBQSxHQUFBRyxDQUFBO1lBQ1QsTUFBTSxJQUFJYyxLQUFLLENBQUNELEtBQUssQ0FBQ0UsT0FBTyxDQUFDO1VBQ2hDLENBQUM7WUFBQWxCLGFBQUEsR0FBQUksQ0FBQTtVQUFBO1VBQUFKLGFBQUEsR0FBQUcsQ0FBQTtVQUVELE9BQU9ZLElBQUk7UUFDYixDQUFDLENBQUMsT0FBT0ksR0FBRyxFQUFFO1VBQUFuQixhQUFBLEdBQUFHLENBQUE7VUFDWmlCLE9BQU8sQ0FBQ0osS0FBSyxDQUFDLHNDQUFzQyxFQUFFRyxHQUFHLENBQUM7VUFBQ25CLGFBQUEsR0FBQUcsQ0FBQTtVQUMzRCxNQUFNZ0IsR0FBRztRQUNYO01BQ0YsQ0FBQztNQUFBLFNBZkttQyx1QkFBdUJBLENBQUFDLEdBQUE7UUFBQSxPQUFBSCx3QkFBQSxDQUFBOUIsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUF2QitCLHVCQUF1QjtJQUFBO0VBQUE7SUFBQTdDLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUE4QyxjQUFBLEdBQUE1QyxpQkFBQSxDQXNCN0IsV0FBb0JvQixNQUFjLEVBQW9CO1FBQUFoQyxhQUFBLEdBQUFDLENBQUE7UUFBQUQsYUFBQSxHQUFBRyxDQUFBO1FBQ3BELElBQUk7VUFFRixJQUFBc0QsS0FBQSxJQUFBekQsYUFBQSxHQUFBRyxDQUFBLGNBQXVDUCxRQUFRLENBQzVDOEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUNoQkMsTUFBTSxDQUFDLDJCQUEyQixDQUFDLENBQ25DQyxFQUFFLENBQUMsSUFBSSxFQUFFNUIsTUFBTSxDQUFDLENBQ2hCNkIsTUFBTSxDQUFDLENBQUM7WUFKR0MsT0FBTyxHQUFBTCxLQUFBLENBQWIxQyxJQUFJO1lBQVdDLEtBQUssR0FBQXlDLEtBQUEsQ0FBTHpDLEtBQUs7VUFJaEJoQixhQUFBLEdBQUFHLENBQUE7VUFFWixJQUFJYSxLQUFLLEVBQUU7WUFBQWhCLGFBQUEsR0FBQUksQ0FBQTtZQUFBSixhQUFBLEdBQUFHLENBQUE7WUFDVCxNQUFNLElBQUljLEtBQUssQ0FBQ0QsS0FBSyxDQUFDRSxPQUFPLENBQUM7VUFDaEMsQ0FBQztZQUFBbEIsYUFBQSxHQUFBSSxDQUFBO1VBQUE7VUFBQUosYUFBQSxHQUFBRyxDQUFBO1VBRUQsT0FBTyxDQUFBSCxhQUFBLEdBQUFJLENBQUEsVUFBQTBELE9BQU8sb0JBQVBBLE9BQU8sQ0FBRUMsV0FBVyxNQUFBL0QsYUFBQSxHQUFBSSxDQUFBLFVBQUkwRCxPQUFPLG9CQUFQQSxPQUFPLENBQUVFLFlBQVk7UUFDdEQsQ0FBQyxDQUFDLE9BQU83QyxHQUFHLEVBQUU7VUFBQW5CLGFBQUEsR0FBQUcsQ0FBQTtVQUNaaUIsT0FBTyxDQUFDSixLQUFLLENBQUMscUNBQXFDLEVBQUVHLEdBQUcsQ0FBQztVQUFDbkIsYUFBQSxHQUFBRyxDQUFBO1VBQzFELE9BQU8sS0FBSztRQUNkO01BQ0YsQ0FBQztNQUFBLFNBbEJLOEQsYUFBYUEsQ0FBQUMsR0FBQTtRQUFBLE9BQUFWLGNBQUEsQ0FBQWxDLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBYjBDLGFBQWE7SUFBQTtFQUFBO0lBQUF4RCxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBeUQsZ0JBQUEsR0FBQXZELGlCQUFBLENBMkJuQixXQUNFd0QsUUFBZ0IsRUFHMkI7UUFBQSxJQUYzQ0MsSUFBeUIsR0FBQTlDLFNBQUEsQ0FBQStDLE1BQUEsUUFBQS9DLFNBQUEsUUFBQWdELFNBQUEsR0FBQWhELFNBQUEsT0FBQXZCLGFBQUEsR0FBQUksQ0FBQSxXQUFHLENBQUMsQ0FBQztRQUFBLElBQzlCb0UsTUFBc0IsR0FBQWpELFNBQUEsQ0FBQStDLE1BQUEsUUFBQS9DLFNBQUEsUUFBQWdELFNBQUEsR0FBQWhELFNBQUEsT0FBQXZCLGFBQUEsR0FBQUksQ0FBQSxXQUFHLE1BQU07UUFBQUosYUFBQSxHQUFBQyxDQUFBO1FBQUFELGFBQUEsR0FBQUcsQ0FBQTtRQUUvQixJQUFJO1VBRUYsSUFBQXNFLEtBQUEsSUFBQXpFLGFBQUEsR0FBQUcsQ0FBQSxjQUFvQ1AsUUFBUSxDQUFDOEUsSUFBSSxDQUFDQyxVQUFVLENBQUMsQ0FBQztZQUE5Q0MsT0FBTyxHQUFBSCxLQUFBLENBQWYxRCxJQUFJLENBQUk2RCxPQUFPO1VBQXdDNUUsYUFBQSxHQUFBRyxDQUFBO1VBRS9ELElBQUksQ0FBQ3lFLE9BQU8sRUFBRTtZQUFBNUUsYUFBQSxHQUFBSSxDQUFBO1lBQUFKLGFBQUEsR0FBQUcsQ0FBQTtZQUNaLE1BQU0sSUFBSWMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO1VBQ3RDLENBQUM7WUFBQWpCLGFBQUEsR0FBQUksQ0FBQTtVQUFBO1VBRUQsSUFBTUMsR0FBRyxJQUFBTCxhQUFBLEdBQUFHLENBQUEsUUFBRyxHQUFHLElBQUksQ0FBQ0csT0FBTyxJQUFJOEQsUUFBUSxFQUFFO1VBQ3pDLElBQU1TLE9BQU8sSUFBQTdFLGFBQUEsR0FBQUcsQ0FBQSxRQUFHO1lBQ2QsY0FBYyxFQUFFLGtCQUFrQjtZQUNsQyxlQUFlLEVBQUUsVUFBVXlFLE9BQU8sQ0FBQ0UsWUFBWTtVQUNqRCxDQUFDO1VBRUQsSUFBSUMsUUFBUTtVQUFDL0UsYUFBQSxHQUFBRyxDQUFBO1VBQ2IsSUFBSXFFLE1BQU0sS0FBSyxLQUFLLEVBQUU7WUFBQXhFLGFBQUEsR0FBQUksQ0FBQTtZQUFBSixhQUFBLEdBQUFHLENBQUE7WUFDcEI0RSxRQUFRLFNBQVNDLEtBQUssQ0FBQzNFLEdBQUcsRUFBRTtjQUFFd0UsT0FBTyxFQUFQQSxPQUFPO2NBQUVMLE1BQU0sRUFBTkE7WUFBTyxDQUFDLENBQUM7VUFDbEQsQ0FBQyxNQUFNO1lBQUF4RSxhQUFBLEdBQUFJLENBQUE7WUFBQUosYUFBQSxHQUFBRyxDQUFBO1lBQ0w0RSxRQUFRLFNBQVNDLEtBQUssQ0FBQzNFLEdBQUcsRUFBRTtjQUMxQm1FLE1BQU0sRUFBTkEsTUFBTTtjQUNOSyxPQUFPLEVBQVBBLE9BQU87Y0FDUFIsSUFBSSxFQUFFWSxJQUFJLENBQUNDLFNBQVMsQ0FBQ2IsSUFBSTtZQUMzQixDQUFDLENBQUM7VUFDSjtVQUFDckUsYUFBQSxHQUFBRyxDQUFBO1VBRUQsSUFBSSxDQUFDNEUsUUFBUSxDQUFDSSxFQUFFLEVBQUU7WUFBQW5GLGFBQUEsR0FBQUksQ0FBQTtZQUNoQixJQUFNZ0YsU0FBUyxJQUFBcEYsYUFBQSxHQUFBRyxDQUFBLGNBQVM0RSxRQUFRLENBQUNNLElBQUksQ0FBQyxDQUFDO1lBQUNyRixhQUFBLEdBQUFHLENBQUE7WUFDeEMsTUFBTSxJQUFJYyxLQUFLLENBQUMsQ0FBQWpCLGFBQUEsR0FBQUksQ0FBQSxXQUFBZ0YsU0FBUyxDQUFDcEUsS0FBSyxNQUFBaEIsYUFBQSxHQUFBSSxDQUFBLFdBQUksY0FBYzJFLFFBQVEsQ0FBQ08sTUFBTSxFQUFFLEVBQUM7VUFDckUsQ0FBQztZQUFBdEYsYUFBQSxHQUFBSSxDQUFBO1VBQUE7VUFFRCxJQUFNVyxJQUFJLElBQUFmLGFBQUEsR0FBQUcsQ0FBQSxjQUFTNEUsUUFBUSxDQUFDTSxJQUFJLENBQUMsQ0FBQztVQUFDckYsYUFBQSxHQUFBRyxDQUFBO1VBQ25DLE9BQU87WUFBRVksSUFBSSxFQUFFQSxJQUFTO1lBQUVDLEtBQUssRUFBRTtVQUFLLENBQUM7UUFDekMsQ0FBQyxDQUFDLE9BQU9HLEdBQUcsRUFBRTtVQUFBbkIsYUFBQSxHQUFBRyxDQUFBO1VBQ1osT0FBTztZQUFFWSxJQUFJLEVBQUUsQ0FBQyxDQUFNO1lBQUVDLEtBQUssRUFBRUc7VUFBYSxDQUFDO1FBQy9DO01BQ0YsQ0FBQztNQUFBLFNBeENhTCxlQUFlQSxDQUFBeUUsSUFBQTtRQUFBLE9BQUFwQixnQkFBQSxDQUFBN0MsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFmVCxlQUFlO0lBQUE7RUFBQTtBQUFBO0FBNEMvQixPQUFPLElBQU0wRSxVQUFVLElBQUF4RixhQUFBLEdBQUFHLENBQUEsUUFBRyxJQUFJTixVQUFVLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==