{"version":3,"names":["globalThis","structuredClone","cov_f1wkvrkx","b","s","console","warn","value","f","JSON","parse","stringify","_err","Error"],"sources":["polyfills.ts"],"sourcesContent":["/**\n * polyfills.ts\n *\n * Centralised polyfills for APIs that are not yet consistently\n * available in all React-Native runtimes (Hermes / JSC).\n *\n * IMPORTANT:  Always *feature-detect* before defining a polyfill to\n * avoid “duplicate identifier” TypeScript or runtime errors when the\n * host environment eventually gains native support.\n *\n * Usage (entry-point – App.tsx or index.ts):\n *   import './src/utils/polyfills';\n */\n\n/* ------------------------------------------------------------------ */\n/* structuredClone                                                    */\n/* ------------------------------------------------------------------ */\n// Hermes started shipping structuredClone in RN 0.79, but older simulators /\n// devices or JSC-based runtimes may still be missing it.  Supabase’s realtime\n// Postgres client and various React-Query utils rely on this API.\nif (typeof globalThis.structuredClone !== 'function') {\n  // eslint-disable-next-line no-console\n  console.warn(\n    '[_polyfills] structuredClone not found – installing lightweight polyfill.'\n  );\n\n  // A *very* small subset implementation that is sufficient for our usage\n  // (plain objects, _arrays, numbers, strings, booleans, null).  It will\n  // throw for functions, class instances, Dates, Maps, Sets, etc., mirroring\n  // the native behaviour of throwing on non-serialisable input.\n  // If we ever need full spec compliance we can replace this with\n  // `@ungap/structured-clone` or another more complete shim.\n   \n  // @ts-ignore – add to global scope\n  globalThis.structuredClone = <T>(value: T): T => {\n    try {\n      return JSON.parse(JSON.stringify(value));\n    } catch (_err) {\n      throw new Error(\n        '[_polyfills] structuredClone polyfill failed – input may ' +\n          'contain non-serialisable values.',\n      );\n    }\n  };\n}\n\n// Export nothing – this module is imported for its side-effects only.\nexport {};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,IAAI,OAAOA,UAAU,CAACC,eAAe,KAAK,UAAU,EAAE;EAAAC,YAAA,GAAAC,CAAA;EAAAD,YAAA,GAAAE,CAAA;EAEpDC,OAAO,CAACC,IAAI,CACV,2EACF,CAAC;EAACJ,YAAA,GAAAE,CAAA;EAUFJ,UAAU,CAACC,eAAe,GAAG,UAAIM,KAAQ,EAAQ;IAAAL,YAAA,GAAAM,CAAA;IAAAN,YAAA,GAAAE,CAAA;IAC/C,IAAI;MAAAF,YAAA,GAAAE,CAAA;MACF,OAAOK,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACJ,KAAK,CAAC,CAAC;IAC1C,CAAC,CAAC,OAAOK,IAAI,EAAE;MAAAV,YAAA,GAAAE,CAAA;MACb,MAAM,IAAIS,KAAK,CACb,2DAA2D,GACzD,kCACJ,CAAC;IACH;EACF,CAAC;AACH,CAAC;EAAAX,YAAA,GAAAC,CAAA;AAAA;AAGD","ignoreList":[]}