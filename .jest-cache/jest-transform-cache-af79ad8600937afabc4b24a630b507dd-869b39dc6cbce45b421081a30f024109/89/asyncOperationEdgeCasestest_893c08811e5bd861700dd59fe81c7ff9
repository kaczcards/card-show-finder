b378b4a8f68e6edd279a3fed0ea0dcbb
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var mockStorage = {
  _data: new Map(),
  setItem: jest.fn(function (key, value) {
    return new Promise(function (resolve, reject) {
      if (Math.random() < 0.1) {
        reject(new Error('Storage error'));
        return;
      }
      setTimeout(function () {
        mockStorage._data.set(key, value);
        resolve();
      }, Math.random() * 10);
    });
  }),
  getItem: jest.fn(function (key) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        resolve(mockStorage._data.get(key) || null);
      }, Math.random() * 10);
    });
  }),
  removeItem: jest.fn(function (key) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        mockStorage._data.delete(key);
        resolve();
      }, Math.random() * 10);
    });
  }),
  clear: jest.fn(function () {
    return new Promise(function (resolve) {
      mockStorage._data.clear();
      resolve();
    });
  }),
  getAllKeys: jest.fn(function () {
    return new Promise(function (resolve) {
      resolve(Array.from(mockStorage._data.keys()));
    });
  })
};
var MockEventEmitter = function () {
  function MockEventEmitter() {
    (0, _classCallCheck2.default)(this, MockEventEmitter);
    this.listeners = new Map();
  }
  return (0, _createClass2.default)(MockEventEmitter, [{
    key: "addListener",
    value: function addListener(event, listener) {
      var _this = this;
      if (!this.listeners.has(event)) {
        this.listeners.set(event, []);
      }
      this.listeners.get(event).push(listener);
      return {
        remove: function remove() {
          return _this.removeListener(event, listener);
        }
      };
    }
  }, {
    key: "removeListener",
    value: function removeListener(event, listener) {
      if (!this.listeners.has(event)) return;
      var eventListeners = this.listeners.get(event);
      var index = eventListeners.indexOf(listener);
      if (index !== -1) {
        eventListeners.splice(index, 1);
      }
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(event) {
      if (event) {
        this.listeners.delete(event);
      } else {
        this.listeners.clear();
      }
    }
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      if (!this.listeners.has(event)) return false;
      var eventListeners = this.listeners.get(event);
      eventListeners.forEach(function (listener) {
        try {
          listener.apply(void 0, args);
        } catch (e) {
          console.error('Error in event listener:', e);
        }
      });
      return true;
    }
  }]);
}();
describe('Edge Cases and Async Operations', function () {
  var consoleErrorSpy;
  var consoleWarnSpy;
  var setTimeoutSpy;
  var clearTimeoutSpy;
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
    consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation(function () {});
    consoleWarnSpy = jest.spyOn(console, 'warn').mockImplementation(function () {});
    setTimeoutSpy = jest.spyOn(global, 'setTimeout');
    clearTimeoutSpy = jest.spyOn(global, 'clearTimeout');
    mockStorage._data.clear();
  });
  afterEach(function () {
    jest.clearAllTimers();
    jest.useRealTimers();
    consoleErrorSpy.mockRestore();
    consoleWarnSpy.mockRestore();
    setTimeoutSpy.mockRestore();
    clearTimeoutSpy.mockRestore();
  });
  describe('Race Conditions', function () {
    test('should handle multiple concurrent storage operations on the same key', (0, _asyncToGenerator2.default)(function* () {
      var key = 'user_preferences';
      var initialData = JSON.stringify({
        theme: 'light',
        notifications: true
      });
      yield mockStorage.setItem(key, initialData);
      var update1 = function () {
        var _ref2 = (0, _asyncToGenerator2.default)(function* () {
          var data = JSON.parse((yield mockStorage.getItem(key)) || '{}');
          data.theme = 'dark';
          yield mockStorage.setItem(key, JSON.stringify(data));
          return data;
        });
        return function update1() {
          return _ref2.apply(this, arguments);
        };
      }();
      var update2 = function () {
        var _ref3 = (0, _asyncToGenerator2.default)(function* () {
          var data = JSON.parse((yield mockStorage.getItem(key)) || '{}');
          data.notifications = false;
          yield mockStorage.setItem(key, JSON.stringify(data));
          return data;
        });
        return function update2() {
          return _ref3.apply(this, arguments);
        };
      }();
      var _yield$Promise$all = yield Promise.all([update1(), update2()]),
        _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 2),
        result1 = _yield$Promise$all2[0],
        result2 = _yield$Promise$all2[1];
      expect(result1).not.toEqual(result2);
      var finalValue = JSON.parse((yield mockStorage.getItem(key)) || '{}');
      expect(finalValue).toEqual(expect.objectContaining({
        theme: expect.any(String),
        notifications: expect.any(Boolean)
      }));
      expect(result1.theme).toBe('dark');
      expect(result2.notifications).toBe(false);
    }), 60000);
    test('should implement optimistic locking to prevent race conditions', (0, _asyncToGenerator2.default)(function* () {
      var key = 'counter';
      var currentVersion = 1;
      var currentValue = 0;
      var getWithVersion = jest.fn((0, _asyncToGenerator2.default)(function* () {
        return JSON.stringify({
          value: currentValue,
          version: currentVersion
        });
      }));
      var setWithVersion = jest.fn(function () {
        var _ref6 = (0, _asyncToGenerator2.default)(function* (k, valueStr) {
          var data = JSON.parse(valueStr);
          if (data.version === currentVersion) {
            currentValue = data.value;
            currentVersion++;
            return;
          } else {
            throw new Error('Version mismatch - data was modified by another process');
          }
        });
        return function (_x, _x2) {
          return _ref6.apply(this, arguments);
        };
      }());
      var incrementWithRetry = function () {
        var _ref7 = (0, _asyncToGenerator2.default)(function* () {
          var maxRetries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;
          var retries = 0;
          while (retries < maxRetries) {
            try {
              var dataStr = yield getWithVersion(key);
              var data = JSON.parse(dataStr || '{"value":0,"version":1}');
              var newData = {
                value: data.value + 1,
                version: data.version
              };
              yield setWithVersion(key, JSON.stringify(newData));
              return newData.value;
            } catch (error) {
              retries++;
              if (retries >= maxRetries) {
                throw error;
              }
              yield new Promise(function (r) {
                return setTimeout(r, 10 * Math.pow(2, retries));
              });
              jest.advanceTimersByTime(10 * Math.pow(2, retries));
            }
          }
          throw new Error('Failed after max retries');
        });
        return function incrementWithRetry() {
          return _ref7.apply(this, arguments);
        };
      }();
      var results = yield Promise.allSettled([incrementWithRetry(), incrementWithRetry(), incrementWithRetry()]);
      expect(results.every(function (r) {
        return r.status === 'fulfilled';
      })).toBe(true);
      expect(currentValue).toBe(3);
      expect(currentVersion).toBe(4);
    }), 60000);
  });
  describe('Memory Management', function () {
    test('should properly cleanup event listeners when component unmounts', function () {
      var eventEmitter = new MockEventEmitter();
      var mockCallback = jest.fn();
      var subscription = eventEmitter.addListener('dataChange', mockCallback);
      eventEmitter.emit('dataChange', {
        value: 'test'
      });
      expect(mockCallback).toHaveBeenCalledWith({
        value: 'test'
      });
      subscription.remove();
      mockCallback.mockClear();
      eventEmitter.emit('dataChange', {
        value: 'test2'
      });
      expect(mockCallback).not.toHaveBeenCalled();
    });
    test('should cancel timers to prevent memory leaks', function () {
      var mockCallback = jest.fn();
      var timerId = setTimeout(mockCallback, 500);
      clearTimeout(timerId);
      jest.advanceTimersByTime(1000);
      expect(mockCallback).not.toHaveBeenCalled();
      expect(clearTimeoutSpy).toHaveBeenCalledWith(timerId);
    });
    test('should handle abandoned promises that could cause memory leaks', (0, _asyncToGenerator2.default)(function* () {
      var abortController = new AbortController();
      var signal = abortController.signal;
      var longRunningOperation = function longRunningOperation() {
        return new Promise(function (resolve, reject) {
          var checkAbort = function checkAbort() {
            if (signal.aborted) {
              reject(new Error('Operation aborted'));
              return true;
            }
            return false;
          };
          if (checkAbort()) return;
          var intervalId = setInterval(function () {
            if (checkAbort()) {
              clearInterval(intervalId);
            }
          }, 100);
          setTimeout(function () {
            clearInterval(intervalId);
            resolve('Operation completed');
          }, 500);
        });
      };
      var operationPromise = longRunningOperation();
      abortController.abort();
      jest.advanceTimersByTime(100);
      yield expect(operationPromise).rejects.toThrow('Operation aborted');
    }), 60000);
  });
  describe('Promise Chain Failures', function () {
    test('should handle errors in the middle of promise chains', (0, _asyncToGenerator2.default)(function* () {
      var processData = function () {
        var _ref0 = (0, _asyncToGenerator2.default)(function* (data) {
          var _validatedData = yield Promise.resolve(data);
          var _transformedData = yield Promise.reject(new Error('Transform failed'));
          var _savedData = yield Promise.resolve(Object.assign({}, _transformedData, {
            saved: true
          }));
          return _savedData;
        });
        return function processData(_x3) {
          return _ref0.apply(this, arguments);
        };
      }();
      yield expect(processData({
        test: true
      })).rejects.toThrow('Transform failed');
    }));
    test('should handle errors in nested promise chains', (0, _asyncToGenerator2.default)(function* () {
      var innerOperation = function () {
        var _ref10 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Inner operation failed');
        });
        return function innerOperation() {
          return _ref10.apply(this, arguments);
        };
      }();
      var middleOperation = function () {
        var _ref11 = (0, _asyncToGenerator2.default)(function* () {
          try {
            return yield innerOperation();
          } catch (error) {
            throw new Error(`Middle operation caught: ${error.message}`);
          }
        });
        return function middleOperation() {
          return _ref11.apply(this, arguments);
        };
      }();
      var outerOperation = function () {
        var _ref12 = (0, _asyncToGenerator2.default)(function* () {
          try {
            return yield middleOperation();
          } catch (error) {
            throw new Error(`Outer operation caught: ${error.message}`);
          }
        });
        return function outerOperation() {
          return _ref12.apply(this, arguments);
        };
      }();
      yield expect(outerOperation()).rejects.toThrow('Outer operation caught: Middle operation caught: Inner operation failed');
    }));
    test('should recover from promise chain failures with fallback values', (0, _asyncToGenerator2.default)(function* () {
      var fetchWithFallback = function () {
        var _ref14 = (0, _asyncToGenerator2.default)(function* (url, fallback) {
          try {
            throw new Error('Network error');
          } catch (error) {
            console.error('Error fetching data:', error);
            return fallback;
          }
        });
        return function fetchWithFallback(_x4, _x5) {
          return _ref14.apply(this, arguments);
        };
      }();
      var result = yield fetchWithFallback('https://api.example.com/data', {
        fallback: true
      });
      expect(result).toEqual({
        fallback: true
      });
      expect(consoleErrorSpy).toHaveBeenCalled();
    }));
  });
  describe('Timeout Handling', function () {
    test('should handle promise timeout with race pattern', (0, _asyncToGenerator2.default)(function* () {
      var timeoutPromise = function timeoutPromise(ms) {
        return new Promise(function (_, reject) {
          setTimeout(function () {
            return reject(new Error(`Operation timed out after ${ms}ms`));
          }, ms);
        });
      };
      var slowOperation = function slowOperation() {
        return new Promise(function (resolve) {
          setTimeout(function () {
            return resolve('Success');
          }, 200);
        });
      };
      var racePromise = Promise.race([slowOperation(), timeoutPromise(100)]);
      jest.advanceTimersByTime(100);
      yield expect(racePromise).rejects.toThrow('Operation timed out after 100ms');
    }));
    test('should implement custom timeout for async operations', (0, _asyncToGenerator2.default)(function* () {
      var operationWithTimeout = function () {
        var _ref17 = (0, _asyncToGenerator2.default)(function* (operation, timeoutMs) {
          var timeoutError = new Error(`Operation timed out after ${timeoutMs}ms`);
          var timeoutId;
          var timeoutPromise = new Promise(function (_, reject) {
            timeoutId = setTimeout(function () {
              return reject(timeoutError);
            }, timeoutMs);
          });
          return Promise.race([operation(), timeoutPromise]).finally(function () {
            clearTimeout(timeoutId);
          });
        });
        return function operationWithTimeout(_x6, _x7) {
          return _ref17.apply(this, arguments);
        };
      }();
      var slowOperation = function slowOperation() {
        return new Promise(function (resolve) {
          setTimeout(function () {
            return resolve('Success');
          }, 200);
        });
      };
      var operationPromise = operationWithTimeout(function () {
        return slowOperation();
      }, 100);
      jest.advanceTimersByTime(100);
      yield expect(operationPromise).rejects.toThrow('Operation timed out after 100ms');
    }));
    test('should handle timeouts in parallel operations', (0, _asyncToGenerator2.default)(function* () {
      var operationWithTimeout = function () {
        var _ref19 = (0, _asyncToGenerator2.default)(function* (id, duration, timeout) {
          return new Promise(function (resolve, reject) {
            var timeoutId = setTimeout(function () {
              reject(new Error(`Operation ${id} timed out after ${timeout}ms`));
            }, timeout);
            setTimeout(function () {
              clearTimeout(timeoutId);
              resolve(`Operation ${id} completed in ${duration}ms`);
            }, duration);
          });
        });
        return function operationWithTimeout(_x8, _x9, _x0) {
          return _ref19.apply(this, arguments);
        };
      }();
      var results = yield Promise.allSettled([operationWithTimeout(1, 50, 100), operationWithTimeout(2, 150, 100), operationWithTimeout(3, 80, 100)]);
      jest.advanceTimersByTime(50);
      jest.advanceTimersByTime(30);
      jest.advanceTimersByTime(20);
      expect(results[0].status).toBe('fulfilled');
      expect(results[1].status).toBe('rejected');
      expect(results[2].status).toBe('fulfilled');
      if (results[1].status === 'rejected') {
        expect(results[1].reason.message).toContain('Operation 2 timed out');
      }
    }));
  });
  describe('Concurrent Operations', function () {
    test('should limit concurrency of parallel operations', (0, _asyncToGenerator2.default)(function* () {
      var concurrencyLimit = 3;
      var activeOperations = 0;
      var maxConcurrentOperations = 0;
      var operation = function () {
        var _ref21 = (0, _asyncToGenerator2.default)(function* (id) {
          activeOperations++;
          maxConcurrentOperations = Math.max(maxConcurrentOperations, activeOperations);
          yield new Promise(function (resolve) {
            return setTimeout(resolve, 10);
          });
          jest.advanceTimersByTime(10);
          activeOperations--;
          return `Operation ${id} completed`;
        });
        return function operation(_x1) {
          return _ref21.apply(this, arguments);
        };
      }();
      var runWithConcurrencyLimit = function () {
        var _ref22 = (0, _asyncToGenerator2.default)(function* (operations, limit) {
          var results = [];
          var executing = [];
          var _loop = function* _loop(_operation) {
            var p = Promise.resolve().then(function () {
              return _operation();
            });
            results.push(p);
            if (limit <= operations.length) {
              var e = p.then(function () {
                executing.splice(executing.indexOf(e), 1);
              });
              executing.push(e);
              if (executing.length >= limit) {
                yield Promise.race(executing);
              }
            }
          };
          for (var _operation of operations) {
            yield* _loop(_operation);
          }
          return Promise.all(results);
        });
        return function runWithConcurrencyLimit(_x10, _x11) {
          return _ref22.apply(this, arguments);
        };
      }();
      var operations = Array(10).fill(null).map(function (_, i) {
        return function () {
          return operation(i + 1);
        };
      });
      yield runWithConcurrencyLimit(operations, concurrencyLimit);
      expect(maxConcurrentOperations).toBeLessThanOrEqual(concurrencyLimit);
    }), 60000);
    test('should handle errors in concurrent operations without stopping others', (0, _asyncToGenerator2.default)(function* () {
      var operations = [function () {
        return Promise.resolve('Operation 1 success');
      }, function () {
        return Promise.reject(new Error('Operation 2 failed'));
      }, function () {
        return Promise.resolve('Operation 3 success');
      }, function () {
        return Promise.reject(new Error('Operation 4 failed'));
      }, function () {
        return Promise.resolve('Operation 5 success');
      }];
      var results = yield Promise.allSettled(operations.map(function (op) {
        return op();
      }));
      expect(results[0].status).toBe('fulfilled');
      expect(results[1].status).toBe('rejected');
      expect(results[2].status).toBe('fulfilled');
      expect(results[3].status).toBe('rejected');
      expect(results[4].status).toBe('fulfilled');
      var successResults = results.filter(function (r) {
        return r.status === 'fulfilled';
      });
      expect(successResults.length).toBe(3);
    }));
    test('should prioritize operations in concurrent queue', (0, _asyncToGenerator2.default)(function* () {
      var priorityQueue = [{
        id: 1,
        priority: 2,
        operation: function operation() {
          return Promise.resolve('Operation 1 (Medium)');
        }
      }, {
        id: 2,
        priority: 1,
        operation: function operation() {
          return Promise.resolve('Operation 2 (High)');
        }
      }, {
        id: 3,
        priority: 3,
        operation: function operation() {
          return Promise.resolve('Operation 3 (Low)');
        }
      }, {
        id: 4,
        priority: 1,
        operation: function operation() {
          return Promise.resolve('Operation 4 (High)');
        }
      }, {
        id: 5,
        priority: 2,
        operation: function operation() {
          return Promise.resolve('Operation 5 (Medium)');
        }
      }];
      priorityQueue.sort(function (a, b) {
        return a.priority - b.priority;
      });
      var executionOrder = [];
      var _results = yield Promise.all(priorityQueue.map(function (item) {
        return item.operation().then(function (result) {
          executionOrder.push(item.id);
          return result;
        });
      }));
      expect(executionOrder[0]).toBe(2);
      expect(executionOrder[1]).toBe(4);
      expect(executionOrder[executionOrder.length - 1]).toBe(3);
    }));
  });
  describe('Data Structure Edge Cases', function () {
    test('should handle deeply nested objects', (0, _asyncToGenerator2.default)(function* () {
      var deeplyNested = {
        level1: {
          level2: {
            level3: {
              level4: {
                level5: {
                  value: 'Deep value'
                }
              }
            }
          }
        }
      };
      yield mockStorage.setItem('deeplyNested', JSON.stringify(deeplyNested));
      var retrieved = JSON.parse((yield mockStorage.getItem('deeplyNested')) || '{}');
      expect(retrieved.level1.level2.level3.level4.level5.value).toBe('Deep value');
    }), 60000);
    test('should handle circular references', (0, _asyncToGenerator2.default)(function* () {
      var circular = {
        name: 'Circular Object',
        value: 42
      };
      circular.self = circular;
      circular.child = {
        parent: circular,
        name: 'Child Object'
      };
      expect(function () {
        return JSON.stringify(circular);
      }).toThrow();
      var seen = new WeakSet();
      var serialized = JSON.stringify(circular, function (key, value) {
        if (key && typeof value === 'object' && value !== null) {
          if (seen.has(value)) {
            return '[Circular Reference]';
          }
          seen.add(value);
        }
        return value;
      });
      expect(serialized).toContain('[Circular Reference]');
      var deserialized = JSON.parse(serialized);
      expect(deserialized.name).toBe('Circular Object');
      expect(deserialized.value).toBe(42);
      expect(deserialized.child.name).toBe('Child Object');
      expect(deserialized.child.parent).toBe('[Circular Reference]');
    }));
    test('should handle Unicode and special characters', (0, _asyncToGenerator2.default)(function* () {
      var specialCharsObject = {
        emoji: '😀🚀🌟🔥🎉',
        arabic: 'مرحبا بالعالم',
        chinese: '你好世界',
        russian: 'Привет, мир',
        japanese: 'こんにちは世界',
        korean: '안녕하세요 세계',
        thai: 'สวัสดีชาวโลก',
        specialChars: '©®™§¶†‡♠♣♥♦¿¡«»',
        escapeChars: '\n\t\r\b\f\\\'\\"'
      };
      yield mockStorage.setItem('specialChars', JSON.stringify(specialCharsObject));
      var retrieved = JSON.parse((yield mockStorage.getItem('specialChars')) || '{}');
      expect(retrieved.emoji).toBe(specialCharsObject.emoji);
      expect(retrieved.arabic).toBe(specialCharsObject.arabic);
      expect(retrieved.chinese).toBe(specialCharsObject.chinese);
      expect(retrieved.russian).toBe(specialCharsObject.russian);
      expect(retrieved.japanese).toBe(specialCharsObject.japanese);
      expect(retrieved.korean).toBe(specialCharsObject.korean);
      expect(retrieved.thai).toBe(specialCharsObject.thai);
      expect(retrieved.specialChars).toBe(specialCharsObject.specialChars);
      expect(retrieved.escapeChars).toBe(specialCharsObject.escapeChars);
    }), 60000);
    test('should handle malformed data', (0, _asyncToGenerator2.default)(function* () {
      var malformedJSON = '{"name": "Test", "value": 42, missing: quotes, unclosed: {';
      expect(function () {
        return JSON.parse(malformedJSON);
      }).toThrow(SyntaxError);
      var safeParse = function safeParse(json) {
        var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        try {
          return JSON.parse(json);
        } catch (error) {
          console.error('Error parsing JSON:', error);
          return fallback;
        }
      };
      var result = safeParse(malformedJSON, {
        error: true
      });
      expect(result).toEqual({
        error: true
      });
      expect(consoleErrorSpy).toHaveBeenCalled();
    }));
  });
  describe('Error Propagation', function () {
    test('should propagate errors through async chains', (0, _asyncToGenerator2.default)(function* () {
      var step1 = function () {
        var _ref30 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Error in step 1');
        });
        return function step1() {
          return _ref30.apply(this, arguments);
        };
      }();
      var step2 = function () {
        var _ref31 = (0, _asyncToGenerator2.default)(function* () {
          yield step1();
          return 'Step 2 completed';
        });
        return function step2() {
          return _ref31.apply(this, arguments);
        };
      }();
      var step3 = function () {
        var _ref32 = (0, _asyncToGenerator2.default)(function* () {
          var result = yield step2();
          return `Step 3 completed with ${result}`;
        });
        return function step3() {
          return _ref32.apply(this, arguments);
        };
      }();
      yield expect(step3()).rejects.toThrow('Error in step 1');
    }));
    test('should transform errors through async chains', (0, _asyncToGenerator2.default)(function* () {
      var step1 = function () {
        var _ref34 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Database connection failed');
        });
        return function step1() {
          return _ref34.apply(this, arguments);
        };
      }();
      var step2 = function () {
        var _ref35 = (0, _asyncToGenerator2.default)(function* () {
          try {
            yield step1();
            return 'Step 2 completed';
          } catch (error) {
            throw new Error(`Data retrieval error: ${error.message}`);
          }
        });
        return function step2() {
          return _ref35.apply(this, arguments);
        };
      }();
      var step3 = function () {
        var _ref36 = (0, _asyncToGenerator2.default)(function* () {
          try {
            var result = yield step2();
            return `Step 3 completed with ${result}`;
          } catch (error) {
            throw new Error(`Processing error: ${error.message}`);
          }
        });
        return function step3() {
          return _ref36.apply(this, arguments);
        };
      }();
      yield expect(step3()).rejects.toThrow('Processing error: Data retrieval error: Database connection failed');
    }));
    test('should handle errors with context information', (0, _asyncToGenerator2.default)(function* () {
      var createAppError = function createAppError(message, code, context) {
        var error = new Error(message);
        if (code) error.code = code;
        if (context) error.context = context;
        return error;
      };
      var executeOperation = function () {
        var _ref38 = (0, _asyncToGenerator2.default)(function* (context) {
          try {
            throw new Error('Operation failed');
          } catch (error) {
            var appError = createAppError(error.message, 'OPERATION_ERROR', {
              context: context
            });
            throw appError;
          }
        });
        return function executeOperation(_x12) {
          return _ref38.apply(this, arguments);
        };
      }();
      try {
        yield executeOperation('test-context');
        fail('Should have thrown an error');
      } catch (error) {
        expect(error.message).toBe('Operation failed');
        expect(error.code).toBe('OPERATION_ERROR');
        expect(error.context).toEqual({
          context: 'test-context'
        });
      }
    }));
    test('should aggregate errors from multiple operations', (0, _asyncToGenerator2.default)(function* () {
      var operations = [function () {
        return Promise.resolve('Operation 1 success');
      }, function () {
        return Promise.reject(new Error('Operation 2 failed'));
      }, function () {
        return Promise.resolve('Operation 3 success');
      }, function () {
        return Promise.reject(new Error('Operation 4 failed'));
      }];
      var executeAll = function () {
        var _ref40 = (0, _asyncToGenerator2.default)(function* (ops) {
          var results = yield Promise.allSettled(ops.map(function (op) {
            return op();
          }));
          var successes = results.filter(function (r) {
            return r.status === 'fulfilled';
          }).map(function (r) {
            return r.value;
          });
          var failures = results.filter(function (r) {
            return r.status === 'rejected';
          }).map(function (r) {
            return r.reason;
          });
          if (failures.length > 0) {
            var error = new Error(`${failures.length} operations failed`);
            error.failures = failures;
            error.successes = successes;
            throw error;
          }
          return successes;
        });
        return function executeAll(_x13) {
          return _ref40.apply(this, arguments);
        };
      }();
      try {
        yield executeAll(operations);
        fail('Should have thrown an error');
      } catch (error) {
        expect(error.message).toBe('2 operations failed');
        expect(error.failures.length).toBe(2);
        expect(error.failures[0].message).toBe('Operation 2 failed');
        expect(error.failures[1].message).toBe('Operation 4 failed');
        expect(error.successes.length).toBe(2);
        expect(error.successes).toEqual(['Operation 1 success', 'Operation 3 success']);
      }
    }));
  });
  describe('Retry Mechanisms', function () {
    test('should implement retry with exponential backoff', (0, _asyncToGenerator2.default)(function* () {
      var attempts = 0;
      var maxAttempts = 3;
      var unreliableOperation = jest.fn().mockImplementation(function () {
        attempts++;
        if (attempts < 3) {
          return Promise.reject(new Error(`Attempt ${attempts} failed`));
        }
        return Promise.resolve(`Success on attempt ${attempts}`);
      });
      var withRetry = function () {
        var _ref42 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries) {
          var _lastError;
          var baseDelay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
          var factor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;
          var lastError = null;
          var _loop2 = function* _loop2() {
              try {
                return {
                  v: yield operation()
                };
              } catch (error) {
                lastError = error;
                console.warn(`Attempt ${attempt} failed: ${lastError.message}`);
                if (attempt < maxRetries) {
                  var delay = baseDelay * Math.pow(factor, attempt - 1);
                  yield new Promise(function (resolve) {
                    return setTimeout(resolve, delay);
                  });
                  jest.advanceTimersByTime(delay);
                }
              }
            },
            _ret;
          for (var attempt = 1; attempt <= maxRetries; attempt++) {
            _ret = yield* _loop2();
            if (_ret) return _ret.v;
          }
          throw new Error(`All ${maxRetries} attempts failed. Last error: ${(_lastError = lastError) == null ? void 0 : _lastError.message}`);
        });
        return function withRetry(_x14, _x15) {
          return _ref42.apply(this, arguments);
        };
      }();
      var result = yield withRetry(unreliableOperation, maxAttempts);
      expect(result).toBe('Success on attempt 3');
      expect(unreliableOperation).toHaveBeenCalledTimes(3);
      expect(consoleWarnSpy).toHaveBeenCalledTimes(2);
    }), 60000);
    test('should implement retry with jitter to prevent thundering herd', (0, _asyncToGenerator2.default)(function* () {
      var attempts = 0;
      var maxAttempts = 3;
      var unreliableOperation = jest.fn().mockImplementation(function () {
        attempts++;
        if (attempts < 3) {
          return Promise.reject(new Error(`Attempt ${attempts} failed`));
        }
        return Promise.resolve(`Success on attempt ${attempts}`);
      });
      var withRetryAndJitter = function () {
        var _ref44 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries) {
          var _lastError2;
          var baseDelay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
          var factor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;
          var jitter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.5;
          var lastError = null;
          var _loop3 = function* _loop3() {
              try {
                return {
                  v: yield operation()
                };
              } catch (error) {
                lastError = error;
                if (attempt < maxRetries) {
                  var expDelay = baseDelay * Math.pow(factor, attempt - 1);
                  var jitterAmount = expDelay * jitter;
                  var delay = expDelay + Math.random() * jitterAmount * 2 - jitterAmount;
                  yield new Promise(function (resolve) {
                    return setTimeout(resolve, delay);
                  });
                  jest.advanceTimersByTime(Math.ceil(delay));
                }
              }
            },
            _ret2;
          for (var attempt = 1; attempt <= maxRetries; attempt++) {
            _ret2 = yield* _loop3();
            if (_ret2) return _ret2.v;
          }
          throw new Error(`All ${maxRetries} attempts failed. Last error: ${(_lastError2 = lastError) == null ? void 0 : _lastError2.message}`);
        });
        return function withRetryAndJitter(_x16, _x17) {
          return _ref44.apply(this, arguments);
        };
      }();
      var result = yield withRetryAndJitter(unreliableOperation, maxAttempts);
      expect(result).toBe('Success on attempt 3');
      expect(unreliableOperation).toHaveBeenCalledTimes(3);
      var delays = setTimeoutSpy.mock.calls.map(function (call) {
        return call[1];
      });
      expect(new Set(delays).size).toBe(delays.length);
    }), 60000);
    test('should implement conditional retry based on error type', (0, _asyncToGenerator2.default)(function* () {
      var networkError = new Error('Network error');
      networkError.code = 'NETWORK_ERROR';
      var validationError = new Error('Validation error');
      validationError.code = 'VALIDATION_ERROR';
      var callCount = 0;
      var operation = jest.fn().mockImplementation(function () {
        callCount++;
        if (callCount === 1) {
          return Promise.reject(networkError);
        } else if (callCount === 2) {
          return Promise.reject(validationError);
        }
        return Promise.resolve('Success');
      });
      var withConditionalRetry = function () {
        var _ref46 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries, shouldRetry) {
          var attempts = 0;
          var lastError = null;
          while (attempts < maxRetries) {
            try {
              return yield operation();
            } catch (error) {
              lastError = error;
              attempts++;
              if (attempts >= maxRetries || !shouldRetry(lastError)) {
                throw lastError;
              }
              yield new Promise(function (resolve) {
                return setTimeout(resolve, 10);
              });
              jest.advanceTimersByTime(10);
            }
          }
          throw lastError;
        });
        return function withConditionalRetry(_x18, _x19, _x20) {
          return _ref46.apply(this, arguments);
        };
      }();
      var shouldRetry = function shouldRetry(error) {
        return error.code === 'NETWORK_ERROR';
      };
      yield expect(withConditionalRetry(operation, 3, shouldRetry)).rejects.toThrow('Validation error');
      expect(operation).toHaveBeenCalledTimes(2);
    }), 60000);
  });
  describe('Performance Optimization', function () {
    test('should efficiently process large arrays with chunking', (0, _asyncToGenerator2.default)(function* () {
      var largeArray = Array(100).fill(null).map(function (_, i) {
        return {
          id: i,
          value: `Item ${i}`
        };
      });
      var processInChunks = function () {
        var _ref48 = (0, _asyncToGenerator2.default)(function* (items, chunkSize, processor) {
          var results = [];
          for (var i = 0; i < items.length; i += chunkSize) {
            var chunk = items.slice(i, i + chunkSize);
            var chunkResults = yield processor(chunk);
            results.push.apply(results, (0, _toConsumableArray2.default)(chunkResults));
            yield new Promise(function (resolve) {
              return setTimeout(resolve, 0);
            });
            jest.advanceTimersByTime(0);
          }
          return results;
        });
        return function processInChunks(_x21, _x22, _x23) {
          return _ref48.apply(this, arguments);
        };
      }();
      var processItems = jest.fn().mockImplementation(function () {
        var _ref49 = (0, _asyncToGenerator2.default)(function* (items) {
          return items.map(function (item) {
            return Object.assign({}, item, {
              processed: true
            });
          });
        });
        return function (_x24) {
          return _ref49.apply(this, arguments);
        };
      }());
      var startTime = performance.now();
      var results = yield processInChunks(largeArray, 10, processItems);
      var endTime = performance.now();
      expect(results.length).toBe(100);
      expect(results[0].processed).toBe(true);
      expect(results[99].processed).toBe(true);
      expect(processItems).toHaveBeenCalledTimes(10);
      var duration = endTime - startTime;
      expect(duration).toBeLessThan(1000);
    }), 60000);
    test('should implement memoization for expensive calculations', function () {
      var expensiveCalculation = jest.fn(function (a, b) {
        var result = 0;
        for (var i = 0; i < 100; i++) {
          result += Math.sqrt(a * i + b);
        }
        return result;
      });
      var memoize = function memoize(fn) {
        var cache = new Map();
        return function () {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          var key = JSON.stringify(args);
          if (cache.has(key)) {
            return cache.get(key);
          }
          var result = fn.apply(void 0, args);
          cache.set(key, result);
          return result;
        };
      };
      var memoizedCalculation = memoize(expensiveCalculation);
      var result1 = memoizedCalculation(10, 20);
      var result2 = memoizedCalculation(5, 10);
      var _result3 = memoizedCalculation(10, 20);
      var _result4 = memoizedCalculation(5, 10);
      expect(result1).toBe(memoizedCalculation(10, 20));
      expect(result2).toBe(memoizedCalculation(5, 10));
      expect(expensiveCalculation).toHaveBeenCalledTimes(2);
    });
    test('should handle rapid concurrent operations', (0, _asyncToGenerator2.default)(function* () {
      var concurrentOperations = 20;
      var completedOperations = 0;
      var failedOperations = 0;
      jest.spyOn(mockStorage, 'setItem').mockImplementation(function () {
        if (Math.random() < 0.1) {
          return Promise.reject(new Error('Random failure'));
        }
        return Promise.resolve();
      });
      var startTime = performance.now();
      var promises = Array(concurrentOperations).fill(null).map(function (_, i) {
        return mockStorage.setItem(`key-${i}`, `value-${i}`).then(function () {
          completedOperations += 1;
        }).catch(function () {
          failedOperations += 1;
        });
      });
      yield Promise.all(promises);
      expect(completedOperations + failedOperations).toBe(concurrentOperations);
      expect(completedOperations).toBeGreaterThan(0);
      var duration = performance.now() - startTime;
      expect(duration).toBeLessThan(1000);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2NrU3RvcmFnZSIsIl9kYXRhIiwiTWFwIiwic2V0SXRlbSIsImplc3QiLCJmbiIsImtleSIsInZhbHVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJNYXRoIiwicmFuZG9tIiwiRXJyb3IiLCJzZXRUaW1lb3V0Iiwic2V0IiwiZ2V0SXRlbSIsImdldCIsInJlbW92ZUl0ZW0iLCJkZWxldGUiLCJjbGVhciIsImdldEFsbEtleXMiLCJBcnJheSIsImZyb20iLCJrZXlzIiwiTW9ja0V2ZW50RW1pdHRlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwibGlzdGVuZXJzIiwiX2NyZWF0ZUNsYXNzMiIsImFkZExpc3RlbmVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsIl90aGlzIiwiaGFzIiwicHVzaCIsInJlbW92ZSIsInJlbW92ZUxpc3RlbmVyIiwiZXZlbnRMaXN0ZW5lcnMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJfa2V5IiwiZm9yRWFjaCIsImFwcGx5IiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImRlc2NyaWJlIiwiY29uc29sZUVycm9yU3B5IiwiY29uc29sZVdhcm5TcHkiLCJzZXRUaW1lb3V0U3B5IiwiY2xlYXJUaW1lb3V0U3B5IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ1c2VGYWtlVGltZXJzIiwic3B5T24iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJnbG9iYWwiLCJhZnRlckVhY2giLCJjbGVhckFsbFRpbWVycyIsInVzZVJlYWxUaW1lcnMiLCJtb2NrUmVzdG9yZSIsInRlc3QiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJpbml0aWFsRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVtZSIsIm5vdGlmaWNhdGlvbnMiLCJ1cGRhdGUxIiwiX3JlZjIiLCJkYXRhIiwicGFyc2UiLCJ1cGRhdGUyIiwiX3JlZjMiLCJfeWllbGQkUHJvbWlzZSRhbGwiLCJhbGwiLCJfeWllbGQkUHJvbWlzZSRhbGwyIiwiX3NsaWNlZFRvQXJyYXkyIiwicmVzdWx0MSIsInJlc3VsdDIiLCJleHBlY3QiLCJub3QiLCJ0b0VxdWFsIiwiZmluYWxWYWx1ZSIsIm9iamVjdENvbnRhaW5pbmciLCJhbnkiLCJTdHJpbmciLCJCb29sZWFuIiwidG9CZSIsImN1cnJlbnRWZXJzaW9uIiwiY3VycmVudFZhbHVlIiwiZ2V0V2l0aFZlcnNpb24iLCJ2ZXJzaW9uIiwic2V0V2l0aFZlcnNpb24iLCJfcmVmNiIsImsiLCJ2YWx1ZVN0ciIsIl94IiwiX3gyIiwiaW5jcmVtZW50V2l0aFJldHJ5IiwiX3JlZjciLCJtYXhSZXRyaWVzIiwidW5kZWZpbmVkIiwicmV0cmllcyIsImRhdGFTdHIiLCJuZXdEYXRhIiwiciIsInBvdyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJyZXN1bHRzIiwiYWxsU2V0dGxlZCIsImV2ZXJ5Iiwic3RhdHVzIiwiZXZlbnRFbWl0dGVyIiwibW9ja0NhbGxiYWNrIiwic3Vic2NyaXB0aW9uIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtb2NrQ2xlYXIiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidGltZXJJZCIsImNsZWFyVGltZW91dCIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsImxvbmdSdW5uaW5nT3BlcmF0aW9uIiwiY2hlY2tBYm9ydCIsImFib3J0ZWQiLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib3BlcmF0aW9uUHJvbWlzZSIsImFib3J0IiwicmVqZWN0cyIsInRvVGhyb3ciLCJwcm9jZXNzRGF0YSIsIl9yZWYwIiwiX3ZhbGlkYXRlZERhdGEiLCJfdHJhbnNmb3JtZWREYXRhIiwiX3NhdmVkRGF0YSIsIk9iamVjdCIsImFzc2lnbiIsInNhdmVkIiwiX3gzIiwiaW5uZXJPcGVyYXRpb24iLCJfcmVmMTAiLCJtaWRkbGVPcGVyYXRpb24iLCJfcmVmMTEiLCJtZXNzYWdlIiwib3V0ZXJPcGVyYXRpb24iLCJfcmVmMTIiLCJmZXRjaFdpdGhGYWxsYmFjayIsIl9yZWYxNCIsInVybCIsImZhbGxiYWNrIiwiX3g0IiwiX3g1IiwicmVzdWx0IiwidGltZW91dFByb21pc2UiLCJtcyIsIl8iLCJzbG93T3BlcmF0aW9uIiwicmFjZVByb21pc2UiLCJyYWNlIiwib3BlcmF0aW9uV2l0aFRpbWVvdXQiLCJfcmVmMTciLCJvcGVyYXRpb24iLCJ0aW1lb3V0TXMiLCJ0aW1lb3V0RXJyb3IiLCJ0aW1lb3V0SWQiLCJmaW5hbGx5IiwiX3g2IiwiX3g3IiwiX3JlZjE5IiwiaWQiLCJkdXJhdGlvbiIsInRpbWVvdXQiLCJfeDgiLCJfeDkiLCJfeDAiLCJyZWFzb24iLCJ0b0NvbnRhaW4iLCJjb25jdXJyZW5jeUxpbWl0IiwiYWN0aXZlT3BlcmF0aW9ucyIsIm1heENvbmN1cnJlbnRPcGVyYXRpb25zIiwiX3JlZjIxIiwibWF4IiwiX3gxIiwicnVuV2l0aENvbmN1cnJlbmN5TGltaXQiLCJfcmVmMjIiLCJvcGVyYXRpb25zIiwibGltaXQiLCJleGVjdXRpbmciLCJfbG9vcCIsIl9vcGVyYXRpb24iLCJwIiwidGhlbiIsIl94MTAiLCJfeDExIiwiZmlsbCIsIm1hcCIsImkiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwib3AiLCJzdWNjZXNzUmVzdWx0cyIsImZpbHRlciIsInByaW9yaXR5UXVldWUiLCJwcmlvcml0eSIsInNvcnQiLCJhIiwiYiIsImV4ZWN1dGlvbk9yZGVyIiwiX3Jlc3VsdHMiLCJpdGVtIiwiZGVlcGx5TmVzdGVkIiwibGV2ZWwxIiwibGV2ZWwyIiwibGV2ZWwzIiwibGV2ZWw0IiwibGV2ZWw1IiwicmV0cmlldmVkIiwiY2lyY3VsYXIiLCJuYW1lIiwic2VsZiIsImNoaWxkIiwicGFyZW50Iiwic2VlbiIsIldlYWtTZXQiLCJzZXJpYWxpemVkIiwiYWRkIiwiZGVzZXJpYWxpemVkIiwic3BlY2lhbENoYXJzT2JqZWN0IiwiZW1vamkiLCJhcmFiaWMiLCJjaGluZXNlIiwicnVzc2lhbiIsImphcGFuZXNlIiwia29yZWFuIiwidGhhaSIsInNwZWNpYWxDaGFycyIsImVzY2FwZUNoYXJzIiwibWFsZm9ybWVkSlNPTiIsIlN5bnRheEVycm9yIiwic2FmZVBhcnNlIiwianNvbiIsInN0ZXAxIiwiX3JlZjMwIiwic3RlcDIiLCJfcmVmMzEiLCJzdGVwMyIsIl9yZWYzMiIsIl9yZWYzNCIsIl9yZWYzNSIsIl9yZWYzNiIsImNyZWF0ZUFwcEVycm9yIiwiY29kZSIsImNvbnRleHQiLCJleGVjdXRlT3BlcmF0aW9uIiwiX3JlZjM4IiwiYXBwRXJyb3IiLCJfeDEyIiwiZmFpbCIsImV4ZWN1dGVBbGwiLCJfcmVmNDAiLCJvcHMiLCJzdWNjZXNzZXMiLCJmYWlsdXJlcyIsIl94MTMiLCJhdHRlbXB0cyIsIm1heEF0dGVtcHRzIiwidW5yZWxpYWJsZU9wZXJhdGlvbiIsIndpdGhSZXRyeSIsIl9yZWY0MiIsIl9sYXN0RXJyb3IiLCJiYXNlRGVsYXkiLCJmYWN0b3IiLCJsYXN0RXJyb3IiLCJfbG9vcDIiLCJ2Iiwid2FybiIsImF0dGVtcHQiLCJkZWxheSIsIl9yZXQiLCJfeDE0IiwiX3gxNSIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIndpdGhSZXRyeUFuZEppdHRlciIsIl9yZWY0NCIsIl9sYXN0RXJyb3IyIiwiaml0dGVyIiwiX2xvb3AzIiwiZXhwRGVsYXkiLCJqaXR0ZXJBbW91bnQiLCJjZWlsIiwiX3JldDIiLCJfeDE2IiwiX3gxNyIsImRlbGF5cyIsIm1vY2siLCJjYWxscyIsImNhbGwiLCJTZXQiLCJzaXplIiwibmV0d29ya0Vycm9yIiwidmFsaWRhdGlvbkVycm9yIiwiY2FsbENvdW50Iiwid2l0aENvbmRpdGlvbmFsUmV0cnkiLCJfcmVmNDYiLCJzaG91bGRSZXRyeSIsIl94MTgiLCJfeDE5IiwiX3gyMCIsImxhcmdlQXJyYXkiLCJwcm9jZXNzSW5DaHVua3MiLCJfcmVmNDgiLCJpdGVtcyIsImNodW5rU2l6ZSIsInByb2Nlc3NvciIsImNodW5rIiwic2xpY2UiLCJjaHVua1Jlc3VsdHMiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3gyMSIsIl94MjIiLCJfeDIzIiwicHJvY2Vzc0l0ZW1zIiwiX3JlZjQ5IiwicHJvY2Vzc2VkIiwiX3gyNCIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiZW5kVGltZSIsInRvQmVMZXNzVGhhbiIsImV4cGVuc2l2ZUNhbGN1bGF0aW9uIiwic3FydCIsIm1lbW9pemUiLCJjYWNoZSIsIl9sZW4yIiwiX2tleTIiLCJtZW1vaXplZENhbGN1bGF0aW9uIiwiX3Jlc3VsdDMiLCJfcmVzdWx0NCIsImNvbmN1cnJlbnRPcGVyYXRpb25zIiwiY29tcGxldGVkT3BlcmF0aW9ucyIsImZhaWxlZE9wZXJhdGlvbnMiLCJwcm9taXNlcyIsImNhdGNoIiwidG9CZUdyZWF0ZXJUaGFuIl0sInNvdXJjZXMiOlsiYXN5bmNPcGVyYXRpb25FZGdlQ2FzZXMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVkZ2UgQ2FzZXMgYW5kIEFzeW5jIE9wZXJhdGlvbnMgVGVzdCBTdWl0ZVxuICogXG4gKiBUaGlzIHRlc3Qgc3VpdGUgZm9jdXNlcyBvbiB0ZXN0aW5nIGVkZ2UgY2FzZXMgcmVsYXRlZCB0byBhc3luY2hyb25vdXMgb3BlcmF0aW9uc1xuICogdXNpbmcgcHVyZSBKYXZhU2NyaXB0L1R5cGVTY3JpcHQgcGF0dGVybnMsIGluY2x1ZGluZyByYWNlIGNvbmRpdGlvbnMsIG1lbW9yeSBtYW5hZ2VtZW50LFxuICogcHJvbWlzZSBjaGFpbnMsIHRpbWVvdXRzLCBjb25jdXJyZW50IG9wZXJhdGlvbnMsIGFuZCBlcnJvciBoYW5kbGluZyBwYXR0ZXJucy5cbiAqL1xuXG4vLyBTaW1wbGUgbW9jayBmb3IgQXN5bmNTdG9yYWdlLWxpa2UgZnVuY3Rpb25hbGl0eVxuY29uc3QgbW9ja1N0b3JhZ2UgPSB7XG4gIF9kYXRhOiBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyBTaW11bGF0ZSBvY2Nhc2lvbmFsIGZhaWx1cmVzXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdTdG9yYWdlIGVycm9yJykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtb2NrU3RvcmFnZS5fZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIE1hdGgucmFuZG9tKCkgKiAxMCk7IC8vIFJhbmRvbSBkZWxheSB0byBzaW11bGF0ZSByYWNlIGNvbmRpdGlvbnNcbiAgICB9KTtcbiAgfSksXG4gIGdldEl0ZW06IGplc3QuZm4oKGtleTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZyB8IG51bGw+KChyZXNvbHZlKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShtb2NrU3RvcmFnZS5fZGF0YS5nZXQoa2V5KSB8fCBudWxsKTtcbiAgICAgIH0sIE1hdGgucmFuZG9tKCkgKiAxMCk7IC8vIFJhbmRvbSBkZWxheSB0byBzaW11bGF0ZSByYWNlIGNvbmRpdGlvbnNcbiAgICB9KTtcbiAgfSksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKGtleTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbW9ja1N0b3JhZ2UuX2RhdGEuZGVsZXRlKGtleSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgfSk7XG4gIH0pLFxuICBjbGVhcjogamVzdC5mbigoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICBtb2NrU3RvcmFnZS5fZGF0YS5jbGVhcigpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9KSxcbiAgZ2V0QWxsS2V5czogamVzdC5mbigoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZ1tdPigocmVzb2x2ZSkgPT4ge1xuICAgICAgcmVzb2x2ZShBcnJheS5mcm9tKG1vY2tTdG9yYWdlLl9kYXRhLmtleXMoKSkpO1xuICAgIH0pO1xuICB9KVxufTtcblxuLy8gTW9jayBmb3IgRXZlbnRFbWl0dGVyXG5jbGFzcyBNb2NrRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEFycmF5PCguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpO1xuICBcbiAgYWRkTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCkge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBbXSk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6ICgpID0+IHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKVxuICAgIH07XG4gIH1cbiAgXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhO1xuICAgIGNvbnN0IGluZGV4ID0gZXZlbnRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgZXZlbnRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgXG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudD86IHN0cmluZykge1xuICAgIGlmIChldmVudCkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKTtcbiAgICB9XG4gIH1cbiAgXG4gIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhO1xuICAgIGV2ZW50TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGV2ZW50IGxpc3RlbmVyOicsIGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmRlc2NyaWJlKCdFZGdlIENhc2VzIGFuZCBBc3luYyBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAvLyBTcHkgb24gY29uc29sZSBtZXRob2RzIHRvIHByZXZlbnQgbm9pc2UgaW4gdGVzdCBvdXRwdXRcbiAgbGV0IGNvbnNvbGVFcnJvclNweTogamVzdC5TcHlJbnN0YW5jZTtcbiAgbGV0IGNvbnNvbGVXYXJuU3B5OiBqZXN0LlNweUluc3RhbmNlO1xuICBsZXQgc2V0VGltZW91dFNweTogamVzdC5TcHlJbnN0YW5jZTtcbiAgbGV0IGNsZWFyVGltZW91dFNweTogamVzdC5TcHlJbnN0YW5jZTtcbiAgXG4gIC8vIFNldHVwIGJlZm9yZSBlYWNoIHRlc3RcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgXG4gICAgLy8gU3B5IG9uIGNvbnNvbGUgbWV0aG9kc1xuICAgIGNvbnNvbGVFcnJvclNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbiAgICBjb25zb2xlV2FyblNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuICAgIFxuICAgIC8vIFNweSBvbiBzZXRUaW1lb3V0IGFuZCBjbGVhclRpbWVvdXRcbiAgICBzZXRUaW1lb3V0U3B5ID0gamVzdC5zcHlPbihnbG9iYWwsICdzZXRUaW1lb3V0Jyk7XG4gICAgY2xlYXJUaW1lb3V0U3B5ID0gamVzdC5zcHlPbihnbG9iYWwsICdjbGVhclRpbWVvdXQnKTtcbiAgICBcbiAgICAvLyBDbGVhciBtb2NrIHN0b3JhZ2VcbiAgICBtb2NrU3RvcmFnZS5fZGF0YS5jbGVhcigpO1xuICB9KTtcbiAgXG4gIC8vIENsZWFudXAgYWZ0ZXIgZWFjaCB0ZXN0XG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbFRpbWVycygpO1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICAgIGNvbnNvbGVFcnJvclNweS5tb2NrUmVzdG9yZSgpO1xuICAgIGNvbnNvbGVXYXJuU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgc2V0VGltZW91dFNweS5tb2NrUmVzdG9yZSgpO1xuICAgIGNsZWFyVGltZW91dFNweS5tb2NrUmVzdG9yZSgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmFjZSBDb25kaXRpb25zJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgY29uY3VycmVudCBzdG9yYWdlIG9wZXJhdGlvbnMgb24gdGhlIHNhbWUga2V5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qga2V5ID0gJ3VzZXJfcHJlZmVyZW5jZXMnO1xuICAgICAgY29uc3QgaW5pdGlhbERhdGEgPSBKU09OLnN0cmluZ2lmeSh7IHRoZW1lOiAnbGlnaHQnLCBub3RpZmljYXRpb25zOiB0cnVlIH0pO1xuICAgICAgXG4gICAgICAvLyBTZXQgaW5pdGlhbCBkYXRhXG4gICAgICBhd2FpdCBtb2NrU3RvcmFnZS5zZXRJdGVtKGtleSwgaW5pdGlhbERhdGEpO1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBTaW11bGF0ZSB0d28gY29uY3VycmVudCB1cGRhdGVzXG4gICAgICBjb25zdCB1cGRhdGUxID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShhd2FpdCBtb2NrU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgJ3t9Jyk7XG4gICAgICAgIGRhdGEudGhlbWUgPSAnZGFyayc7XG4gICAgICAgIGF3YWl0IG1vY2tTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgdXBkYXRlMiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYXdhaXQgbW9ja1N0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICd7fScpO1xuICAgICAgICBkYXRhLm5vdGlmaWNhdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgYXdhaXQgbW9ja1N0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBSdW4gYm90aCB1cGRhdGVzIGNvbmN1cnJlbnRseVxuICAgICAgY29uc3QgW3Jlc3VsdDEsIHJlc3VsdDJdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3VwZGF0ZTEoKSwgdXBkYXRlMigpXSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgLy8gT25lIHVwZGF0ZSB3aWxsIG92ZXJ3cml0ZSB0aGUgb3RoZXIgZHVlIHRvIHJhY2UgY29uZGl0aW9uXG4gICAgICBleHBlY3QocmVzdWx0MSkubm90LnRvRXF1YWwocmVzdWx0Mik7XG4gICAgICBcbiAgICAgIC8vIFRoZSBmaW5hbCBzdG9yZWQgdmFsdWUgd2lsbCBiZSBmcm9tIHdoaWNoZXZlciBvcGVyYXRpb24gY29tcGxldGVkIGxhc3RcbiAgICAgIGNvbnN0IGZpbmFsVmFsdWUgPSBKU09OLnBhcnNlKGF3YWl0IG1vY2tTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAne30nKTtcbiAgICAgIGV4cGVjdChmaW5hbFZhbHVlKS50b0VxdWFsKGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgdGhlbWU6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgbm90aWZpY2F0aW9uczogZXhwZWN0LmFueShCb29sZWFuKSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBvbmUgcHJvcGVydHkgd2FzIHVwZGF0ZWQgaW4gZWFjaCByZXN1bHRcbiAgICAgIGV4cGVjdChyZXN1bHQxLnRoZW1lKS50b0JlKCdkYXJrJyk7XG4gICAgICBleHBlY3QocmVzdWx0Mi5ub3RpZmljYXRpb25zKS50b0JlKGZhbHNlKTtcbiAgICB9LCA2MDAwMCk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCBvcHRpbWlzdGljIGxvY2tpbmcgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBrZXkgPSAnY291bnRlcic7XG4gICAgICBsZXQgY3VycmVudFZlcnNpb24gPSAxO1xuICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IDA7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgc3RvcmFnZSB3aXRoIHZlcnNpb24gY2hlY2tpbmdcbiAgICAgIGNvbnN0IGdldFdpdGhWZXJzaW9uID0gamVzdC5mbihhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IHZhbHVlOiBjdXJyZW50VmFsdWUsIHZlcnNpb246IGN1cnJlbnRWZXJzaW9uIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldFdpdGhWZXJzaW9uID0gamVzdC5mbihhc3luYyAoazogc3RyaW5nLCB2YWx1ZVN0cjogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHZhbHVlU3RyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIG9wdGltaXN0aWMgbG9ja2luZyAtIG9ubHkgdXBkYXRlIGlmIHZlcnNpb25zIG1hdGNoXG4gICAgICAgIGlmIChkYXRhLnZlcnNpb24gPT09IGN1cnJlbnRWZXJzaW9uKSB7XG4gICAgICAgICAgY3VycmVudFZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgICAgICBjdXJyZW50VmVyc2lvbisrO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZlcnNpb24gbWlzbWF0Y2ggLSBkYXRhIHdhcyBtb2RpZmllZCBieSBhbm90aGVyIHByb2Nlc3MnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEZ1bmN0aW9uIHRvIGluY3JlbWVudCB3aXRoIHJldHJ5IGxvZ2ljXG4gICAgICBjb25zdCBpbmNyZW1lbnRXaXRoUmV0cnkgPSBhc3luYyAobWF4UmV0cmllcyA9IDMpOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICAgICAgICBsZXQgcmV0cmllcyA9IDA7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAocmV0cmllcyA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgZGF0YVxuICAgICAgICAgICAgY29uc3QgZGF0YVN0ciA9IGF3YWl0IGdldFdpdGhWZXJzaW9uKGtleSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyIHx8ICd7XCJ2YWx1ZVwiOjAsXCJ2ZXJzaW9uXCI6MX0nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHdpdGggY3VycmVudCB2ZXJzaW9uXG4gICAgICAgICAgICBjb25zdCBuZXdEYXRhID0ge1xuICAgICAgICAgICAgICB2YWx1ZTogZGF0YS52YWx1ZSArIDEsXG4gICAgICAgICAgICAgIHZlcnNpb246IGRhdGEudmVyc2lvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVHJ5IHRvIHNhdmVcbiAgICAgICAgICAgIGF3YWl0IHNldFdpdGhWZXJzaW9uKGtleSwgSlNPTi5zdHJpbmdpZnkobmV3RGF0YSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGEudmFsdWU7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHJpZXMrKztcbiAgICAgICAgICAgIGlmIChyZXRyaWVzID49IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXYWl0IGJlZm9yZSByZXRyeWluZyAoZXhwb25lbnRpYWwgYmFja29mZilcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAxMCAqIE1hdGgucG93KDIsIHJldHJpZXMpKSk7XG4gICAgICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAgKiBNYXRoLnBvdygyLCByZXRyaWVzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCBhZnRlciBtYXggcmV0cmllcycpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0IC0gUnVuIG11bHRpcGxlIGluY3JlbWVudHMgaW4gcGFyYWxsZWxcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgICBpbmNyZW1lbnRXaXRoUmV0cnkoKSxcbiAgICAgICAgaW5jcmVtZW50V2l0aFJldHJ5KCksXG4gICAgICAgIGluY3JlbWVudFdpdGhSZXRyeSgpXG4gICAgICBdKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICAvLyBBbGwgb3BlcmF0aW9ucyBzaG91bGQgZXZlbnR1YWxseSBzdWNjZWVkIHdpdGggcmV0cmllc1xuICAgICAgZXhwZWN0KHJlc3VsdHMuZXZlcnkociA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpKS50b0JlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBGaW5hbCB2YWx1ZSBzaG91bGQgYmUgaW5jcmVtZW50ZWQgYnkgdGhlIG51bWJlciBvZiBvcGVyYXRpb25zXG4gICAgICBleHBlY3QoY3VycmVudFZhbHVlKS50b0JlKDMpO1xuICAgICAgXG4gICAgICAvLyBWZXJzaW9uIHNob3VsZCBiZSBpbmNyZW1lbnRlZCBmb3IgZWFjaCBzdWNjZXNzZnVsIHVwZGF0ZVxuICAgICAgZXhwZWN0KGN1cnJlbnRWZXJzaW9uKS50b0JlKDQpOyAvLyBTdGFydGVkIGF0IDEsIHRoZW4gMyBzdWNjZXNzZnVsIHVwZGF0ZXNcbiAgICB9LCA2MDAwMCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZW1vcnkgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcHJvcGVybHkgY2xlYW51cCBldmVudCBsaXN0ZW5lcnMgd2hlbiBjb21wb25lbnQgdW5tb3VudHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBldmVudEVtaXR0ZXIgPSBuZXcgTW9ja0V2ZW50RW1pdHRlcigpO1xuICAgICAgY29uc3QgbW9ja0NhbGxiYWNrID0gamVzdC5mbigpO1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBTaW11bGF0ZSBjb21wb25lbnQgbGlmZWN5Y2xlXG4gICAgICAvLyBTZXR1cCBwaGFzZSAoY29tcG9uZW50RGlkTW91bnQpXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoJ2RhdGFDaGFuZ2UnLCBtb2NrQ2FsbGJhY2spO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgbGlzdGVuZXIgaXMgd29ya2luZ1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXQoJ2RhdGFDaGFuZ2UnLCB7IHZhbHVlOiAndGVzdCcgfSk7XG4gICAgICBleHBlY3QobW9ja0NhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHZhbHVlOiAndGVzdCcgfSk7XG4gICAgICBcbiAgICAgIC8vIENsZWFudXAgcGhhc2UgKGNvbXBvbmVudFdpbGxVbm1vdW50KVxuICAgICAgc3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgbGlzdGVuZXIgaXMgcmVtb3ZlZFxuICAgICAgbW9ja0NhbGxiYWNrLm1vY2tDbGVhcigpO1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXQoJ2RhdGFDaGFuZ2UnLCB7IHZhbHVlOiAndGVzdDInIH0pO1xuICAgICAgZXhwZWN0KG1vY2tDYWxsYmFjaykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgY2FuY2VsIHRpbWVycyB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tDYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIFxuICAgICAgLy8gQWN0IC0gU2ltdWxhdGUgY29tcG9uZW50IHdpdGggdGltZXJcbiAgICAgIGNvbnN0IHRpbWVySWQgPSBzZXRUaW1lb3V0KG1vY2tDYWxsYmFjaywgNTAwKTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgY29tcG9uZW50IHVubW91bnQgLSBjbGVhbnVwIHRpbWVyc1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgXG4gICAgICAvLyBGYXN0LWZvcndhcmQgdGltZVxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMDApO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtb2NrQ2FsbGJhY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoY2xlYXJUaW1lb3V0U3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0aW1lcklkKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGFiYW5kb25lZCBwcm9taXNlcyB0aGF0IGNvdWxkIGNhdXNlIG1lbW9yeSBsZWFrcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIHByb21pc2UgdGhhdCBjaGVja3MgZm9yIGFib3J0IHNpZ25hbFxuICAgICAgY29uc3QgbG9uZ1J1bm5pbmdPcGVyYXRpb24gPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrQWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gYWJvcnRlZCcpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBJbW1lZGlhdGUgY2hlY2tcbiAgICAgICAgaWYgKGNoZWNrQWJvcnQoKSkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHVwIHBlcmlvZGljIGNoZWNrc1xuICAgICAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGlmIChjaGVja0Fib3J0KCkpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzb2x2ZSBhZnRlciBhIGxvbmcgdGltZSBpZiBub3QgYWJvcnRlZFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgIHJlc29sdmUoJ09wZXJhdGlvbiBjb21wbGV0ZWQnKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBTdGFydCBhIGxvbmcgcnVubmluZyBvcGVyYXRpb25cbiAgICAgIGNvbnN0IG9wZXJhdGlvblByb21pc2UgPSBsb25nUnVubmluZ09wZXJhdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBjb21wb25lbnQgdW5tb3VudCAtIGFib3J0IHRoZSBvcGVyYXRpb25cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgXG4gICAgICAvLyBGYXN0LWZvcndhcmQgdGltZSB0byB0cmlnZ2VyIGludGVydmFsIGNoZWNrc1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KG9wZXJhdGlvblByb21pc2UpLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIGFib3J0ZWQnKTtcbiAgICB9LCA2MDAwMCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9taXNlIENoYWluIEZhaWx1cmVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzIGluIHRoZSBtaWRkbGUgb2YgcHJvbWlzZSBjaGFpbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBwcm9jZXNzRGF0YSA9IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgLy8gU3RlcCAxOiBWYWxpZGF0ZVxuICAgICAgICBjb25zdCBfdmFsaWRhdGVkRGF0YSA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0ZXAgMjogVHJhbnNmb3JtICh3aWxsIGZhaWwpXG4gICAgICAgIGNvbnN0IF90cmFuc2Zvcm1lZERhdGEgPSBhd2FpdCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1RyYW5zZm9ybSBmYWlsZWQnKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGVwIDM6IFNhdmUgKHNob3VsZCBuZXZlciBleGVjdXRlKVxuICAgICAgICBjb25zdCBfc2F2ZWREYXRhID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHsgLi4uX3RyYW5zZm9ybWVkRGF0YSwgc2F2ZWQ6IHRydWUgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gX3NhdmVkRGF0YTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3NEYXRhKHsgdGVzdDogdHJ1ZSB9KSkucmVqZWN0cy50b1Rocm93KCdUcmFuc2Zvcm0gZmFpbGVkJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlcnJvcnMgaW4gbmVzdGVkIHByb21pc2UgY2hhaW5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW5uZXJPcGVyYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5uZXIgb3BlcmF0aW9uIGZhaWxlZCcpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgbWlkZGxlT3BlcmF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBpbm5lck9wZXJhdGlvbigpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlkZGxlIG9wZXJhdGlvbiBjYXVnaHQ6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBvdXRlck9wZXJhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgbWlkZGxlT3BlcmF0aW9uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPdXRlciBvcGVyYXRpb24gY2F1Z2h0OiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3Qob3V0ZXJPcGVyYXRpb24oKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnT3V0ZXIgb3BlcmF0aW9uIGNhdWdodDogTWlkZGxlIG9wZXJhdGlvbiBjYXVnaHQ6IElubmVyIG9wZXJhdGlvbiBmYWlsZWQnXG4gICAgICApO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCByZWNvdmVyIGZyb20gcHJvbWlzZSBjaGFpbiBmYWlsdXJlcyB3aXRoIGZhbGxiYWNrIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGZldGNoV2l0aEZhbGxiYWNrID0gYXN5bmMgKHVybDogc3RyaW5nLCBmYWxsYmFjazogYW55KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YTonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoV2l0aEZhbGxiYWNrKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJywgeyBmYWxsYmFjazogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZmFsbGJhY2s6IHRydWUgfSk7XG4gICAgICBleHBlY3QoY29uc29sZUVycm9yU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUaW1lb3V0IEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgcHJvbWlzZSB0aW1lb3V0IHdpdGggcmFjZSBwYXR0ZXJuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSAobXM6IG51bWJlcikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAke21zfW1zYCkpLCBtcyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2xvd09wZXJhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgnU3VjY2VzcycpLCAyMDApO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydCAtIE9wZXJhdGlvbiBzaG91bGQgdGltZW91dFxuICAgICAgY29uc3QgcmFjZVByb21pc2UgPSBQcm9taXNlLnJhY2UoW3Nsb3dPcGVyYXRpb24oKSwgdGltZW91dFByb21pc2UoMTAwKV0pO1xuICAgICAgXG4gICAgICAvLyBGYXN0LWZvcndhcmQgdGltZSB0byB0cmlnZ2VyIHRpbWVvdXRcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDApO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocmFjZVByb21pc2UpLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAxMDBtcycpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBpbXBsZW1lbnQgY3VzdG9tIHRpbWVvdXQgZm9yIGFzeW5jIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcGVyYXRpb25XaXRoVGltZW91dCA9IGFzeW5jIDxUPihcbiAgICAgICAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgICAgICB0aW1lb3V0TXM6IG51bWJlclxuICAgICAgKTogUHJvbWlzZTxUPiA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBFcnJvcihgT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRNc31tc2ApO1xuICAgICAgICBcbiAgICAgICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHJlamVjdCh0aW1lb3V0RXJyb3IpLCB0aW1lb3V0TXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgIG9wZXJhdGlvbigpLFxuICAgICAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgICAgIF0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEEgc2xvdyBvcGVyYXRpb24gdGhhdCB3b3VsZCB0YWtlIHRvbyBsb25nXG4gICAgICBjb25zdCBzbG93T3BlcmF0aW9uID0gKCkgPT4gbmV3IFByb21pc2U8c3RyaW5nPihyZXNvbHZlID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCdTdWNjZXNzJyksIDIwMCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBjb25zdCBvcGVyYXRpb25Qcm9taXNlID0gb3BlcmF0aW9uV2l0aFRpbWVvdXQoKCkgPT4gc2xvd09wZXJhdGlvbigpLCAxMDApO1xuICAgICAgXG4gICAgICAvLyBGYXN0LWZvcndhcmQgdGltZSB0byB0cmlnZ2VyIHRpbWVvdXRcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDApO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3Qob3BlcmF0aW9uUHJvbWlzZSkucmVqZWN0cy50b1Rocm93KCdPcGVyYXRpb24gdGltZWQgb3V0IGFmdGVyIDEwMG1zJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB0aW1lb3V0cyBpbiBwYXJhbGxlbCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgb3BlcmF0aW9uV2l0aFRpbWVvdXQgPSBhc3luYyAoaWQ6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgdGltZW91dDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBPcGVyYXRpb24gJHtpZH0gdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tc2ApKTtcbiAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgcmVzb2x2ZShgT3BlcmF0aW9uICR7aWR9IGNvbXBsZXRlZCBpbiAke2R1cmF0aW9ufW1zYCk7XG4gICAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbXG4gICAgICAgIG9wZXJhdGlvbldpdGhUaW1lb3V0KDEsIDUwLCAxMDApLCAgLy8gU2hvdWxkIHN1Y2NlZWRcbiAgICAgICAgb3BlcmF0aW9uV2l0aFRpbWVvdXQoMiwgMTUwLCAxMDApLCAvLyBTaG91bGQgdGltZW91dFxuICAgICAgICBvcGVyYXRpb25XaXRoVGltZW91dCgzLCA4MCwgMTAwKSwgIC8vIFNob3VsZCBzdWNjZWVkXG4gICAgICBdKTtcbiAgICAgIFxuICAgICAgLy8gRmFzdC1mb3J3YXJkIHRpbWUgdG8gdHJpZ2dlciBhbGwgb3BlcmF0aW9uc1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDUwKTsgIC8vIEZpcnN0IG9wZXJhdGlvbiBjb21wbGV0ZXNcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgzMCk7ICAvLyBUaGlyZCBvcGVyYXRpb24gY29tcGxldGVzXG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjApOyAgLy8gVGltZW91dCBmb3Igc2Vjb25kIG9wZXJhdGlvblxuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdLnN0YXR1cykudG9CZSgnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1sxXS5zdGF0dXMpLnRvQmUoJ3JlamVjdGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1syXS5zdGF0dXMpLnRvQmUoJ2Z1bGZpbGxlZCcpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0c1sxXS5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdHNbMV0ucmVhc29uLm1lc3NhZ2UpLnRvQ29udGFpbignT3BlcmF0aW9uIDIgdGltZWQgb3V0Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25jdXJyZW50IE9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGxpbWl0IGNvbmN1cnJlbmN5IG9mIHBhcmFsbGVsIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBjb25jdXJyZW5jeUxpbWl0ID0gMztcbiAgICAgIGxldCBhY3RpdmVPcGVyYXRpb25zID0gMDtcbiAgICAgIGxldCBtYXhDb25jdXJyZW50T3BlcmF0aW9ucyA9IDA7XG4gICAgICBcbiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IGFzeW5jIChpZDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGFjdGl2ZU9wZXJhdGlvbnMrKztcbiAgICAgICAgbWF4Q29uY3VycmVudE9wZXJhdGlvbnMgPSBNYXRoLm1heChtYXhDb25jdXJyZW50T3BlcmF0aW9ucywgYWN0aXZlT3BlcmF0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGF0ZSB3b3JrXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTApO1xuICAgICAgICBcbiAgICAgICAgYWN0aXZlT3BlcmF0aW9ucy0tO1xuICAgICAgICByZXR1cm4gYE9wZXJhdGlvbiAke2lkfSBjb21wbGV0ZWRgO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gSGVscGVyIHRvIHJ1biBvcGVyYXRpb25zIHdpdGggbGltaXRlZCBjb25jdXJyZW5jeVxuICAgICAgY29uc3QgcnVuV2l0aENvbmN1cnJlbmN5TGltaXQgPSBhc3luYyAob3BlcmF0aW9uczogKCgpID0+IFByb21pc2U8YW55PilbXSwgbGltaXQ6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCBleGVjdXRpbmc6IFByb21pc2U8YW55PltdID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgY29uc3QgcCA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gb3BlcmF0aW9uKCkpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChwKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobGltaXQgPD0gb3BlcmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGU6IFByb21pc2U8YW55PiA9IHAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGV4ZWN1dGluZy5zcGxpY2UoZXhlY3V0aW5nLmluZGV4T2YoZSksIDEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleGVjdXRpbmcucHVzaChlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGV4ZWN1dGluZy5sZW5ndGggPj0gbGltaXQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5yYWNlKGV4ZWN1dGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBBcnJheSgxMCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+ICgpID0+IG9wZXJhdGlvbihpICsgMSkpO1xuICAgICAgYXdhaXQgcnVuV2l0aENvbmN1cnJlbmN5TGltaXQob3BlcmF0aW9ucywgY29uY3VycmVuY3lMaW1pdCk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KG1heENvbmN1cnJlbnRPcGVyYXRpb25zKS50b0JlTGVzc1RoYW5PckVxdWFsKGNvbmN1cnJlbmN5TGltaXQpO1xuICAgIH0sIDYwMDAwKTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVycm9ycyBpbiBjb25jdXJyZW50IG9wZXJhdGlvbnMgd2l0aG91dCBzdG9wcGluZyBvdGhlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAxIHN1Y2Nlc3MnKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gMiBmYWlsZWQnKSksXG4gICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgc3VjY2VzcycpLFxuICAgICAgICAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ09wZXJhdGlvbiA0IGZhaWxlZCcpKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCdPcGVyYXRpb24gNSBzdWNjZXNzJyksXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQob3BlcmF0aW9ucy5tYXAob3AgPT4gb3AoKSkpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdLnN0YXR1cykudG9CZSgnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1sxXS5zdGF0dXMpLnRvQmUoJ3JlamVjdGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1syXS5zdGF0dXMpLnRvQmUoJ2Z1bGZpbGxlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbM10uc3RhdHVzKS50b0JlKCdyZWplY3RlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbNF0uc3RhdHVzKS50b0JlKCdmdWxmaWxsZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3VjY2Vzc1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3Qoc3VjY2Vzc1Jlc3VsdHMubGVuZ3RoKS50b0JlKDMpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBwcmlvcml0aXplIG9wZXJhdGlvbnMgaW4gY29uY3VycmVudCBxdWV1ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGludGVyZmFjZSBRdWV1ZUl0ZW0ge1xuICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8YW55PjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcHJpb3JpdHlRdWV1ZTogUXVldWVJdGVtW10gPSBbXG4gICAgICAgIHsgaWQ6IDEsIHByaW9yaXR5OiAyLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDEgKE1lZGl1bSknKSB9LFxuICAgICAgICB7IGlkOiAyLCBwcmlvcml0eTogMSwgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAyIChIaWdoKScpIH0sXG4gICAgICAgIHsgaWQ6IDMsIHByaW9yaXR5OiAzLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgKExvdyknKSB9LFxuICAgICAgICB7IGlkOiA0LCBwcmlvcml0eTogMSwgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiA0IChIaWdoKScpIH0sXG4gICAgICAgIHsgaWQ6IDUsIHByaW9yaXR5OiAyLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDUgKE1lZGl1bSknKSB9LFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gU29ydCBieSBwcmlvcml0eSAobG93ZXIgbnVtYmVyID0gaGlnaGVyIHByaW9yaXR5KVxuICAgICAgcHJpb3JpdHlRdWV1ZS5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgZXhlY3V0aW9uT3JkZXI6IG51bWJlcltdID0gW107XG4gICAgICBjb25zdCBfcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwcmlvcml0eVF1ZXVlLm1hcChpdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5vcGVyYXRpb24oKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBleGVjdXRpb25PcmRlci5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgLy8gSGlnaCBwcmlvcml0eSBvcGVyYXRpb25zICgyLCA0KSBzaG91bGQgYmUgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleGVjdXRpb24gb3JkZXJcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlclswXSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlclsxXSkudG9CZSg0KTtcbiAgICAgIFxuICAgICAgLy8gTG93IHByaW9yaXR5IG9wZXJhdGlvbiAoMykgc2hvdWxkIGJlIGF0IHRoZSBlbmRcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlcltleGVjdXRpb25PcmRlci5sZW5ndGggLSAxXSkudG9CZSgzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGEgU3RydWN0dXJlIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBkZWVwbHkgbmVzdGVkIG9iamVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBkZWVwbHlOZXN0ZWQgPSB7XG4gICAgICAgIGxldmVsMToge1xuICAgICAgICAgIGxldmVsMjoge1xuICAgICAgICAgICAgbGV2ZWwzOiB7XG4gICAgICAgICAgICAgIGxldmVsNDoge1xuICAgICAgICAgICAgICAgIGxldmVsNToge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6ICdEZWVwIHZhbHVlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBtb2NrU3RvcmFnZS5zZXRJdGVtKCdkZWVwbHlOZXN0ZWQnLCBKU09OLnN0cmluZ2lmeShkZWVwbHlOZXN0ZWQpKTtcbiAgICAgIGNvbnN0IHJldHJpZXZlZCA9IEpTT04ucGFyc2UoYXdhaXQgbW9ja1N0b3JhZ2UuZ2V0SXRlbSgnZGVlcGx5TmVzdGVkJykgfHwgJ3t9Jyk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJldHJpZXZlZC5sZXZlbDEubGV2ZWwyLmxldmVsMy5sZXZlbDQubGV2ZWw1LnZhbHVlKS50b0JlKCdEZWVwIHZhbHVlJyk7XG4gICAgfSwgNjAwMDApO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGNpcmN1bGFyOiBhbnkgPSB7XG4gICAgICAgIG5hbWU6ICdDaXJjdWxhciBPYmplY3QnLFxuICAgICAgICB2YWx1ZTogNDIsXG4gICAgICB9O1xuICAgICAgY2lyY3VsYXIuc2VsZiA9IGNpcmN1bGFyOyAvLyBDcmVhdGUgY2lyY3VsYXIgcmVmZXJlbmNlXG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG1vcmUgY29tcGxleCBjaXJjdWxhciBzdHJ1Y3R1cmVcbiAgICAgIGNpcmN1bGFyLmNoaWxkID0ge1xuICAgICAgICBwYXJlbnQ6IGNpcmN1bGFyLFxuICAgICAgICBuYW1lOiAnQ2hpbGQgT2JqZWN0JyxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgLy8gRGlyZWN0IEpTT04uc3RyaW5naWZ5IHdpbGwgdGhyb3dcbiAgICAgIGV4cGVjdCgoKSA9PiBKU09OLnN0cmluZ2lmeShjaXJjdWxhcikpLnRvVGhyb3coKTtcbiAgICAgIFxuICAgICAgLy8gQ3VzdG9tIHNlcmlhbGl6ZXIgdG8gaGFuZGxlIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IHNlZW4gPSBuZXcgV2Vha1NldCgpO1xuICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KGNpcmN1bGFyLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoa2V5ICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhciBSZWZlcmVuY2VdJztcbiAgICAgICAgICB9XG4gICAgICAgICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnQgdGhlIHNlcmlhbGl6ZWQgc3RyaW5nIGNvbnRhaW5zIHRoZSBtYXJrZXJcbiAgICAgIGV4cGVjdChzZXJpYWxpemVkKS50b0NvbnRhaW4oJ1tDaXJjdWxhciBSZWZlcmVuY2VdJyk7XG4gICAgICBcbiAgICAgIC8vIFdlIGNhbiBkZXNlcmlhbGl6ZSBpdCBiYWNrXG4gICAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICAgICAgZXhwZWN0KGRlc2VyaWFsaXplZC5uYW1lKS50b0JlKCdDaXJjdWxhciBPYmplY3QnKTtcbiAgICAgIGV4cGVjdChkZXNlcmlhbGl6ZWQudmFsdWUpLnRvQmUoNDIpO1xuICAgICAgZXhwZWN0KGRlc2VyaWFsaXplZC5jaGlsZC5uYW1lKS50b0JlKCdDaGlsZCBPYmplY3QnKTtcbiAgICAgIGV4cGVjdChkZXNlcmlhbGl6ZWQuY2hpbGQucGFyZW50KS50b0JlKCdbQ2lyY3VsYXIgUmVmZXJlbmNlXScpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgVW5pY29kZSBhbmQgc3BlY2lhbCBjaGFyYWN0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgc3BlY2lhbENoYXJzT2JqZWN0ID0ge1xuICAgICAgICBlbW9qaTogJ/CfmIDwn5qA8J+Mn/CflKXwn46JJyxcbiAgICAgICAgYXJhYmljOiAn2YXYsdit2KjYpyDYqNin2YTYudin2YTZhScsXG4gICAgICAgIGNoaW5lc2U6ICfkvaDlpb3kuJbnlYwnLFxuICAgICAgICBydXNzaWFuOiAn0J/RgNC40LLQtdGCLCDQvNC40YAnLFxuICAgICAgICBqYXBhbmVzZTogJ+OBk+OCk+OBq+OBoeOBr+S4lueVjCcsXG4gICAgICAgIGtvcmVhbjogJ+yViOuFle2VmOyEuOyalCDshLjqs4QnLFxuICAgICAgICB0aGFpOiAn4Liq4Lin4Lix4Liq4LiU4Li14LiK4Liy4Lin4LmC4Lil4LiBJyxcbiAgICAgICAgc3BlY2lhbENoYXJzOiAnwqnCruKEosKnwrbigKDigKHimaDimaPimaXimabCv8KhwqvCuycsXG4gICAgICAgIGVzY2FwZUNoYXJzOiAnXFxuXFx0XFxyXFxiXFxmXFxcXFxcJ1xcXFxcIicsXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IG1vY2tTdG9yYWdlLnNldEl0ZW0oJ3NwZWNpYWxDaGFycycsIEpTT04uc3RyaW5naWZ5KHNwZWNpYWxDaGFyc09iamVjdCkpO1xuICAgICAgY29uc3QgcmV0cmlldmVkID0gSlNPTi5wYXJzZShhd2FpdCBtb2NrU3RvcmFnZS5nZXRJdGVtKCdzcGVjaWFsQ2hhcnMnKSB8fCAne30nKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmV0cmlldmVkLmVtb2ppKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5lbW9qaSk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLmFyYWJpYykudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QuYXJhYmljKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQuY2hpbmVzZSkudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QuY2hpbmVzZSk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLnJ1c3NpYW4pLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LnJ1c3NpYW4pO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5qYXBhbmVzZSkudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QuamFwYW5lc2UpO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5rb3JlYW4pLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LmtvcmVhbik7XG4gICAgICBleHBlY3QocmV0cmlldmVkLnRoYWkpLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LnRoYWkpO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5zcGVjaWFsQ2hhcnMpLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LnNwZWNpYWxDaGFycyk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLmVzY2FwZUNoYXJzKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5lc2NhcGVDaGFycyk7XG4gICAgfSwgNjAwMDApO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtYWxmb3JtZWRKU09OID0gJ3tcIm5hbWVcIjogXCJUZXN0XCIsIFwidmFsdWVcIjogNDIsIG1pc3Npbmc6IHF1b3RlcywgdW5jbG9zZWQ6IHsnO1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGV4cGVjdCgoKSA9PiBKU09OLnBhcnNlKG1hbGZvcm1lZEpTT04pKS50b1Rocm93KFN5bnRheEVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gU2FmZSBwYXJzZXIgd2l0aCBlcnJvciBoYW5kbGluZ1xuICAgICAgY29uc3Qgc2FmZVBhcnNlID0gKGpzb246IHN0cmluZywgZmFsbGJhY2s6IGFueSA9IHt9KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBKU09OOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCB3aXRoIHNhZmUgcGFyc2VyXG4gICAgICBjb25zdCByZXN1bHQgPSBzYWZlUGFyc2UobWFsZm9ybWVkSlNPTiwgeyBlcnJvcjogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZXJyb3I6IHRydWUgfSk7XG4gICAgICBleHBlY3QoY29uc29sZUVycm9yU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBQcm9wYWdhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcHJvcGFnYXRlIGVycm9ycyB0aHJvdWdoIGFzeW5jIGNoYWlucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHN0ZXAxID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGluIHN0ZXAgMScpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RlcDIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHN0ZXAxKCk7XG4gICAgICAgIHJldHVybiAnU3RlcCAyIGNvbXBsZXRlZCc7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBzdGVwMyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlcDIoKTtcbiAgICAgICAgcmV0dXJuIGBTdGVwIDMgY29tcGxldGVkIHdpdGggJHtyZXN1bHR9YDtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KHN0ZXAzKCkpLnJlamVjdHMudG9UaHJvdygnRXJyb3IgaW4gc3RlcCAxJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIHRyYW5zZm9ybSBlcnJvcnMgdGhyb3VnaCBhc3luYyBjaGFpbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBzdGVwMSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RlcDIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgc3RlcDEoKTtcbiAgICAgICAgICByZXR1cm4gJ1N0ZXAgMiBjb21wbGV0ZWQnO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGF0YSByZXRyaWV2YWwgZXJyb3I6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBzdGVwMyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGVwMigpO1xuICAgICAgICAgIHJldHVybiBgU3RlcCAzIGNvbXBsZXRlZCB3aXRoICR7cmVzdWx0fWA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9jZXNzaW5nIGVycm9yOiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3Qoc3RlcDMoKSkucmVqZWN0cy50b1Rocm93KCdQcm9jZXNzaW5nIGVycm9yOiBEYXRhIHJldHJpZXZhbCBlcnJvcjogRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVycm9ycyB3aXRoIGNvbnRleHQgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBpbnRlcmZhY2UgQXBwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgICAgIGNvZGU/OiBzdHJpbmc7XG4gICAgICAgIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjcmVhdGVBcHBFcnJvciA9IChcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nLFxuICAgICAgICBjb2RlPzogc3RyaW5nLFxuICAgICAgICBjb250ZXh0PzogUmVjb3JkPHN0cmluZywgYW55PlxuICAgICAgKTogQXBwRXJyb3IgPT4ge1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKSBhcyBBcHBFcnJvcjtcbiAgICAgICAgaWYgKGNvZGUpIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgICAgICBpZiAoY29udGV4dCkgZXJyb3IuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IGV4ZWN1dGVPcGVyYXRpb24gPSBhc3luYyAoY29udGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVyYXRpb24gZmFpbGVkJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc3QgYXBwRXJyb3IgPSBjcmVhdGVBcHBFcnJvcihcbiAgICAgICAgICAgIChlcnJvciBhcyBFcnJvcikubWVzc2FnZSxcbiAgICAgICAgICAgICdPUEVSQVRJT05fRVJST1InLFxuICAgICAgICAgICAgeyBjb250ZXh0IH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHRocm93IGFwcEVycm9yO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGV4ZWN1dGVPcGVyYXRpb24oJ3Rlc3QtY29udGV4dCcpO1xuICAgICAgICBmYWlsKCdTaG91bGQgaGF2ZSB0aHJvd24gYW4gZXJyb3InKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQmUoJ09wZXJhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmNvZGUpLnRvQmUoJ09QRVJBVElPTl9FUlJPUicpO1xuICAgICAgICBleHBlY3QoZXJyb3IuY29udGV4dCkudG9FcXVhbCh7IGNvbnRleHQ6ICd0ZXN0LWNvbnRleHQnIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBhZ2dyZWdhdGUgZXJyb3JzIGZyb20gbXVsdGlwbGUgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBbXG4gICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDEgc3VjY2VzcycpLFxuICAgICAgICAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ09wZXJhdGlvbiAyIGZhaWxlZCcpKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCdPcGVyYXRpb24gMyBzdWNjZXNzJyksXG4gICAgICAgICgpID0+IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignT3BlcmF0aW9uIDQgZmFpbGVkJykpLFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gQ3VzdG9tIGltcGxlbWVudGF0aW9uIHRvIGFnZ3JlZ2F0ZSBlcnJvcnNcbiAgICAgIGNvbnN0IGV4ZWN1dGVBbGwgPSBhc3luYyAob3BzOiAoKCkgPT4gUHJvbWlzZTxhbnk+KVtdKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQob3BzLm1hcChvcCA9PiBvcCgpKSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdWNjZXNzZXMgPSByZXN1bHRzXG4gICAgICAgICAgLmZpbHRlcigocik6IHIgaXMgUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDxhbnk+ID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJylcbiAgICAgICAgICAubWFwKHIgPT4gci52YWx1ZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBmYWlsdXJlcyA9IHJlc3VsdHNcbiAgICAgICAgICAuZmlsdGVyKChyKTogciBpcyBQcm9taXNlUmVqZWN0ZWRSZXN1bHQgPT4gci5zdGF0dXMgPT09ICdyZWplY3RlZCcpXG4gICAgICAgICAgLm1hcChyID0+IHIucmVhc29uKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChmYWlsdXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYCR7ZmFpbHVyZXMubGVuZ3RofSBvcGVyYXRpb25zIGZhaWxlZGApO1xuICAgICAgICAgIChlcnJvciBhcyBhbnkpLmZhaWx1cmVzID0gZmFpbHVyZXM7XG4gICAgICAgICAgKGVycm9yIGFzIGFueSkuc3VjY2Vzc2VzID0gc3VjY2Vzc2VzO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc3VjY2Vzc2VzO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBleGVjdXRlQWxsKG9wZXJhdGlvbnMpO1xuICAgICAgICBmYWlsKCdTaG91bGQgaGF2ZSB0aHJvd24gYW4gZXJyb3InKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQmUoJzIgb3BlcmF0aW9ucyBmYWlsZWQnKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmZhaWx1cmVzLmxlbmd0aCkudG9CZSgyKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmZhaWx1cmVzWzBdLm1lc3NhZ2UpLnRvQmUoJ09wZXJhdGlvbiAyIGZhaWxlZCcpO1xuICAgICAgICBleHBlY3QoZXJyb3IuZmFpbHVyZXNbMV0ubWVzc2FnZSkudG9CZSgnT3BlcmF0aW9uIDQgZmFpbGVkJyk7XG4gICAgICAgIGV4cGVjdChlcnJvci5zdWNjZXNzZXMubGVuZ3RoKS50b0JlKDIpO1xuICAgICAgICBleHBlY3QoZXJyb3Iuc3VjY2Vzc2VzKS50b0VxdWFsKFsnT3BlcmF0aW9uIDEgc3VjY2VzcycsICdPcGVyYXRpb24gMyBzdWNjZXNzJ10pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmV0cnkgTWVjaGFuaXNtcycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaW1wbGVtZW50IHJldHJ5IHdpdGggZXhwb25lbnRpYWwgYmFja29mZicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDM7XG4gICAgICBcbiAgICAgIGNvbnN0IHVucmVsaWFibGVPcGVyYXRpb24gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgaWYgKGF0dGVtcHRzIDwgMykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEF0dGVtcHQgJHthdHRlbXB0c30gZmFpbGVkYCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYFN1Y2Nlc3Mgb24gYXR0ZW1wdCAke2F0dGVtcHRzfWApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHdpdGhSZXRyeSA9IGFzeW5jIDxUPihcbiAgICAgICAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgICAgICBtYXhSZXRyaWVzOiBudW1iZXIsXG4gICAgICAgIGJhc2VEZWxheSA9IDEwLFxuICAgICAgICBmYWN0b3IgPSAyXG4gICAgICApOiBQcm9taXNlPFQ+ID0+IHtcbiAgICAgICAgbGV0IGxhc3RFcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yIGFzIEVycm9yO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBBdHRlbXB0ICR7YXR0ZW1wdH0gZmFpbGVkOiAke2xhc3RFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBiYXNlRGVsYXkgKiBNYXRoLnBvdyhmYWN0b3IsIGF0dGVtcHQgLSAxKTtcbiAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4gICAgICAgICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZShkZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFsbCAke21heFJldHJpZXN9IGF0dGVtcHRzIGZhaWxlZC4gTGFzdCBlcnJvcjogJHtsYXN0RXJyb3I/Lm1lc3NhZ2V9YCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpdGhSZXRyeSh1bnJlbGlhYmxlT3BlcmF0aW9uLCBtYXhBdHRlbXB0cyk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnU3VjY2VzcyBvbiBhdHRlbXB0IDMnKTtcbiAgICAgIGV4cGVjdCh1bnJlbGlhYmxlT3BlcmF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gICAgICBleHBlY3QoY29uc29sZVdhcm5TcHkpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9LCA2MDAwMCk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCByZXRyeSB3aXRoIGppdHRlciB0byBwcmV2ZW50IHRodW5kZXJpbmcgaGVyZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDM7XG4gICAgICBcbiAgICAgIGNvbnN0IHVucmVsaWFibGVPcGVyYXRpb24gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgaWYgKGF0dGVtcHRzIDwgMykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEF0dGVtcHQgJHthdHRlbXB0c30gZmFpbGVkYCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYFN1Y2Nlc3Mgb24gYXR0ZW1wdCAke2F0dGVtcHRzfWApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHdpdGhSZXRyeUFuZEppdHRlciA9IGFzeW5jIDxUPihcbiAgICAgICAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgICAgICBtYXhSZXRyaWVzOiBudW1iZXIsXG4gICAgICAgIGJhc2VEZWxheSA9IDEwLFxuICAgICAgICBmYWN0b3IgPSAyLFxuICAgICAgICBqaXR0ZXIgPSAwLjVcbiAgICAgICk6IFByb21pc2U8VD4gPT4ge1xuICAgICAgICBsZXQgbGFzdEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gbWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBvcGVyYXRpb24oKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbGFzdEVycm9yID0gZXJyb3IgYXMgRXJyb3I7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgbWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGVsYXkgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICAgIGNvbnN0IGV4cERlbGF5ID0gYmFzZURlbGF5ICogTWF0aC5wb3coZmFjdG9yLCBhdHRlbXB0IC0gMSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBZGQgaml0dGVyIHRvIHByZXZlbnQgdGh1bmRlcmluZyBoZXJkIHByb2JsZW1cbiAgICAgICAgICAgICAgY29uc3Qgaml0dGVyQW1vdW50ID0gZXhwRGVsYXkgKiBqaXR0ZXI7XG4gICAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gZXhwRGVsYXkgKyAoTWF0aC5yYW5kb20oKSAqIGppdHRlckFtb3VudCAqIDIpIC0gaml0dGVyQW1vdW50O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4gICAgICAgICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZShNYXRoLmNlaWwoZGVsYXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQWxsICR7bWF4UmV0cmllc30gYXR0ZW1wdHMgZmFpbGVkLiBMYXN0IGVycm9yOiAke2xhc3RFcnJvcj8ubWVzc2FnZX1gKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l0aFJldHJ5QW5kSml0dGVyKHVucmVsaWFibGVPcGVyYXRpb24sIG1heEF0dGVtcHRzKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdTdWNjZXNzIG9uIGF0dGVtcHQgMycpO1xuICAgICAgZXhwZWN0KHVucmVsaWFibGVPcGVyYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHNldFRpbWVvdXQgd2FzIGNhbGxlZCB3aXRoIGRpZmZlcmVudCB2YWx1ZXMgZWFjaCB0aW1lXG4gICAgICBjb25zdCBkZWxheXMgPSBzZXRUaW1lb3V0U3B5Lm1vY2suY2FsbHMubWFwKGNhbGwgPT4gY2FsbFsxXSk7XG4gICAgICBleHBlY3QobmV3IFNldChkZWxheXMpLnNpemUpLnRvQmUoZGVsYXlzLmxlbmd0aCk7IC8vIEFsbCBkZWxheXMgc2hvdWxkIGJlIHVuaXF1ZVxuICAgIH0sIDYwMDAwKTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaW1wbGVtZW50IGNvbmRpdGlvbmFsIHJldHJ5IGJhc2VkIG9uIGVycm9yIHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBuZXR3b3JrRXJyb3IgPSBuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKTtcbiAgICAgIChuZXR3b3JrRXJyb3IgYXMgYW55KS5jb2RlID0gJ05FVFdPUktfRVJST1InO1xuICAgICAgXG4gICAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSBuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZXJyb3InKTtcbiAgICAgICh2YWxpZGF0aW9uRXJyb3IgYXMgYW55KS5jb2RlID0gJ1ZBTElEQVRJT05fRVJST1InO1xuICAgICAgXG4gICAgICBsZXQgY2FsbENvdW50ID0gMDtcbiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICBjYWxsQ291bnQrKztcbiAgICAgICAgXG4gICAgICAgIGlmIChjYWxsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV0d29ya0Vycm9yKTsgLy8gU2hvdWxkIHJldHJ5XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHZhbGlkYXRpb25FcnJvcik7IC8vIFNob3VsZCBub3QgcmV0cnlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnU3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHdpdGhDb25kaXRpb25hbFJldHJ5ID0gYXN5bmMgPFQ+KFxuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gICAgICAgIG1heFJldHJpZXM6IG51bWJlcixcbiAgICAgICAgc2hvdWxkUmV0cnk6IChlcnJvcjogRXJyb3IpID0+IGJvb2xlYW5cbiAgICAgICk6IFByb21pc2U8VD4gPT4ge1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICBsZXQgbGFzdEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKGF0dGVtcHRzIDwgbWF4UmV0cmllcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yIGFzIEVycm9yO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heFJldHJpZXMgfHwgIXNob3VsZFJldHJ5KGxhc3RFcnJvcikpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbGFzdEVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcbiAgICAgICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBPbmx5IHJldHJ5IG5ldHdvcmsgZXJyb3JzLCBub3QgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gKGVycm9yOiBFcnJvcikgPT4gKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ05FVFdPUktfRVJST1InO1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdCh3aXRoQ29uZGl0aW9uYWxSZXRyeShvcGVyYXRpb24sIDMsIHNob3VsZFJldHJ5KSkucmVqZWN0cy50b1Rocm93KCdWYWxpZGF0aW9uIGVycm9yJyk7XG4gICAgICBleHBlY3Qob3BlcmF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSwgNjAwMDApO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBlZmZpY2llbnRseSBwcm9jZXNzIGxhcmdlIGFycmF5cyB3aXRoIGNodW5raW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbGFyZ2VBcnJheSA9IEFycmF5KDEwMCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+ICh7IGlkOiBpLCB2YWx1ZTogYEl0ZW0gJHtpfWAgfSkpO1xuICAgICAgXG4gICAgICAvLyBGdW5jdGlvbiB0byBwcm9jZXNzIGFycmF5IGluIGNodW5rc1xuICAgICAgY29uc3QgcHJvY2Vzc0luQ2h1bmtzID0gYXN5bmMgPFQsIFI+KFxuICAgICAgICBpdGVtczogVFtdLFxuICAgICAgICBjaHVua1NpemU6IG51bWJlcixcbiAgICAgICAgcHJvY2Vzc29yOiAoY2h1bms6IFRbXSkgPT4gUHJvbWlzZTxSW10+XG4gICAgICApOiBQcm9taXNlPFJbXT4gPT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBSW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IGNodW5rU2l6ZSkge1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gaXRlbXMuc2xpY2UoaSwgaSArIGNodW5rU2l6ZSk7XG4gICAgICAgICAgY29uc3QgY2h1bmtSZXN1bHRzID0gYXdhaXQgcHJvY2Vzc29yKGNodW5rKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goLi4uY2h1bmtSZXN1bHRzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBbGxvdyBldmVudCBsb29wIHRvIHByb2Nlc3Mgb3RoZXIgdGFza3MgYmV0d2VlbiBjaHVua3NcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBNb2NrIHByb2Nlc3NvciBmdW5jdGlvblxuICAgICAgY29uc3QgcHJvY2Vzc0l0ZW1zID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoaXRlbXM6IGFueVtdKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoaXRlbSA9PiAoeyAuLi5pdGVtLCBwcm9jZXNzZWQ6IHRydWUgfSkpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcHJvY2Vzc0luQ2h1bmtzKGxhcmdlQXJyYXksIDEwLCBwcm9jZXNzSXRlbXMpO1xuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG9CZSgxMDApO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMF0ucHJvY2Vzc2VkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbOTldLnByb2Nlc3NlZCkudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhdmUgY2FsbGVkIHRoZSBwcm9jZXNzb3IgMTAgdGltZXMgKDEwMCBpdGVtcyAvIDEwIGNodW5rIHNpemUpXG4gICAgICBleHBlY3QocHJvY2Vzc0l0ZW1zKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMTApO1xuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSBzaG91bGQgYmUgcmVhc29uYWJsZSAoc3BlY2lmaWMgdGhyZXNob2xkIGRlcGVuZHMgb24gZW52aXJvbm1lbnQpXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gU2hvdWxkIHByb2Nlc3MgaW4gdW5kZXIgMSBzZWNvbmRcbiAgICB9LCA2MDAwMCk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCBtZW1vaXphdGlvbiBmb3IgZXhwZW5zaXZlIGNhbGN1bGF0aW9ucycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGV4cGVuc2l2ZUNhbGN1bGF0aW9uID0gamVzdC5mbigoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IHtcbiAgICAgICAgLy8gU2ltdWxhdGUgZXhwZW5zaXZlIGNhbGN1bGF0aW9uXG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydChhICogaSArIGIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiB0aGUgZnVuY3Rpb25cbiAgICAgIGNvbnN0IG1lbW9pemUgPSA8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihmbjogVCk6IFQgPT4ge1xuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBSZXR1cm5UeXBlPFQ+PigpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuICgoLi4uYXJnczogUGFyYW1ldGVyczxUPik6IFJldHVyblR5cGU8VD4gPT4ge1xuICAgICAgICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KGFyZ3MpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpITtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4oLi4uYXJncyk7XG4gICAgICAgICAgY2FjaGUuc2V0KGtleSwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSBhcyBUO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgbWVtb2l6ZWRDYWxjdWxhdGlvbiA9IG1lbW9pemUoZXhwZW5zaXZlQ2FsY3VsYXRpb24pO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdDEgPSBtZW1vaXplZENhbGN1bGF0aW9uKDEwLCAyMCk7XG4gICAgICBjb25zdCByZXN1bHQyID0gbWVtb2l6ZWRDYWxjdWxhdGlvbig1LCAxMCk7XG4gICAgICBjb25zdCBfcmVzdWx0MyA9IG1lbW9pemVkQ2FsY3VsYXRpb24oMTAsIDIwKTsgLy8gU2hvdWxkIHVzZSBjYWNoZWQgcmVzdWx0XG4gICAgICBjb25zdCBfcmVzdWx0NCA9IG1lbW9pemVkQ2FsY3VsYXRpb24oNSwgMTApOyAgLy8gU2hvdWxkIHVzZSBjYWNoZWQgcmVzdWx0XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdDEpLnRvQmUobWVtb2l6ZWRDYWxjdWxhdGlvbigxMCwgMjApKTtcbiAgICAgIGV4cGVjdChyZXN1bHQyKS50b0JlKG1lbW9pemVkQ2FsY3VsYXRpb24oNSwgMTApKTtcbiAgICAgIFxuICAgICAgLy8gT3JpZ2luYWwgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHR3aWNlXG4gICAgICBleHBlY3QoZXhwZW5zaXZlQ2FsY3VsYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHJhcGlkIGNvbmN1cnJlbnQgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGNvbmN1cnJlbnRPcGVyYXRpb25zID0gMjA7XG4gICAgICBsZXQgY29tcGxldGVkT3BlcmF0aW9ucyA9IDA7XG4gICAgICBsZXQgZmFpbGVkT3BlcmF0aW9ucyA9IDA7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgc3RvcmFnZSB3aXRoIG9jY2FzaW9uYWwgZmFpbHVyZXNcbiAgICAgIGplc3Quc3B5T24obW9ja1N0b3JhZ2UsICdzZXRJdGVtJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgLy8gMTAlIGNoYW5jZSBvZiBmYWlsdXJlXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4xKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignUmFuZG9tIGZhaWx1cmUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIC8vIExhdW5jaCBtYW55IGNvbmN1cnJlbnQgb3BlcmF0aW9uc1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheShjb25jdXJyZW50T3BlcmF0aW9ucykuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIG1vY2tTdG9yYWdlLnNldEl0ZW0oYGtleS0ke2l9YCwgYHZhbHVlLSR7aX1gKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbXBsZXRlZE9wZXJhdGlvbnMgKz0gMTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICBmYWlsZWRPcGVyYXRpb25zICs9IDE7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChjb21wbGV0ZWRPcGVyYXRpb25zICsgZmFpbGVkT3BlcmF0aW9ucykudG9CZShjb25jdXJyZW50T3BlcmF0aW9ucyk7XG4gICAgICAvLyBXZSBleHBlY3Qgc29tZSByYW5kb20gZmFpbHVyZXMgYnV0IG5vdCBhbGxcbiAgICAgIGV4cGVjdChjb21wbGV0ZWRPcGVyYXRpb25zKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAvLyBFbnRpcmUgYnVyc3Qgc2hvdWxkIGZpbmlzaCBxdWlja2x5XG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDAwKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBU0EsSUFBTUEsV0FBVyxHQUFHO0VBQ2xCQyxLQUFLLEVBQUUsSUFBSUMsR0FBRyxDQUFpQixDQUFDO0VBQ2hDQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLFVBQUNDLEdBQVcsRUFBRUMsS0FBYSxFQUFLO0lBQy9DLE9BQU8sSUFBSUMsT0FBTyxDQUFPLFVBQUNDLE9BQU8sRUFBRUMsTUFBTSxFQUFLO01BRTVDLElBQUlDLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUU7UUFDdkJG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