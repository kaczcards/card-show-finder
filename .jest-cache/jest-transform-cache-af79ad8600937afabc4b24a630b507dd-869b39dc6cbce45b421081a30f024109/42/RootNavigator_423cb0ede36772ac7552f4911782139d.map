{"version":3,"names":["React","NavigationContainer","createNativeStackNavigator","AuthNavigator","MainNavigator","AdminNavigator","useAuth","useTheme","Loading","jsx","_jsx","jsxs","_jsxs","cov_7erf6tfa6","s","RootNavigator","f","_ref","authState","_ref2","isAuthenticated","isLoading","_ref3","_theme","theme","RootStack","b","type","message","linking","prefixes","config","screens","ResetPassword","path","children","Navigator","screenOptions","headerShown","Screen","name","component"],"sources":["RootNavigator.tsx"],"sourcesContent":["import React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\n// Import navigators\nimport AuthNavigator from './AuthNavigator';\nimport MainNavigator from './MainNavigator';\nimport AdminNavigator from './AdminNavigator';\n\n// Import auth context\nimport { useAuth } from '../contexts/AuthContext';\n\n// Import theme context\nimport { useTheme } from '../contexts/ThemeContext';\n\n// Import UI components\nimport { Loading } from '../components/ui';\n\n/**\n * RootNavigator - Handles top-level navigation based on auth state\n * Shows either the auth flow or main app based on authentication status\n */\nconst RootNavigator: React.FC = () => {\n  const { authState } = useAuth();\n  const { isAuthenticated, isLoading } = authState;\n  \n  // Get theme from context\n  const { theme: _theme } = useTheme();\n\n  // Root stack that will hold the main app and the admin tools\n  const RootStack = createNativeStackNavigator();\n\n  // Show loading indicator while auth state is being determined\n  if (isLoading) {\n    return (\n      <Loading \n        type=\"fullScreen\"\n        message=\"Loading...\"\n      />\n    );\n  }\n\n  /**\n   * Deep-link configuration\n   *  – Recognises our custom URL scheme `cardshowfinder://`\n   *  – Handles the password-reset flow (`cardshowfinder://reset-password?token=XYZ`)\n   *\n   *  The `ResetPassword` route lives inside the AuthNavigator stack.\n   *  React Navigation will automatically drill into nested navigators\n   *  as long as we declare the screen name in the config.\n   */\n  const linking = {\n    // Accept both the custom-scheme URL and the universal https link\n    prefixes: [\n      'cardshowfinder://',\n      'https://cardshowfinder.app',\n    ],\n    config: {\n      screens: {\n        // Auth flow\n        ResetPassword: {\n          path: 'reset-password',\n        },\n      },\n    },\n  };\n\n  return (\n    <NavigationContainer linking={linking}>\n      {isAuthenticated ? (\n        <RootStack.Navigator screenOptions={{ headerShown: false }}>\n          {/* Main user‐facing app */}\n          <RootStack.Screen name=\"Main\" component={MainNavigator} />\n          {/* Admin tools – only navigated to manually or via deep links */}\n          <RootStack.Screen name=\"Admin\" component={AdminNavigator} />\n        </RootStack.Navigator>\n      ) : (\n        <AuthNavigator />\n      )}\n    </NavigationContainer>\n  );\n};\n\nexport default RootNavigator;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,0BAA0B,QAAQ,gCAAgC;AAG3E,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,cAAc,MAAM,kBAAkB;AAG7C,SAASC,OAAO,QAAQ,yBAAyB;AAGjD,SAASC,QAAQ,QAAQ,0BAA0B;AAGnD,SAASC,OAAO,QAAQ,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAAAC,aAAA,GAAAC,CAAA;AAM3C,IAAMC,aAAuB,GAAG,SAA1BA,aAAuBA,CAAA,EAAS;EAAAF,aAAA,GAAAG,CAAA;EACpC,IAAAC,IAAA,IAAAJ,aAAA,GAAAC,CAAA,OAAsBR,OAAO,CAAC,CAAC;IAAvBY,SAAS,GAAAD,IAAA,CAATC,SAAS;EACjB,IAAAC,KAAA,IAAAN,aAAA,GAAAC,CAAA,OAAuCI,SAAS;IAAxCE,eAAe,GAAAD,KAAA,CAAfC,eAAe;IAAEC,SAAS,GAAAF,KAAA,CAATE,SAAS;EAGlC,IAAAC,KAAA,IAAAT,aAAA,GAAAC,CAAA,OAA0BP,QAAQ,CAAC,CAAC;IAArBgB,MAAM,GAAAD,KAAA,CAAbE,KAAK;EAGb,IAAMC,SAAS,IAAAZ,aAAA,GAAAC,CAAA,OAAGZ,0BAA0B,CAAC,CAAC;EAACW,aAAA,GAAAC,CAAA;EAG/C,IAAIO,SAAS,EAAE;IAAAR,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAC,CAAA;IACb,OACEJ,IAAA,CAACF,OAAO;MACNmB,IAAI,EAAC,YAAY;MACjBC,OAAO,EAAC;IAAY,CACrB,CAAC;EAEN,CAAC;IAAAf,aAAA,GAAAa,CAAA;EAAA;EAWD,IAAMG,OAAO,IAAAhB,aAAA,GAAAC,CAAA,OAAG;IAEdgB,QAAQ,EAAE,CACR,mBAAmB,EACnB,4BAA4B,CAC7B;IACDC,MAAM,EAAE;MACNC,OAAO,EAAE;QAEPC,aAAa,EAAE;UACbC,IAAI,EAAE;QACR;MACF;IACF;EACF,CAAC;EAACrB,aAAA,GAAAC,CAAA;EAEF,OACEJ,IAAA,CAACT,mBAAmB;IAAC4B,OAAO,EAAEA,OAAQ;IAAAM,QAAA,EACnCf,eAAe,IAAAP,aAAA,GAAAa,CAAA,UACdd,KAAA,CAACa,SAAS,CAACW,SAAS;MAACC,aAAa,EAAE;QAAEC,WAAW,EAAE;MAAM,CAAE;MAAAH,QAAA,GAEzDzB,IAAA,CAACe,SAAS,CAACc,MAAM;QAACC,IAAI,EAAC,MAAM;QAACC,SAAS,EAAErC;MAAc,CAAE,CAAC,EAE1DM,IAAA,CAACe,SAAS,CAACc,MAAM;QAACC,IAAI,EAAC,OAAO;QAACC,SAAS,EAAEpC;MAAe,CAAE,CAAC;IAAA,CACzC,CAAC,KAAAQ,aAAA,GAAAa,CAAA,UAEtBhB,IAAA,CAACP,aAAa,IAAE,CAAC;EAClB,CACkB,CAAC;AAE1B,CAAC;AAED,eAAeY,aAAa","ignoreList":[]}