4d8bbfda02480631fcae06b160fe8f32
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var mockStorage = {
  _data: new Map(),
  setItem: jest.fn(function (key, value) {
    return new Promise(function (resolve, reject) {
      if (Math.random() < 0.05) {
        reject(new Error('Storage error'));
        return;
      }
      setTimeout(function () {
        mockStorage._data.set(key, value);
        resolve();
      }, 1);
    });
  }),
  getItem: jest.fn(function (key) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        resolve(mockStorage._data.get(key) || null);
      }, 1);
    });
  }),
  removeItem: jest.fn(function (key) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        mockStorage._data.delete(key);
        resolve();
      }, 1);
    });
  }),
  clear: jest.fn(function () {
    return new Promise(function (resolve) {
      mockStorage._data.clear();
      resolve();
    });
  }),
  getAllKeys: jest.fn(function () {
    return new Promise(function (resolve) {
      resolve(Array.from(mockStorage._data.keys()));
    });
  })
};
var MockEventEmitter = function () {
  function MockEventEmitter() {
    (0, _classCallCheck2.default)(this, MockEventEmitter);
    this.listeners = new Map();
  }
  return (0, _createClass2.default)(MockEventEmitter, [{
    key: "addListener",
    value: function addListener(event, listener) {
      var _this = this;
      if (!this.listeners.has(event)) {
        this.listeners.set(event, []);
      }
      this.listeners.get(event).push(listener);
      return {
        remove: function remove() {
          return _this.removeListener(event, listener);
        }
      };
    }
  }, {
    key: "removeListener",
    value: function removeListener(event, listener) {
      if (!this.listeners.has(event)) return;
      var eventListeners = this.listeners.get(event);
      var index = eventListeners.indexOf(listener);
      if (index !== -1) {
        eventListeners.splice(index, 1);
      }
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(event) {
      if (event) {
        this.listeners.delete(event);
      } else {
        this.listeners.clear();
      }
    }
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      if (!this.listeners.has(event)) return false;
      var eventListeners = this.listeners.get(event);
      eventListeners.forEach(function (listener) {
        try {
          listener.apply(void 0, args);
        } catch (e) {
          console.error('Error in event listener:', e);
        }
      });
      return true;
    }
  }]);
}();
describe('Edge Cases and Async Operations', function () {
  var consoleErrorSpy;
  var consoleWarnSpy;
  beforeEach(function () {
    jest.clearAllMocks();
    consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation(function () {});
    consoleWarnSpy = jest.spyOn(console, 'warn').mockImplementation(function () {});
    mockStorage._data.clear();
  });
  afterEach(function () {
    consoleErrorSpy.mockRestore();
    consoleWarnSpy.mockRestore();
    jest.useRealTimers();
  });
  describe('Race Conditions', function () {
    test('should handle multiple concurrent storage operations on the same key', (0, _asyncToGenerator2.default)(function* () {
      var key = 'user_preferences';
      var initialData = JSON.stringify({
        theme: 'light',
        notifications: true
      });
      yield mockStorage.setItem(key, initialData);
      var update1 = function () {
        var _ref2 = (0, _asyncToGenerator2.default)(function* () {
          var data = JSON.parse((yield mockStorage.getItem(key)) || '{}');
          data.theme = 'dark';
          yield mockStorage.setItem(key, JSON.stringify(data));
          return data;
        });
        return function update1() {
          return _ref2.apply(this, arguments);
        };
      }();
      var update2 = function () {
        var _ref3 = (0, _asyncToGenerator2.default)(function* () {
          var data = JSON.parse((yield mockStorage.getItem(key)) || '{}');
          data.notifications = false;
          yield mockStorage.setItem(key, JSON.stringify(data));
          return data;
        });
        return function update2() {
          return _ref3.apply(this, arguments);
        };
      }();
      var _yield$Promise$all = yield Promise.all([update1(), update2()]),
        _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 2),
        result1 = _yield$Promise$all2[0],
        result2 = _yield$Promise$all2[1];
      expect(result1).not.toEqual(result2);
      var finalValue = JSON.parse((yield mockStorage.getItem(key)) || '{}');
      expect(finalValue).toEqual(expect.objectContaining({
        theme: expect.any(String),
        notifications: expect.any(Boolean)
      }));
      expect(result1.theme).toBe('dark');
      expect(result2.notifications).toBe(false);
    }));
    test('should implement optimistic locking to prevent race conditions', (0, _asyncToGenerator2.default)(function* () {
      var key = 'counter';
      var currentVersion = 1;
      var currentValue = 0;
      var getWithVersion = jest.fn((0, _asyncToGenerator2.default)(function* () {
        return JSON.stringify({
          value: currentValue,
          version: currentVersion
        });
      }));
      var setWithVersion = jest.fn(function () {
        var _ref6 = (0, _asyncToGenerator2.default)(function* (k, valueStr) {
          var data = JSON.parse(valueStr);
          if (data.version === currentVersion) {
            currentValue = data.value;
            currentVersion++;
            return;
          } else {
            throw new Error('Version mismatch - data was modified by another process');
          }
        });
        return function (_x, _x2) {
          return _ref6.apply(this, arguments);
        };
      }());
      var incrementWithRetry = function () {
        var _ref7 = (0, _asyncToGenerator2.default)(function* () {
          var maxRetries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;
          var retries = 0;
          while (retries < maxRetries) {
            try {
              var dataStr = yield getWithVersion(key);
              var data = JSON.parse(dataStr || '{"value":0,"version":1}');
              var newData = {
                value: data.value + 1,
                version: data.version
              };
              yield setWithVersion(key, JSON.stringify(newData));
              return newData.value;
            } catch (error) {
              retries++;
              if (retries >= maxRetries) {
                throw error;
              }
              yield new Promise(function (r) {
                return setTimeout(r, 1);
              });
            }
          }
          throw new Error('Failed after max retries');
        });
        return function incrementWithRetry() {
          return _ref7.apply(this, arguments);
        };
      }();
      var results = yield Promise.allSettled([incrementWithRetry(), incrementWithRetry(), incrementWithRetry()]);
      expect(results.every(function (r) {
        return r.status === 'fulfilled';
      })).toBe(true);
      expect(currentValue).toBe(3);
      expect(currentVersion).toBe(4);
    }));
  });
  describe('Memory Management', function () {
    test('should properly cleanup event listeners when component unmounts', function () {
      var eventEmitter = new MockEventEmitter();
      var mockCallback = jest.fn();
      var subscription = eventEmitter.addListener('dataChange', mockCallback);
      eventEmitter.emit('dataChange', {
        value: 'test'
      });
      expect(mockCallback).toHaveBeenCalledWith({
        value: 'test'
      });
      subscription.remove();
      mockCallback.mockClear();
      eventEmitter.emit('dataChange', {
        value: 'test2'
      });
      expect(mockCallback).not.toHaveBeenCalled();
    });
    test('should cancel timers to prevent memory leaks', function () {
      jest.useFakeTimers();
      var mockCallback = jest.fn();
      var timerId = setTimeout(mockCallback, 50);
      clearTimeout(timerId);
      jest.advanceTimersByTime(100);
      expect(mockCallback).not.toHaveBeenCalled();
    });
    test('should handle abandoned promises that could cause memory leaks', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var abortController = new AbortController();
      var signal = abortController.signal;
      var longRunningOperation = function longRunningOperation() {
        return new Promise(function (resolve, reject) {
          var checkAbort = function checkAbort() {
            if (signal.aborted) {
              reject(new Error('Operation aborted'));
              return true;
            }
            return false;
          };
          if (checkAbort()) return;
          var intervalId = setInterval(function () {
            if (checkAbort()) {
              clearInterval(intervalId);
            }
          }, 5);
          setTimeout(function () {
            clearInterval(intervalId);
            resolve('Operation completed');
          }, 10);
        });
      };
      var operationPromise = longRunningOperation();
      abortController.abort();
      jest.advanceTimersByTime(5);
      yield expect(operationPromise).rejects.toThrow('Operation aborted');
    }));
  });
  describe('Promise Chain Failures', function () {
    test('should handle errors in the middle of promise chains', (0, _asyncToGenerator2.default)(function* () {
      var processData = function () {
        var _ref0 = (0, _asyncToGenerator2.default)(function* (data) {
          var _validatedData = yield Promise.resolve(data);
          var _transformedData = yield Promise.reject(new Error('Transform failed'));
          var _savedData = yield Promise.resolve(Object.assign({}, _transformedData, {
            saved: true
          }));
          return _savedData;
        });
        return function processData(_x3) {
          return _ref0.apply(this, arguments);
        };
      }();
      yield expect(processData({
        test: true
      })).rejects.toThrow('Transform failed');
    }));
    test('should handle errors in nested promise chains', (0, _asyncToGenerator2.default)(function* () {
      var innerOperation = function () {
        var _ref10 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Inner operation failed');
        });
        return function innerOperation() {
          return _ref10.apply(this, arguments);
        };
      }();
      var middleOperation = function () {
        var _ref11 = (0, _asyncToGenerator2.default)(function* () {
          try {
            return yield innerOperation();
          } catch (error) {
            throw new Error(`Middle operation caught: ${error.message}`);
          }
        });
        return function middleOperation() {
          return _ref11.apply(this, arguments);
        };
      }();
      var outerOperation = function () {
        var _ref12 = (0, _asyncToGenerator2.default)(function* () {
          try {
            return yield middleOperation();
          } catch (error) {
            throw new Error(`Outer operation caught: ${error.message}`);
          }
        });
        return function outerOperation() {
          return _ref12.apply(this, arguments);
        };
      }();
      yield expect(outerOperation()).rejects.toThrow('Outer operation caught: Middle operation caught: Inner operation failed');
    }));
    test('should recover from promise chain failures with fallback values', (0, _asyncToGenerator2.default)(function* () {
      var fetchWithFallback = function () {
        var _ref14 = (0, _asyncToGenerator2.default)(function* (url, fallback) {
          try {
            throw new Error('Network error');
          } catch (error) {
            console.error('Error fetching data:', error);
            return fallback;
          }
        });
        return function fetchWithFallback(_x4, _x5) {
          return _ref14.apply(this, arguments);
        };
      }();
      var result = yield fetchWithFallback('https://api.example.com/data', {
        fallback: true
      });
      expect(result).toEqual({
        fallback: true
      });
      expect(consoleErrorSpy).toHaveBeenCalled();
    }));
  });
  describe('Timeout Handling', function () {
    test('should handle promise timeout with race pattern', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var timeoutPromise = function timeoutPromise(ms) {
        return new Promise(function (_, reject) {
          setTimeout(function () {
            return reject(new Error(`Operation timed out after ${ms}ms`));
          }, ms);
        });
      };
      var slowOperation = function slowOperation() {
        return new Promise(function (resolve) {
          setTimeout(function () {
            return resolve('Success');
          }, 20);
        });
      };
      var racePromise = Promise.race([slowOperation(), timeoutPromise(10)]);
      jest.advanceTimersByTime(10);
      yield expect(racePromise).rejects.toThrow('Operation timed out after 10ms');
    }));
    test('should implement custom timeout for async operations', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var operationWithTimeout = function () {
        var _ref17 = (0, _asyncToGenerator2.default)(function* (operation, timeoutMs) {
          var timeoutError = new Error(`Operation timed out after ${timeoutMs}ms`);
          var timeoutId;
          var timeoutPromise = new Promise(function (_, reject) {
            timeoutId = setTimeout(function () {
              return reject(timeoutError);
            }, timeoutMs);
          });
          return Promise.race([operation(), timeoutPromise]).finally(function () {
            clearTimeout(timeoutId);
          });
        });
        return function operationWithTimeout(_x6, _x7) {
          return _ref17.apply(this, arguments);
        };
      }();
      var slowOperation = function slowOperation() {
        return new Promise(function (resolve) {
          setTimeout(function () {
            return resolve('Success');
          }, 20);
        });
      };
      var operationPromise = operationWithTimeout(function () {
        return slowOperation();
      }, 10);
      jest.advanceTimersByTime(10);
      yield expect(operationPromise).rejects.toThrow('Operation timed out after 10ms');
    }));
    test('should handle timeouts in parallel operations', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var operationWithTimeout = function () {
        var _ref19 = (0, _asyncToGenerator2.default)(function* (id, duration, timeout) {
          return new Promise(function (resolve, reject) {
            var timeoutId = setTimeout(function () {
              reject(new Error(`Operation ${id} timed out after ${timeout}ms`));
            }, timeout);
            setTimeout(function () {
              clearTimeout(timeoutId);
              resolve(`Operation ${id} completed in ${duration}ms`);
            }, duration);
          });
        });
        return function operationWithTimeout(_x8, _x9, _x0) {
          return _ref19.apply(this, arguments);
        };
      }();
      var results = yield Promise.allSettled([operationWithTimeout(1, 5, 10), operationWithTimeout(2, 15, 10), operationWithTimeout(3, 8, 10)]);
      jest.advanceTimersByTime(5);
      jest.advanceTimersByTime(3);
      jest.advanceTimersByTime(2);
      expect(results[0].status).toBe('fulfilled');
      expect(results[1].status).toBe('rejected');
      expect(results[2].status).toBe('fulfilled');
      if (results[1].status === 'rejected') {
        expect(results[1].reason.message).toContain('Operation 2 timed out');
      }
    }));
  });
  describe('Concurrent Operations', function () {
    test('should limit concurrency of parallel operations', (0, _asyncToGenerator2.default)(function* () {
      var concurrencyLimit = 2;
      var activeOperations = 0;
      var maxConcurrentOperations = 0;
      var operation = function () {
        var _ref21 = (0, _asyncToGenerator2.default)(function* (id) {
          activeOperations++;
          maxConcurrentOperations = Math.max(maxConcurrentOperations, activeOperations);
          yield new Promise(function (resolve) {
            return setTimeout(resolve, 1);
          });
          activeOperations--;
          return `Operation ${id} completed`;
        });
        return function operation(_x1) {
          return _ref21.apply(this, arguments);
        };
      }();
      var runWithConcurrencyLimit = function () {
        var _ref22 = (0, _asyncToGenerator2.default)(function* (operations, limit) {
          var results = [];
          var executing = [];
          var _loop = function* _loop(_operation) {
            var p = Promise.resolve().then(function () {
              return _operation();
            });
            results.push(p);
            if (limit <= operations.length) {
              var e = p.then(function () {
                executing.splice(executing.indexOf(e), 1);
              });
              executing.push(e);
              if (executing.length >= limit) {
                yield Promise.race(executing);
              }
            }
          };
          for (var _operation of operations) {
            yield* _loop(_operation);
          }
          return Promise.all(results);
        });
        return function runWithConcurrencyLimit(_x10, _x11) {
          return _ref22.apply(this, arguments);
        };
      }();
      var operations = Array(5).fill(null).map(function (_, i) {
        return function () {
          return operation(i + 1);
        };
      });
      yield runWithConcurrencyLimit(operations, concurrencyLimit);
      expect(maxConcurrentOperations).toBeLessThanOrEqual(concurrencyLimit);
    }));
    test('should handle errors in concurrent operations without stopping others', (0, _asyncToGenerator2.default)(function* () {
      var operations = [function () {
        return Promise.resolve('Operation 1 success');
      }, function () {
        return Promise.reject(new Error('Operation 2 failed'));
      }, function () {
        return Promise.resolve('Operation 3 success');
      }, function () {
        return Promise.reject(new Error('Operation 4 failed'));
      }, function () {
        return Promise.resolve('Operation 5 success');
      }];
      var results = yield Promise.allSettled(operations.map(function (op) {
        return op();
      }));
      expect(results[0].status).toBe('fulfilled');
      expect(results[1].status).toBe('rejected');
      expect(results[2].status).toBe('fulfilled');
      expect(results[3].status).toBe('rejected');
      expect(results[4].status).toBe('fulfilled');
      var successResults = results.filter(function (r) {
        return r.status === 'fulfilled';
      });
      expect(successResults.length).toBe(3);
    }));
    test('should prioritize operations in concurrent queue', (0, _asyncToGenerator2.default)(function* () {
      var priorityQueue = [{
        id: 1,
        priority: 2,
        operation: function operation() {
          return Promise.resolve('Operation 1 (Medium)');
        }
      }, {
        id: 2,
        priority: 1,
        operation: function operation() {
          return Promise.resolve('Operation 2 (High)');
        }
      }, {
        id: 3,
        priority: 3,
        operation: function operation() {
          return Promise.resolve('Operation 3 (Low)');
        }
      }, {
        id: 4,
        priority: 1,
        operation: function operation() {
          return Promise.resolve('Operation 4 (High)');
        }
      }, {
        id: 5,
        priority: 2,
        operation: function operation() {
          return Promise.resolve('Operation 5 (Medium)');
        }
      }];
      priorityQueue.sort(function (a, b) {
        return a.priority - b.priority;
      });
      var executionOrder = [];
      var _results = yield Promise.all(priorityQueue.map(function (item) {
        return item.operation().then(function (result) {
          executionOrder.push(item.id);
          return result;
        });
      }));
      expect(executionOrder[0]).toBe(2);
      expect(executionOrder[1]).toBe(4);
      expect(executionOrder[executionOrder.length - 1]).toBe(3);
    }));
  });
  describe('Data Structure Edge Cases', function () {
    test('should handle deeply nested objects', (0, _asyncToGenerator2.default)(function* () {
      var deeplyNested = {
        level1: {
          level2: {
            level3: {
              level4: {
                level5: {
                  value: 'Deep value'
                }
              }
            }
          }
        }
      };
      yield mockStorage.setItem('deeplyNested', JSON.stringify(deeplyNested));
      var retrieved = JSON.parse((yield mockStorage.getItem('deeplyNested')) || '{}');
      expect(retrieved.level1.level2.level3.level4.level5.value).toBe('Deep value');
    }));
    test('should handle circular references', (0, _asyncToGenerator2.default)(function* () {
      var circular = {
        name: 'Circular Object',
        value: 42
      };
      circular.self = circular;
      circular.child = {
        parent: circular,
        name: 'Child Object'
      };
      expect(function () {
        return JSON.stringify(circular);
      }).toThrow();
      var seen = new WeakSet();
      var serialized = JSON.stringify(circular, function (key, value) {
        if (key && typeof value === 'object' && value !== null) {
          if (seen.has(value)) {
            return '[Circular Reference]';
          }
          seen.add(value);
        }
        return value;
      });
      expect(serialized).toContain('[Circular Reference]');
      var deserialized = JSON.parse(serialized);
      expect(deserialized.name).toBe('Circular Object');
      expect(deserialized.value).toBe(42);
      expect(deserialized.child.name).toBe('Child Object');
      expect(deserialized.child.parent).toBe('[Circular Reference]');
    }));
    test('should handle Unicode and special characters', (0, _asyncToGenerator2.default)(function* () {
      var specialCharsObject = {
        emoji: '😀🚀🌟🔥🎉',
        arabic: 'مرحبا بالعالم',
        chinese: '你好世界',
        russian: 'Привет, мир',
        japanese: 'こんにちは世界',
        korean: '안녕하세요 세계',
        thai: 'สวัสดีชาวโลก',
        specialChars: '©®™§¶†‡♠♣♥♦¿¡«»',
        escapeChars: '\n\t\r\b\f\\\'\\"'
      };
      yield mockStorage.setItem('specialChars', JSON.stringify(specialCharsObject));
      var retrieved = JSON.parse((yield mockStorage.getItem('specialChars')) || '{}');
      expect(retrieved.emoji).toBe(specialCharsObject.emoji);
      expect(retrieved.arabic).toBe(specialCharsObject.arabic);
      expect(retrieved.chinese).toBe(specialCharsObject.chinese);
      expect(retrieved.russian).toBe(specialCharsObject.russian);
      expect(retrieved.japanese).toBe(specialCharsObject.japanese);
      expect(retrieved.korean).toBe(specialCharsObject.korean);
      expect(retrieved.thai).toBe(specialCharsObject.thai);
      expect(retrieved.specialChars).toBe(specialCharsObject.specialChars);
      expect(retrieved.escapeChars).toBe(specialCharsObject.escapeChars);
    }));
    test('should handle malformed data', (0, _asyncToGenerator2.default)(function* () {
      var malformedJSON = '{"name": "Test", "value": 42, missing: quotes, unclosed: {';
      expect(function () {
        return JSON.parse(malformedJSON);
      }).toThrow(SyntaxError);
      var safeParse = function safeParse(json) {
        var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        try {
          return JSON.parse(json);
        } catch (error) {
          console.error('Error parsing JSON:', error);
          return fallback;
        }
      };
      var result = safeParse(malformedJSON, {
        error: true
      });
      expect(result).toEqual({
        error: true
      });
      expect(consoleErrorSpy).toHaveBeenCalled();
    }));
  });
  describe('Error Propagation', function () {
    test('should propagate errors through async chains', (0, _asyncToGenerator2.default)(function* () {
      var step1 = function () {
        var _ref30 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Error in step 1');
        });
        return function step1() {
          return _ref30.apply(this, arguments);
        };
      }();
      var step2 = function () {
        var _ref31 = (0, _asyncToGenerator2.default)(function* () {
          yield step1();
          return 'Step 2 completed';
        });
        return function step2() {
          return _ref31.apply(this, arguments);
        };
      }();
      var step3 = function () {
        var _ref32 = (0, _asyncToGenerator2.default)(function* () {
          var result = yield step2();
          return `Step 3 completed with ${result}`;
        });
        return function step3() {
          return _ref32.apply(this, arguments);
        };
      }();
      yield expect(step3()).rejects.toThrow('Error in step 1');
    }));
    test('should transform errors through async chains', (0, _asyncToGenerator2.default)(function* () {
      var step1 = function () {
        var _ref34 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Database connection failed');
        });
        return function step1() {
          return _ref34.apply(this, arguments);
        };
      }();
      var step2 = function () {
        var _ref35 = (0, _asyncToGenerator2.default)(function* () {
          try {
            yield step1();
            return 'Step 2 completed';
          } catch (error) {
            throw new Error(`Data retrieval error: ${error.message}`);
          }
        });
        return function step2() {
          return _ref35.apply(this, arguments);
        };
      }();
      var step3 = function () {
        var _ref36 = (0, _asyncToGenerator2.default)(function* () {
          try {
            var result = yield step2();
            return `Step 3 completed with ${result}`;
          } catch (error) {
            throw new Error(`Processing error: ${error.message}`);
          }
        });
        return function step3() {
          return _ref36.apply(this, arguments);
        };
      }();
      yield expect(step3()).rejects.toThrow('Processing error: Data retrieval error: Database connection failed');
    }));
    test('should handle errors with context information', (0, _asyncToGenerator2.default)(function* () {
      var createAppError = function createAppError(message, code, context) {
        var error = new Error(message);
        if (code) error.code = code;
        if (context) error.context = context;
        return error;
      };
      var executeOperation = function () {
        var _ref38 = (0, _asyncToGenerator2.default)(function* (context) {
          try {
            throw new Error('Operation failed');
          } catch (error) {
            var appError = createAppError(error.message, 'OPERATION_ERROR', {
              context: context
            });
            throw appError;
          }
        });
        return function executeOperation(_x12) {
          return _ref38.apply(this, arguments);
        };
      }();
      try {
        yield executeOperation('test-context');
        fail('Should have thrown an error');
      } catch (error) {
        expect(error.message).toBe('Operation failed');
        expect(error.code).toBe('OPERATION_ERROR');
        expect(error.context).toEqual({
          context: 'test-context'
        });
      }
    }));
    test('should aggregate errors from multiple operations', (0, _asyncToGenerator2.default)(function* () {
      var operations = [function () {
        return Promise.resolve('Operation 1 success');
      }, function () {
        return Promise.reject(new Error('Operation 2 failed'));
      }, function () {
        return Promise.resolve('Operation 3 success');
      }, function () {
        return Promise.reject(new Error('Operation 4 failed'));
      }];
      var executeAll = function () {
        var _ref40 = (0, _asyncToGenerator2.default)(function* (ops) {
          var results = yield Promise.allSettled(ops.map(function (op) {
            return op();
          }));
          var successes = results.filter(function (r) {
            return r.status === 'fulfilled';
          }).map(function (r) {
            return r.value;
          });
          var failures = results.filter(function (r) {
            return r.status === 'rejected';
          }).map(function (r) {
            return r.reason;
          });
          if (failures.length > 0) {
            var error = new Error(`${failures.length} operations failed`);
            error.failures = failures;
            error.successes = successes;
            throw error;
          }
          return successes;
        });
        return function executeAll(_x13) {
          return _ref40.apply(this, arguments);
        };
      }();
      try {
        yield executeAll(operations);
        fail('Should have thrown an error');
      } catch (error) {
        expect(error.message).toBe('2 operations failed');
        expect(error.failures.length).toBe(2);
        expect(error.failures[0].message).toBe('Operation 2 failed');
        expect(error.failures[1].message).toBe('Operation 4 failed');
        expect(error.successes.length).toBe(2);
        expect(error.successes).toEqual(['Operation 1 success', 'Operation 3 success']);
      }
    }));
  });
  describe('Retry Mechanisms', function () {
    test('should implement retry with exponential backoff', (0, _asyncToGenerator2.default)(function* () {
      var attempts = 0;
      var maxAttempts = 3;
      var unreliableOperation = jest.fn().mockImplementation(function () {
        attempts++;
        if (attempts < 3) {
          return Promise.reject(new Error(`Attempt ${attempts} failed`));
        }
        return Promise.resolve(`Success on attempt ${attempts}`);
      });
      var withRetry = function () {
        var _ref42 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries) {
          var _lastError;
          var lastError = null;
          for (var attempt = 1; attempt <= maxRetries; attempt++) {
            try {
              return yield operation();
            } catch (error) {
              lastError = error;
              console.warn(`Attempt ${attempt} failed: ${lastError.message}`);
              if (attempt < maxRetries) {
                yield new Promise(function (resolve) {
                  return setTimeout(resolve, 1);
                });
              }
            }
          }
          throw new Error(`All ${maxRetries} attempts failed. Last error: ${(_lastError = lastError) == null ? void 0 : _lastError.message}`);
        });
        return function withRetry(_x14, _x15) {
          return _ref42.apply(this, arguments);
        };
      }();
      var result = yield withRetry(unreliableOperation, maxAttempts);
      expect(result).toBe('Success on attempt 3');
      expect(unreliableOperation).toHaveBeenCalledTimes(3);
      expect(consoleWarnSpy).toHaveBeenCalledTimes(2);
    }));
    test('should implement conditional retry based on error type', (0, _asyncToGenerator2.default)(function* () {
      var networkError = new Error('Network error');
      networkError.code = 'NETWORK_ERROR';
      var validationError = new Error('Validation error');
      validationError.code = 'VALIDATION_ERROR';
      var callCount = 0;
      var operation = jest.fn().mockImplementation(function () {
        callCount++;
        if (callCount === 1) {
          return Promise.reject(networkError);
        } else if (callCount === 2) {
          return Promise.reject(validationError);
        }
        return Promise.resolve('Success');
      });
      var withConditionalRetry = function () {
        var _ref44 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries, shouldRetry) {
          var attempts = 0;
          var lastError = null;
          while (attempts < maxRetries) {
            try {
              return yield operation();
            } catch (error) {
              lastError = error;
              attempts++;
              if (attempts >= maxRetries || !shouldRetry(lastError)) {
                throw lastError;
              }
              yield new Promise(function (resolve) {
                return setTimeout(resolve, 1);
              });
            }
          }
          throw lastError;
        });
        return function withConditionalRetry(_x16, _x17, _x18) {
          return _ref44.apply(this, arguments);
        };
      }();
      var shouldRetry = function shouldRetry(error) {
        return error.code === 'NETWORK_ERROR';
      };
      yield expect(withConditionalRetry(operation, 3, shouldRetry)).rejects.toThrow('Validation error');
      expect(operation).toHaveBeenCalledTimes(2);
    }));
  });
  describe('Performance Optimization', function () {
    test('should efficiently process large arrays with chunking', (0, _asyncToGenerator2.default)(function* () {
      var largeArray = Array(20).fill(null).map(function (_, i) {
        return {
          id: i,
          value: `Item ${i}`
        };
      });
      var processInChunks = function () {
        var _ref46 = (0, _asyncToGenerator2.default)(function* (items, chunkSize, processor) {
          var results = [];
          for (var i = 0; i < items.length; i += chunkSize) {
            var chunk = items.slice(i, i + chunkSize);
            var chunkResults = yield processor(chunk);
            results.push.apply(results, (0, _toConsumableArray2.default)(chunkResults));
          }
          return results;
        });
        return function processInChunks(_x19, _x20, _x21) {
          return _ref46.apply(this, arguments);
        };
      }();
      var processItems = jest.fn().mockImplementation(function () {
        var _ref47 = (0, _asyncToGenerator2.default)(function* (items) {
          return items.map(function (item) {
            return Object.assign({}, item, {
              processed: true
            });
          });
        });
        return function (_x22) {
          return _ref47.apply(this, arguments);
        };
      }());
      var results = yield processInChunks(largeArray, 5, processItems);
      expect(results.length).toBe(20);
      expect(results[0].processed).toBe(true);
      expect(results[19].processed).toBe(true);
      expect(processItems).toHaveBeenCalledTimes(4);
    }));
    test('should implement memoization for expensive calculations', function () {
      var expensiveCalculation = jest.fn(function (a, b) {
        return a * b + Math.sqrt(a + b);
      });
      var memoize = function memoize(fn) {
        var cache = new Map();
        return function () {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          var key = JSON.stringify(args);
          if (cache.has(key)) {
            return cache.get(key);
          }
          var result = fn.apply(void 0, args);
          cache.set(key, result);
          return result;
        };
      };
      var memoizedCalculation = memoize(expensiveCalculation);
      var result1 = memoizedCalculation(10, 20);
      var result2 = memoizedCalculation(5, 10);
      var result3 = memoizedCalculation(10, 20);
      var result4 = memoizedCalculation(5, 10);
      expect(result1).toBe(result3);
      expect(result2).toBe(result4);
      expect(expensiveCalculation).toHaveBeenCalledTimes(2);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2NrU3RvcmFnZSIsIl9kYXRhIiwiTWFwIiwic2V0SXRlbSIsImplc3QiLCJmbiIsImtleSIsInZhbHVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJNYXRoIiwicmFuZG9tIiwiRXJyb3IiLCJzZXRUaW1lb3V0Iiwic2V0IiwiZ2V0SXRlbSIsImdldCIsInJlbW92ZUl0ZW0iLCJkZWxldGUiLCJjbGVhciIsImdldEFsbEtleXMiLCJBcnJheSIsImZyb20iLCJrZXlzIiwiTW9ja0V2ZW50RW1pdHRlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwibGlzdGVuZXJzIiwiX2NyZWF0ZUNsYXNzMiIsImFkZExpc3RlbmVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsIl90aGlzIiwiaGFzIiwicHVzaCIsInJlbW92ZSIsInJlbW92ZUxpc3RlbmVyIiwiZXZlbnRMaXN0ZW5lcnMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJfa2V5IiwiZm9yRWFjaCIsImFwcGx5IiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImRlc2NyaWJlIiwiY29uc29sZUVycm9yU3B5IiwiY29uc29sZVdhcm5TcHkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInNweU9uIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiYWZ0ZXJFYWNoIiwibW9ja1Jlc3RvcmUiLCJ1c2VSZWFsVGltZXJzIiwidGVzdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImluaXRpYWxEYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW1lIiwibm90aWZpY2F0aW9ucyIsInVwZGF0ZTEiLCJfcmVmMiIsImRhdGEiLCJwYXJzZSIsInVwZGF0ZTIiLCJfcmVmMyIsIl95aWVsZCRQcm9taXNlJGFsbCIsImFsbCIsIl95aWVsZCRQcm9taXNlJGFsbDIiLCJfc2xpY2VkVG9BcnJheTIiLCJyZXN1bHQxIiwicmVzdWx0MiIsImV4cGVjdCIsIm5vdCIsInRvRXF1YWwiLCJmaW5hbFZhbHVlIiwib2JqZWN0Q29udGFpbmluZyIsImFueSIsIlN0cmluZyIsIkJvb2xlYW4iLCJ0b0JlIiwiY3VycmVudFZlcnNpb24iLCJjdXJyZW50VmFsdWUiLCJnZXRXaXRoVmVyc2lvbiIsInZlcnNpb24iLCJzZXRXaXRoVmVyc2lvbiIsIl9yZWY2IiwiayIsInZhbHVlU3RyIiwiX3giLCJfeDIiLCJpbmNyZW1lbnRXaXRoUmV0cnkiLCJfcmVmNyIsIm1heFJldHJpZXMiLCJ1bmRlZmluZWQiLCJyZXRyaWVzIiwiZGF0YVN0ciIsIm5ld0RhdGEiLCJyIiwicmVzdWx0cyIsImFsbFNldHRsZWQiLCJldmVyeSIsInN0YXR1cyIsImV2ZW50RW1pdHRlciIsIm1vY2tDYWxsYmFjayIsInN1YnNjcmlwdGlvbiIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja0NsZWFyIiwidG9IYXZlQmVlbkNhbGxlZCIsInVzZUZha2VUaW1lcnMiLCJ0aW1lcklkIiwiY2xlYXJUaW1lb3V0IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsImxvbmdSdW5uaW5nT3BlcmF0aW9uIiwiY2hlY2tBYm9ydCIsImFib3J0ZWQiLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib3BlcmF0aW9uUHJvbWlzZSIsImFib3J0IiwicmVqZWN0cyIsInRvVGhyb3ciLCJwcm9jZXNzRGF0YSIsIl9yZWYwIiwiX3ZhbGlkYXRlZERhdGEiLCJfdHJhbnNmb3JtZWREYXRhIiwiX3NhdmVkRGF0YSIsIk9iamVjdCIsImFzc2lnbiIsInNhdmVkIiwiX3gzIiwiaW5uZXJPcGVyYXRpb24iLCJfcmVmMTAiLCJtaWRkbGVPcGVyYXRpb24iLCJfcmVmMTEiLCJtZXNzYWdlIiwib3V0ZXJPcGVyYXRpb24iLCJfcmVmMTIiLCJmZXRjaFdpdGhGYWxsYmFjayIsIl9yZWYxNCIsInVybCIsImZhbGxiYWNrIiwiX3g0IiwiX3g1IiwicmVzdWx0IiwidGltZW91dFByb21pc2UiLCJtcyIsIl8iLCJzbG93T3BlcmF0aW9uIiwicmFjZVByb21pc2UiLCJyYWNlIiwib3BlcmF0aW9uV2l0aFRpbWVvdXQiLCJfcmVmMTciLCJvcGVyYXRpb24iLCJ0aW1lb3V0TXMiLCJ0aW1lb3V0RXJyb3IiLCJ0aW1lb3V0SWQiLCJmaW5hbGx5IiwiX3g2IiwiX3g3IiwiX3JlZjE5IiwiaWQiLCJkdXJhdGlvbiIsInRpbWVvdXQiLCJfeDgiLCJfeDkiLCJfeDAiLCJyZWFzb24iLCJ0b0NvbnRhaW4iLCJjb25jdXJyZW5jeUxpbWl0IiwiYWN0aXZlT3BlcmF0aW9ucyIsIm1heENvbmN1cnJlbnRPcGVyYXRpb25zIiwiX3JlZjIxIiwibWF4IiwiX3gxIiwicnVuV2l0aENvbmN1cnJlbmN5TGltaXQiLCJfcmVmMjIiLCJvcGVyYXRpb25zIiwibGltaXQiLCJleGVjdXRpbmciLCJfbG9vcCIsIl9vcGVyYXRpb24iLCJwIiwidGhlbiIsIl94MTAiLCJfeDExIiwiZmlsbCIsIm1hcCIsImkiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwib3AiLCJzdWNjZXNzUmVzdWx0cyIsImZpbHRlciIsInByaW9yaXR5UXVldWUiLCJwcmlvcml0eSIsInNvcnQiLCJhIiwiYiIsImV4ZWN1dGlvbk9yZGVyIiwiX3Jlc3VsdHMiLCJpdGVtIiwiZGVlcGx5TmVzdGVkIiwibGV2ZWwxIiwibGV2ZWwyIiwibGV2ZWwzIiwibGV2ZWw0IiwibGV2ZWw1IiwicmV0cmlldmVkIiwiY2lyY3VsYXIiLCJuYW1lIiwic2VsZiIsImNoaWxkIiwicGFyZW50Iiwic2VlbiIsIldlYWtTZXQiLCJzZXJpYWxpemVkIiwiYWRkIiwiZGVzZXJpYWxpemVkIiwic3BlY2lhbENoYXJzT2JqZWN0IiwiZW1vamkiLCJhcmFiaWMiLCJjaGluZXNlIiwicnVzc2lhbiIsImphcGFuZXNlIiwia29yZWFuIiwidGhhaSIsInNwZWNpYWxDaGFycyIsImVzY2FwZUNoYXJzIiwibWFsZm9ybWVkSlNPTiIsIlN5bnRheEVycm9yIiwic2FmZVBhcnNlIiwianNvbiIsInN0ZXAxIiwiX3JlZjMwIiwic3RlcDIiLCJfcmVmMzEiLCJzdGVwMyIsIl9yZWYzMiIsIl9yZWYzNCIsIl9yZWYzNSIsIl9yZWYzNiIsImNyZWF0ZUFwcEVycm9yIiwiY29kZSIsImNvbnRleHQiLCJleGVjdXRlT3BlcmF0aW9uIiwiX3JlZjM4IiwiYXBwRXJyb3IiLCJfeDEyIiwiZmFpbCIsImV4ZWN1dGVBbGwiLCJfcmVmNDAiLCJvcHMiLCJzdWNjZXNzZXMiLCJmYWlsdXJlcyIsIl94MTMiLCJhdHRlbXB0cyIsIm1heEF0dGVtcHRzIiwidW5yZWxpYWJsZU9wZXJhdGlvbiIsIndpdGhSZXRyeSIsIl9yZWY0MiIsIl9sYXN0RXJyb3IiLCJsYXN0RXJyb3IiLCJhdHRlbXB0Iiwid2FybiIsIl94MTQiLCJfeDE1IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwibmV0d29ya0Vycm9yIiwidmFsaWRhdGlvbkVycm9yIiwiY2FsbENvdW50Iiwid2l0aENvbmRpdGlvbmFsUmV0cnkiLCJfcmVmNDQiLCJzaG91bGRSZXRyeSIsIl94MTYiLCJfeDE3IiwiX3gxOCIsImxhcmdlQXJyYXkiLCJwcm9jZXNzSW5DaHVua3MiLCJfcmVmNDYiLCJpdGVtcyIsImNodW5rU2l6ZSIsInByb2Nlc3NvciIsImNodW5rIiwic2xpY2UiLCJjaHVua1Jlc3VsdHMiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3gxOSIsIl94MjAiLCJfeDIxIiwicHJvY2Vzc0l0ZW1zIiwiX3JlZjQ3IiwicHJvY2Vzc2VkIiwiX3gyMiIsImV4cGVuc2l2ZUNhbGN1bGF0aW9uIiwic3FydCIsIm1lbW9pemUiLCJjYWNoZSIsIl9sZW4yIiwiX2tleTIiLCJtZW1vaXplZENhbGN1bGF0aW9uIiwicmVzdWx0MyIsInJlc3VsdDQiXSwic291cmNlcyI6WyJhc3luY09wZXJhdGlvbkVkZ2VDYXNlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRWRnZSBDYXNlcyBhbmQgQXN5bmMgT3BlcmF0aW9ucyBUZXN0IFN1aXRlXG4gKiBcbiAqIFRoaXMgdGVzdCBzdWl0ZSBmb2N1c2VzIG9uIHRlc3RpbmcgZWRnZSBjYXNlcyByZWxhdGVkIHRvIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zXG4gKiB1c2luZyBwdXJlIEphdmFTY3JpcHQvVHlwZVNjcmlwdCBwYXR0ZXJucywgaW5jbHVkaW5nIHJhY2UgY29uZGl0aW9ucywgbWVtb3J5IG1hbmFnZW1lbnQsXG4gKiBwcm9taXNlIGNoYWlucywgdGltZW91dHMsIGNvbmN1cnJlbnQgb3BlcmF0aW9ucywgYW5kIGVycm9yIGhhbmRsaW5nIHBhdHRlcm5zLlxuICovXG5cbi8vIFNpbXBsZSBtb2NrIGZvciBBc3luY1N0b3JhZ2UtbGlrZSBmdW5jdGlvbmFsaXR5XG5jb25zdCBtb2NrU3RvcmFnZSA9IHtcbiAgX2RhdGE6IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCksXG4gIHNldEl0ZW06IGplc3QuZm4oKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIFNpbXVsYXRlIG9jY2FzaW9uYWwgZmFpbHVyZXMgYnV0IHdpdGggbG93IHByb2JhYmlsaXR5IHRvIGtlZXAgdGVzdHMgc3RhYmxlXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDUpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignU3RvcmFnZSBlcnJvcicpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbW9ja1N0b3JhZ2UuX2RhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCAxKTsgLy8gVmVyeSBzaG9ydCBkZWxheSB0byBhdm9pZCB0ZXN0IHRpbWVvdXRzXG4gICAgfSk7XG4gIH0pLFxuICBnZXRJdGVtOiBqZXN0LmZuKChrZXk6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmcgfCBudWxsPigocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc29sdmUobW9ja1N0b3JhZ2UuX2RhdGEuZ2V0KGtleSkgfHwgbnVsbCk7XG4gICAgICB9LCAxKTsgLy8gVmVyeSBzaG9ydCBkZWxheSB0byBhdm9pZCB0ZXN0IHRpbWVvdXRzXG4gICAgfSk7XG4gIH0pLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKChrZXk6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG1vY2tTdG9yYWdlLl9kYXRhLmRlbGV0ZShrZXkpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCAxKTtcbiAgICB9KTtcbiAgfSksXG4gIGNsZWFyOiBqZXN0LmZuKCgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgIG1vY2tTdG9yYWdlLl9kYXRhLmNsZWFyKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0pLFxuICBnZXRBbGxLZXlzOiBqZXN0LmZuKCgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nW10+KChyZXNvbHZlKSA9PiB7XG4gICAgICByZXNvbHZlKEFycmF5LmZyb20obW9ja1N0b3JhZ2UuX2RhdGEua2V5cygpKSk7XG4gICAgfSk7XG4gIH0pXG59O1xuXG4vLyBNb2NrIGZvciBFdmVudEVtaXR0ZXJcbmNsYXNzIE1vY2tFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgQXJyYXk8KC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPj4gPSBuZXcgTWFwKCk7XG4gIFxuICBhZGRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVycy5oYXMoZXZlbnQpKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5zZXQoZXZlbnQsIFtdKTtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KSEucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbW92ZTogKCkgPT4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpXG4gICAgfTtcbiAgfVxuICBcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCkge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KSE7XG4gICAgY29uc3QgaW5kZXggPSBldmVudExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBldmVudExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICBcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50Pzogc3RyaW5nKSB7XG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xuICAgIH1cbiAgfVxuICBcbiAgZW1pdChldmVudDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KSE7XG4gICAgZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZXZlbnQgbGlzdGVuZXI6JywgZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMgYW5kIEFzeW5jIE9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gIC8vIFNweSBvbiBjb25zb2xlIG1ldGhvZHMgdG8gcHJldmVudCBub2lzZSBpbiB0ZXN0IG91dHB1dFxuICBsZXQgY29uc29sZUVycm9yU3B5OiBqZXN0LlNweUluc3RhbmNlO1xuICBsZXQgY29uc29sZVdhcm5TcHk6IGplc3QuU3B5SW5zdGFuY2U7XG4gIFxuICAvLyBTZXR1cCBiZWZvcmUgZWFjaCB0ZXN0XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIFNweSBvbiBjb25zb2xlIG1ldGhvZHNcbiAgICBjb25zb2xlRXJyb3JTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG4gICAgY29uc29sZVdhcm5TcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICd3YXJuJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbiAgICBcbiAgICAvLyBDbGVhciBtb2NrIHN0b3JhZ2VcbiAgICBtb2NrU3RvcmFnZS5fZGF0YS5jbGVhcigpO1xuICB9KTtcbiAgXG4gIC8vIENsZWFudXAgYWZ0ZXIgZWFjaCB0ZXN0XG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgY29uc29sZUVycm9yU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgY29uc29sZVdhcm5TcHkubW9ja1Jlc3RvcmUoKTtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JhY2UgQ29uZGl0aW9ucycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGNvbmN1cnJlbnQgc3RvcmFnZSBvcGVyYXRpb25zIG9uIHRoZSBzYW1lIGtleScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGtleSA9ICd1c2VyX3ByZWZlcmVuY2VzJztcbiAgICAgIGNvbnN0IGluaXRpYWxEYXRhID0gSlNPTi5zdHJpbmdpZnkoeyB0aGVtZTogJ2xpZ2h0Jywgbm90aWZpY2F0aW9uczogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGluaXRpYWwgZGF0YVxuICAgICAgYXdhaXQgbW9ja1N0b3JhZ2Uuc2V0SXRlbShrZXksIGluaXRpYWxEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gQWN0IC0gU2ltdWxhdGUgdHdvIGNvbmN1cnJlbnQgdXBkYXRlc1xuICAgICAgY29uc3QgdXBkYXRlMSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYXdhaXQgbW9ja1N0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICd7fScpO1xuICAgICAgICBkYXRhLnRoZW1lID0gJ2RhcmsnO1xuICAgICAgICBhd2FpdCBtb2NrU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHVwZGF0ZTIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGF3YWl0IG1vY2tTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAne30nKTtcbiAgICAgICAgZGF0YS5ub3RpZmljYXRpb25zID0gZmFsc2U7XG4gICAgICAgIGF3YWl0IG1vY2tTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gUnVuIGJvdGggdXBkYXRlcyBjb25jdXJyZW50bHlcbiAgICAgIGNvbnN0IFtyZXN1bHQxLCByZXN1bHQyXSA9IGF3YWl0IFByb21pc2UuYWxsKFt1cGRhdGUxKCksIHVwZGF0ZTIoKV0pO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIC8vIE9uZSB1cGRhdGUgd2lsbCBvdmVyd3JpdGUgdGhlIG90aGVyIGR1ZSB0byByYWNlIGNvbmRpdGlvblxuICAgICAgZXhwZWN0KHJlc3VsdDEpLm5vdC50b0VxdWFsKHJlc3VsdDIpO1xuICAgICAgXG4gICAgICAvLyBUaGUgZmluYWwgc3RvcmVkIHZhbHVlIHdpbGwgYmUgZnJvbSB3aGljaGV2ZXIgb3BlcmF0aW9uIGNvbXBsZXRlZCBsYXN0XG4gICAgICBjb25zdCBmaW5hbFZhbHVlID0gSlNPTi5wYXJzZShhd2FpdCBtb2NrU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgJ3t9Jyk7XG4gICAgICBleHBlY3QoZmluYWxWYWx1ZSkudG9FcXVhbChleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIHRoZW1lOiBleHBlY3QuYW55KFN0cmluZyksXG4gICAgICAgIG5vdGlmaWNhdGlvbnM6IGV4cGVjdC5hbnkoQm9vbGVhbiksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIE9ubHkgb25lIHByb3BlcnR5IHdhcyB1cGRhdGVkIGluIGVhY2ggcmVzdWx0XG4gICAgICBleHBlY3QocmVzdWx0MS50aGVtZSkudG9CZSgnZGFyaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdDIubm90aWZpY2F0aW9ucykudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCBvcHRpbWlzdGljIGxvY2tpbmcgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBrZXkgPSAnY291bnRlcic7XG4gICAgICBsZXQgY3VycmVudFZlcnNpb24gPSAxO1xuICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IDA7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgc3RvcmFnZSB3aXRoIHZlcnNpb24gY2hlY2tpbmdcbiAgICAgIGNvbnN0IGdldFdpdGhWZXJzaW9uID0gamVzdC5mbihhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IHZhbHVlOiBjdXJyZW50VmFsdWUsIHZlcnNpb246IGN1cnJlbnRWZXJzaW9uIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldFdpdGhWZXJzaW9uID0gamVzdC5mbihhc3luYyAoazogc3RyaW5nLCB2YWx1ZVN0cjogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHZhbHVlU3RyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIG9wdGltaXN0aWMgbG9ja2luZyAtIG9ubHkgdXBkYXRlIGlmIHZlcnNpb25zIG1hdGNoXG4gICAgICAgIGlmIChkYXRhLnZlcnNpb24gPT09IGN1cnJlbnRWZXJzaW9uKSB7XG4gICAgICAgICAgY3VycmVudFZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgICAgICBjdXJyZW50VmVyc2lvbisrO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZlcnNpb24gbWlzbWF0Y2ggLSBkYXRhIHdhcyBtb2RpZmllZCBieSBhbm90aGVyIHByb2Nlc3MnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEZ1bmN0aW9uIHRvIGluY3JlbWVudCB3aXRoIHJldHJ5IGxvZ2ljXG4gICAgICBjb25zdCBpbmNyZW1lbnRXaXRoUmV0cnkgPSBhc3luYyAobWF4UmV0cmllcyA9IDMpOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICAgICAgICBsZXQgcmV0cmllcyA9IDA7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAocmV0cmllcyA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgZGF0YVxuICAgICAgICAgICAgY29uc3QgZGF0YVN0ciA9IGF3YWl0IGdldFdpdGhWZXJzaW9uKGtleSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyIHx8ICd7XCJ2YWx1ZVwiOjAsXCJ2ZXJzaW9uXCI6MX0nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHdpdGggY3VycmVudCB2ZXJzaW9uXG4gICAgICAgICAgICBjb25zdCBuZXdEYXRhID0ge1xuICAgICAgICAgICAgICB2YWx1ZTogZGF0YS52YWx1ZSArIDEsXG4gICAgICAgICAgICAgIHZlcnNpb246IGRhdGEudmVyc2lvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVHJ5IHRvIHNhdmVcbiAgICAgICAgICAgIGF3YWl0IHNldFdpdGhWZXJzaW9uKGtleSwgSlNPTi5zdHJpbmdpZnkobmV3RGF0YSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGEudmFsdWU7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHJpZXMrKztcbiAgICAgICAgICAgIGlmIChyZXRyaWVzID49IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXYWl0IGJlZm9yZSByZXRyeWluZyAodmVyeSBzaG9ydCBkZWxheSBmb3IgdGVzdHMpXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgYWZ0ZXIgbWF4IHJldHJpZXMnKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAtIFJ1biBtdWx0aXBsZSBpbmNyZW1lbnRzIGluIHBhcmFsbGVsXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgICAgaW5jcmVtZW50V2l0aFJldHJ5KCksXG4gICAgICAgIGluY3JlbWVudFdpdGhSZXRyeSgpLFxuICAgICAgICBpbmNyZW1lbnRXaXRoUmV0cnkoKVxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgLy8gQWxsIG9wZXJhdGlvbnMgc2hvdWxkIGV2ZW50dWFsbHkgc3VjY2VlZCB3aXRoIHJldHJpZXNcbiAgICAgIGV4cGVjdChyZXN1bHRzLmV2ZXJ5KHIgPT4gci5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSkudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gRmluYWwgdmFsdWUgc2hvdWxkIGJlIGluY3JlbWVudGVkIGJ5IHRoZSBudW1iZXIgb2Ygb3BlcmF0aW9uc1xuICAgICAgZXhwZWN0KGN1cnJlbnRWYWx1ZSkudG9CZSgzKTtcbiAgICAgIFxuICAgICAgLy8gVmVyc2lvbiBzaG91bGQgYmUgaW5jcmVtZW50ZWQgZm9yIGVhY2ggc3VjY2Vzc2Z1bCB1cGRhdGVcbiAgICAgIGV4cGVjdChjdXJyZW50VmVyc2lvbikudG9CZSg0KTsgLy8gU3RhcnRlZCBhdCAxLCB0aGVuIDMgc3VjY2Vzc2Z1bCB1cGRhdGVzXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZW1vcnkgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcHJvcGVybHkgY2xlYW51cCBldmVudCBsaXN0ZW5lcnMgd2hlbiBjb21wb25lbnQgdW5tb3VudHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBldmVudEVtaXR0ZXIgPSBuZXcgTW9ja0V2ZW50RW1pdHRlcigpO1xuICAgICAgY29uc3QgbW9ja0NhbGxiYWNrID0gamVzdC5mbigpO1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBTaW11bGF0ZSBjb21wb25lbnQgbGlmZWN5Y2xlXG4gICAgICAvLyBTZXR1cCBwaGFzZSAoY29tcG9uZW50RGlkTW91bnQpXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoJ2RhdGFDaGFuZ2UnLCBtb2NrQ2FsbGJhY2spO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgbGlzdGVuZXIgaXMgd29ya2luZ1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXQoJ2RhdGFDaGFuZ2UnLCB7IHZhbHVlOiAndGVzdCcgfSk7XG4gICAgICBleHBlY3QobW9ja0NhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHZhbHVlOiAndGVzdCcgfSk7XG4gICAgICBcbiAgICAgIC8vIENsZWFudXAgcGhhc2UgKGNvbXBvbmVudFdpbGxVbm1vdW50KVxuICAgICAgc3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgbGlzdGVuZXIgaXMgcmVtb3ZlZFxuICAgICAgbW9ja0NhbGxiYWNrLm1vY2tDbGVhcigpO1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXQoJ2RhdGFDaGFuZ2UnLCB7IHZhbHVlOiAndGVzdDInIH0pO1xuICAgICAgZXhwZWN0KG1vY2tDYWxsYmFjaykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgY2FuY2VsIHRpbWVycyB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICAgICAgY29uc3QgbW9ja0NhbGxiYWNrID0gamVzdC5mbigpO1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBTaW11bGF0ZSBjb21wb25lbnQgd2l0aCB0aW1lclxuICAgICAgY29uc3QgdGltZXJJZCA9IHNldFRpbWVvdXQobW9ja0NhbGxiYWNrLCA1MCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIGNvbXBvbmVudCB1bm1vdW50IC0gY2xlYW51cCB0aW1lcnNcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgIFxuICAgICAgLy8gRmFzdC1mb3J3YXJkIHRpbWVcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDApO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtb2NrQ2FsbGJhY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBhYmFuZG9uZWQgcHJvbWlzZXMgdGhhdCBjb3VsZCBjYXVzZSBtZW1vcnkgbGVha3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIHByb21pc2UgdGhhdCBjaGVja3MgZm9yIGFib3J0IHNpZ25hbFxuICAgICAgY29uc3QgbG9uZ1J1bm5pbmdPcGVyYXRpb24gPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrQWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gYWJvcnRlZCcpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBJbW1lZGlhdGUgY2hlY2tcbiAgICAgICAgaWYgKGNoZWNrQWJvcnQoKSkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHVwIHBlcmlvZGljIGNoZWNrcyB3aXRoIHZlcnkgc2hvcnQgaW50ZXJ2YWxcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBpZiAoY2hlY2tBYm9ydCgpKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNvbHZlIGFmdGVyIGEgc2hvcnQgdGltZSBpZiBub3QgYWJvcnRlZFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgIHJlc29sdmUoJ09wZXJhdGlvbiBjb21wbGV0ZWQnKTtcbiAgICAgICAgfSwgMTApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFjdCAtIFN0YXJ0IGEgbG9uZyBydW5uaW5nIG9wZXJhdGlvblxuICAgICAgY29uc3Qgb3BlcmF0aW9uUHJvbWlzZSA9IGxvbmdSdW5uaW5nT3BlcmF0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIGNvbXBvbmVudCB1bm1vdW50IC0gYWJvcnQgdGhlIG9wZXJhdGlvblxuICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBcbiAgICAgIC8vIEZhc3QtZm9yd2FyZCB0aW1lIHRvIHRyaWdnZXIgaW50ZXJ2YWwgY2hlY2tzXG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KG9wZXJhdGlvblByb21pc2UpLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIGFib3J0ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Byb21pc2UgQ2hhaW4gRmFpbHVyZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlcnJvcnMgaW4gdGhlIG1pZGRsZSBvZiBwcm9taXNlIGNoYWlucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHByb2Nlc3NEYXRhID0gYXN5bmMgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAvLyBTdGVwIDE6IFZhbGlkYXRlXG4gICAgICAgIGNvbnN0IF92YWxpZGF0ZWREYXRhID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RlcCAyOiBUcmFuc2Zvcm0gKHdpbGwgZmFpbClcbiAgICAgICAgY29uc3QgX3RyYW5zZm9ybWVkRGF0YSA9IGF3YWl0IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignVHJhbnNmb3JtIGZhaWxlZCcpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0ZXAgMzogU2F2ZSAoc2hvdWxkIG5ldmVyIGV4ZWN1dGUpXG4gICAgICAgIGNvbnN0IF9zYXZlZERhdGEgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUoeyAuLi5fdHJhbnNmb3JtZWREYXRhLCBzYXZlZDogdHJ1ZSB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBfc2F2ZWREYXRhO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc0RhdGEoeyB0ZXN0OiB0cnVlIH0pKS5yZWplY3RzLnRvVGhyb3coJ1RyYW5zZm9ybSBmYWlsZWQnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVycm9ycyBpbiBuZXN0ZWQgcHJvbWlzZSBjaGFpbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbm5lck9wZXJhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbm5lciBvcGVyYXRpb24gZmFpbGVkJyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBtaWRkbGVPcGVyYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGlubmVyT3BlcmF0aW9uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaWRkbGUgb3BlcmF0aW9uIGNhdWdodDogJHsoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IG91dGVyT3BlcmF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBtaWRkbGVPcGVyYXRpb24oKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE91dGVyIG9wZXJhdGlvbiBjYXVnaHQ6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChvdXRlck9wZXJhdGlvbigpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdPdXRlciBvcGVyYXRpb24gY2F1Z2h0OiBNaWRkbGUgb3BlcmF0aW9uIGNhdWdodDogSW5uZXIgb3BlcmF0aW9uIGZhaWxlZCdcbiAgICAgICk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIHJlY292ZXIgZnJvbSBwcm9taXNlIGNoYWluIGZhaWx1cmVzIHdpdGggZmFsbGJhY2sgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZmV0Y2hXaXRoRmFsbGJhY2sgPSBhc3luYyAodXJsOiBzdHJpbmcsIGZhbGxiYWNrOiBhbnkpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hXaXRoRmFsbGJhY2soJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnLCB7IGZhbGxiYWNrOiB0cnVlIH0pO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBmYWxsYmFjazogdHJ1ZSB9KTtcbiAgICAgIGV4cGVjdChjb25zb2xlRXJyb3JTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RpbWVvdXQgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBwcm9taXNlIHRpbWVvdXQgd2l0aCByYWNlIHBhdHRlcm4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSAobXM6IG51bWJlcikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAke21zfW1zYCkpLCBtcyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2xvd09wZXJhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgnU3VjY2VzcycpLCAyMCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByYWNlUHJvbWlzZSA9IFByb21pc2UucmFjZShbc2xvd09wZXJhdGlvbigpLCB0aW1lb3V0UHJvbWlzZSgxMCldKTtcbiAgICAgIFxuICAgICAgLy8gRmFzdC1mb3J3YXJkIHRpbWUgdG8gdHJpZ2dlciB0aW1lb3V0XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTApO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChyYWNlUHJvbWlzZSkucmVqZWN0cy50b1Rocm93KCdPcGVyYXRpb24gdGltZWQgb3V0IGFmdGVyIDEwbXMnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaW1wbGVtZW50IGN1c3RvbSB0aW1lb3V0IGZvciBhc3luYyBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG9wZXJhdGlvbldpdGhUaW1lb3V0ID0gYXN5bmMgPFQ+KFxuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gICAgICAgIHRpbWVvdXRNczogbnVtYmVyXG4gICAgICApOiBQcm9taXNlPFQ+ID0+IHtcbiAgICAgICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKGBPcGVyYXRpb24gdGltZWQgb3V0IGFmdGVyICR7dGltZW91dE1zfW1zYCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgdGltZW91dElkOiBOb2RlSlMuVGltZW91dDtcbiAgICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZTxuZXZlcj4oKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KHRpbWVvdXRFcnJvciksIHRpbWVvdXRNcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgICAgICAgb3BlcmF0aW9uKCksXG4gICAgICAgICAgdGltZW91dFByb21pc2VcbiAgICAgICAgXSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQSBzbG93IG9wZXJhdGlvbiB0aGF0IHdvdWxkIHRha2UgdG9vIGxvbmdcbiAgICAgIGNvbnN0IHNsb3dPcGVyYXRpb24gPSAoKSA9PiBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoJ1N1Y2Nlc3MnKSwgMjApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3Qgb3BlcmF0aW9uUHJvbWlzZSA9IG9wZXJhdGlvbldpdGhUaW1lb3V0KCgpID0+IHNsb3dPcGVyYXRpb24oKSwgMTApO1xuICAgICAgXG4gICAgICAvLyBGYXN0LWZvcndhcmQgdGltZSB0byB0cmlnZ2VyIHRpbWVvdXRcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMCk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KG9wZXJhdGlvblByb21pc2UpLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAxMG1zJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB0aW1lb3V0cyBpbiBwYXJhbGxlbCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG9wZXJhdGlvbldpdGhUaW1lb3V0ID0gYXN5bmMgKGlkOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIHRpbWVvdXQ6IG51bWJlcikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgT3BlcmF0aW9uICR7aWR9IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXNgKSk7XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgIHJlc29sdmUoYE9wZXJhdGlvbiAke2lkfSBjb21wbGV0ZWQgaW4gJHtkdXJhdGlvbn1tc2ApO1xuICAgICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgICBvcGVyYXRpb25XaXRoVGltZW91dCgxLCA1LCAxMCksICAvLyBTaG91bGQgc3VjY2VlZFxuICAgICAgICBvcGVyYXRpb25XaXRoVGltZW91dCgyLCAxNSwgMTApLCAvLyBTaG91bGQgdGltZW91dFxuICAgICAgICBvcGVyYXRpb25XaXRoVGltZW91dCgzLCA4LCAxMCksICAvLyBTaG91bGQgc3VjY2VlZFxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIC8vIEZhc3QtZm9yd2FyZCB0aW1lIHRvIHRyaWdnZXIgYWxsIG9wZXJhdGlvbnNcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSg1KTsgIC8vIEZpcnN0IG9wZXJhdGlvbiBjb21wbGV0ZXNcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgzKTsgIC8vIFRoaXJkIG9wZXJhdGlvbiBjb21wbGV0ZXNcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyKTsgIC8vIFRpbWVvdXQgZm9yIHNlY29uZCBvcGVyYXRpb25cbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0c1swXS5zdGF0dXMpLnRvQmUoJ2Z1bGZpbGxlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMV0uc3RhdHVzKS50b0JlKCdyZWplY3RlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMl0uc3RhdHVzKS50b0JlKCdmdWxmaWxsZWQnKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdHNbMV0uc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHRzWzFdLnJlYXNvbi5tZXNzYWdlKS50b0NvbnRhaW4oJ09wZXJhdGlvbiAyIHRpbWVkIG91dCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uY3VycmVudCBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBsaW1pdCBjb25jdXJyZW5jeSBvZiBwYXJhbGxlbCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZSAtIHNpbXBsaWZpZWQgdmVyc2lvbiB3aXRoIHNtYWxsZXIgYXJyYXlcbiAgICAgIGNvbnN0IGNvbmN1cnJlbmN5TGltaXQgPSAyO1xuICAgICAgbGV0IGFjdGl2ZU9wZXJhdGlvbnMgPSAwO1xuICAgICAgbGV0IG1heENvbmN1cnJlbnRPcGVyYXRpb25zID0gMDtcbiAgICAgIFxuICAgICAgY29uc3Qgb3BlcmF0aW9uID0gYXN5bmMgKGlkOiBudW1iZXIpID0+IHtcbiAgICAgICAgYWN0aXZlT3BlcmF0aW9ucysrO1xuICAgICAgICBtYXhDb25jdXJyZW50T3BlcmF0aW9ucyA9IE1hdGgubWF4KG1heENvbmN1cnJlbnRPcGVyYXRpb25zLCBhY3RpdmVPcGVyYXRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIHdvcmsgd2l0aCBtaW5pbWFsIGRlbGF5XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxKSk7XG4gICAgICAgIFxuICAgICAgICBhY3RpdmVPcGVyYXRpb25zLS07XG4gICAgICAgIHJldHVybiBgT3BlcmF0aW9uICR7aWR9IGNvbXBsZXRlZGA7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBIZWxwZXIgdG8gcnVuIG9wZXJhdGlvbnMgd2l0aCBsaW1pdGVkIGNvbmN1cnJlbmN5XG4gICAgICBjb25zdCBydW5XaXRoQ29uY3VycmVuY3lMaW1pdCA9IGFzeW5jIChvcGVyYXRpb25zOiAoKCkgPT4gUHJvbWlzZTxhbnk+KVtdLCBsaW1pdDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IGFueVtdID0gW107XG4gICAgICAgIGNvbnN0IGV4ZWN1dGluZzogUHJvbWlzZTxhbnk+W10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIG9wZXJhdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBvcGVyYXRpb24oKSk7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChsaW1pdCA8PSBvcGVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZTogUHJvbWlzZTxhbnk+ID0gcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZXhlY3V0aW5nLnNwbGljZShleGVjdXRpbmcuaW5kZXhPZihlKSwgMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGluZy5wdXNoKGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZXhlY3V0aW5nLmxlbmd0aCA+PSBsaW1pdCkge1xuICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoZXhlY3V0aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAtIHVzZSBhIHNtYWxsZXIgYXJyYXkgc2l6ZSAoNSBpbnN0ZWFkIG9mIDEwKVxuICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IEFycmF5KDUpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiAoKSA9PiBvcGVyYXRpb24oaSArIDEpKTtcbiAgICAgIGF3YWl0IHJ1bldpdGhDb25jdXJyZW5jeUxpbWl0KG9wZXJhdGlvbnMsIGNvbmN1cnJlbmN5TGltaXQpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtYXhDb25jdXJyZW50T3BlcmF0aW9ucykudG9CZUxlc3NUaGFuT3JFcXVhbChjb25jdXJyZW5jeUxpbWl0KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVycm9ycyBpbiBjb25jdXJyZW50IG9wZXJhdGlvbnMgd2l0aG91dCBzdG9wcGluZyBvdGhlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAxIHN1Y2Nlc3MnKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gMiBmYWlsZWQnKSksXG4gICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgc3VjY2VzcycpLFxuICAgICAgICAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ09wZXJhdGlvbiA0IGZhaWxlZCcpKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCdPcGVyYXRpb24gNSBzdWNjZXNzJyksXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQob3BlcmF0aW9ucy5tYXAob3AgPT4gb3AoKSkpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdLnN0YXR1cykudG9CZSgnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1sxXS5zdGF0dXMpLnRvQmUoJ3JlamVjdGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1syXS5zdGF0dXMpLnRvQmUoJ2Z1bGZpbGxlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbM10uc3RhdHVzKS50b0JlKCdyZWplY3RlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbNF0uc3RhdHVzKS50b0JlKCdmdWxmaWxsZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3VjY2Vzc1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3Qoc3VjY2Vzc1Jlc3VsdHMubGVuZ3RoKS50b0JlKDMpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBwcmlvcml0aXplIG9wZXJhdGlvbnMgaW4gY29uY3VycmVudCBxdWV1ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGludGVyZmFjZSBRdWV1ZUl0ZW0ge1xuICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8YW55PjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcHJpb3JpdHlRdWV1ZTogUXVldWVJdGVtW10gPSBbXG4gICAgICAgIHsgaWQ6IDEsIHByaW9yaXR5OiAyLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDEgKE1lZGl1bSknKSB9LFxuICAgICAgICB7IGlkOiAyLCBwcmlvcml0eTogMSwgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAyIChIaWdoKScpIH0sXG4gICAgICAgIHsgaWQ6IDMsIHByaW9yaXR5OiAzLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgKExvdyknKSB9LFxuICAgICAgICB7IGlkOiA0LCBwcmlvcml0eTogMSwgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiA0IChIaWdoKScpIH0sXG4gICAgICAgIHsgaWQ6IDUsIHByaW9yaXR5OiAyLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDUgKE1lZGl1bSknKSB9LFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gU29ydCBieSBwcmlvcml0eSAobG93ZXIgbnVtYmVyID0gaGlnaGVyIHByaW9yaXR5KVxuICAgICAgcHJpb3JpdHlRdWV1ZS5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgZXhlY3V0aW9uT3JkZXI6IG51bWJlcltdID0gW107XG4gICAgICBjb25zdCBfcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwcmlvcml0eVF1ZXVlLm1hcChpdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5vcGVyYXRpb24oKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBleGVjdXRpb25PcmRlci5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgLy8gSGlnaCBwcmlvcml0eSBvcGVyYXRpb25zICgyLCA0KSBzaG91bGQgYmUgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleGVjdXRpb24gb3JkZXJcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlclswXSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlclsxXSkudG9CZSg0KTtcbiAgICAgIFxuICAgICAgLy8gTG93IHByaW9yaXR5IG9wZXJhdGlvbiAoMykgc2hvdWxkIGJlIGF0IHRoZSBlbmRcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlcltleGVjdXRpb25PcmRlci5sZW5ndGggLSAxXSkudG9CZSgzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGEgU3RydWN0dXJlIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBkZWVwbHkgbmVzdGVkIG9iamVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBkZWVwbHlOZXN0ZWQgPSB7XG4gICAgICAgIGxldmVsMToge1xuICAgICAgICAgIGxldmVsMjoge1xuICAgICAgICAgICAgbGV2ZWwzOiB7XG4gICAgICAgICAgICAgIGxldmVsNDoge1xuICAgICAgICAgICAgICAgIGxldmVsNToge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6ICdEZWVwIHZhbHVlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBtb2NrU3RvcmFnZS5zZXRJdGVtKCdkZWVwbHlOZXN0ZWQnLCBKU09OLnN0cmluZ2lmeShkZWVwbHlOZXN0ZWQpKTtcbiAgICAgIGNvbnN0IHJldHJpZXZlZCA9IEpTT04ucGFyc2UoYXdhaXQgbW9ja1N0b3JhZ2UuZ2V0SXRlbSgnZGVlcGx5TmVzdGVkJykgfHwgJ3t9Jyk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJldHJpZXZlZC5sZXZlbDEubGV2ZWwyLmxldmVsMy5sZXZlbDQubGV2ZWw1LnZhbHVlKS50b0JlKCdEZWVwIHZhbHVlJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjaXJjdWxhciByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgY2lyY3VsYXI6IGFueSA9IHtcbiAgICAgICAgbmFtZTogJ0NpcmN1bGFyIE9iamVjdCcsXG4gICAgICAgIHZhbHVlOiA0MixcbiAgICAgIH07XG4gICAgICBjaXJjdWxhci5zZWxmID0gY2lyY3VsYXI7IC8vIENyZWF0ZSBjaXJjdWxhciByZWZlcmVuY2VcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbW9yZSBjb21wbGV4IGNpcmN1bGFyIHN0cnVjdHVyZVxuICAgICAgY2lyY3VsYXIuY2hpbGQgPSB7XG4gICAgICAgIHBhcmVudDogY2lyY3VsYXIsXG4gICAgICAgIG5hbWU6ICdDaGlsZCBPYmplY3QnLFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICAvLyBEaXJlY3QgSlNPTi5zdHJpbmdpZnkgd2lsbCB0aHJvd1xuICAgICAgZXhwZWN0KCgpID0+IEpTT04uc3RyaW5naWZ5KGNpcmN1bGFyKSkudG9UaHJvdygpO1xuICAgICAgXG4gICAgICAvLyBDdXN0b20gc2VyaWFsaXplciB0byBoYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgICAgY29uc3Qgc2VlbiA9IG5ldyBXZWFrU2V0KCk7XG4gICAgICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkoY2lyY3VsYXIsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChrZXkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyIFJlZmVyZW5jZV0nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWVuLmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydCB0aGUgc2VyaWFsaXplZCBzdHJpbmcgY29udGFpbnMgdGhlIG1hcmtlclxuICAgICAgZXhwZWN0KHNlcmlhbGl6ZWQpLnRvQ29udGFpbignW0NpcmN1bGFyIFJlZmVyZW5jZV0nKTtcbiAgICAgIFxuICAgICAgLy8gV2UgY2FuIGRlc2VyaWFsaXplIGl0IGJhY2tcbiAgICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZCk7XG4gICAgICBleHBlY3QoZGVzZXJpYWxpemVkLm5hbWUpLnRvQmUoJ0NpcmN1bGFyIE9iamVjdCcpO1xuICAgICAgZXhwZWN0KGRlc2VyaWFsaXplZC52YWx1ZSkudG9CZSg0Mik7XG4gICAgICBleHBlY3QoZGVzZXJpYWxpemVkLmNoaWxkLm5hbWUpLnRvQmUoJ0NoaWxkIE9iamVjdCcpO1xuICAgICAgZXhwZWN0KGRlc2VyaWFsaXplZC5jaGlsZC5wYXJlbnQpLnRvQmUoJ1tDaXJjdWxhciBSZWZlcmVuY2VdJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBVbmljb2RlIGFuZCBzcGVjaWFsIGNoYXJhY3RlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBzcGVjaWFsQ2hhcnNPYmplY3QgPSB7XG4gICAgICAgIGVtb2ppOiAn8J+YgPCfmoDwn4yf8J+UpfCfjoknLFxuICAgICAgICBhcmFiaWM6ICfZhdix2K3YqNinINio2KfZhNi52KfZhNmFJyxcbiAgICAgICAgY2hpbmVzZTogJ+S9oOWlveS4lueVjCcsXG4gICAgICAgIHJ1c3NpYW46ICfQn9GA0LjQstC10YIsINC80LjRgCcsXG4gICAgICAgIGphcGFuZXNlOiAn44GT44KT44Gr44Gh44Gv5LiW55WMJyxcbiAgICAgICAga29yZWFuOiAn7JWI64WV7ZWY7IS47JqUIOyEuOqzhCcsXG4gICAgICAgIHRoYWk6ICfguKrguKfguLHguKrguJTguLXguIrguLLguKfguYLguKXguIEnLFxuICAgICAgICBzcGVjaWFsQ2hhcnM6ICfCqcKu4oSiwqfCtuKAoOKAoeKZoOKZo+KZpeKZpsK/wqHCq8K7JyxcbiAgICAgICAgZXNjYXBlQ2hhcnM6ICdcXG5cXHRcXHJcXGJcXGZcXFxcXFwnXFxcXFwiJyxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgYXdhaXQgbW9ja1N0b3JhZ2Uuc2V0SXRlbSgnc3BlY2lhbENoYXJzJywgSlNPTi5zdHJpbmdpZnkoc3BlY2lhbENoYXJzT2JqZWN0KSk7XG4gICAgICBjb25zdCByZXRyaWV2ZWQgPSBKU09OLnBhcnNlKGF3YWl0IG1vY2tTdG9yYWdlLmdldEl0ZW0oJ3NwZWNpYWxDaGFycycpIHx8ICd7fScpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQuZW1vamkpLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LmVtb2ppKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQuYXJhYmljKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5hcmFiaWMpO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5jaGluZXNlKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5jaGluZXNlKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQucnVzc2lhbikudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QucnVzc2lhbik7XG4gICAgICBleHBlY3QocmV0cmlldmVkLmphcGFuZXNlKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5qYXBhbmVzZSk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLmtvcmVhbikudG9CZShzcGVjaWFsQ2hhcnNPYmplY3Qua29yZWFuKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQudGhhaSkudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QudGhhaSk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLnNwZWNpYWxDaGFycykudG9CZShzcGVjaWFsQ2hhcnNPYmplY3Quc3BlY2lhbENoYXJzKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQuZXNjYXBlQ2hhcnMpLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LmVzY2FwZUNoYXJzKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbWFsZm9ybWVkSlNPTiA9ICd7XCJuYW1lXCI6IFwiVGVzdFwiLCBcInZhbHVlXCI6IDQyLCBtaXNzaW5nOiBxdW90ZXMsIHVuY2xvc2VkOiB7JztcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QoKCkgPT4gSlNPTi5wYXJzZShtYWxmb3JtZWRKU09OKSkudG9UaHJvdyhTeW50YXhFcnJvcik7XG4gICAgICBcbiAgICAgIC8vIFNhZmUgcGFyc2VyIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICAgIGNvbnN0IHNhZmVQYXJzZSA9IChqc29uOiBzdHJpbmcsIGZhbGxiYWNrOiBhbnkgPSB7fSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgSlNPTjonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3Qgd2l0aCBzYWZlIHBhcnNlclxuICAgICAgY29uc3QgcmVzdWx0ID0gc2FmZVBhcnNlKG1hbGZvcm1lZEpTT04sIHsgZXJyb3I6IHRydWUgfSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7IGVycm9yOiB0cnVlIH0pO1xuICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvclNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgUHJvcGFnYXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHByb3BhZ2F0ZSBlcnJvcnMgdGhyb3VnaCBhc3luYyBjaGFpbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBzdGVwMSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpbiBzdGVwIDEnKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHN0ZXAyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzdGVwMSgpO1xuICAgICAgICByZXR1cm4gJ1N0ZXAgMiBjb21wbGV0ZWQnO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RlcDMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0ZXAyKCk7XG4gICAgICAgIHJldHVybiBgU3RlcCAzIGNvbXBsZXRlZCB3aXRoICR7cmVzdWx0fWA7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChzdGVwMygpKS5yZWplY3RzLnRvVGhyb3coJ0Vycm9yIGluIHN0ZXAgMScpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCB0cmFuc2Zvcm0gZXJyb3JzIHRocm91Z2ggYXN5bmMgY2hhaW5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgc3RlcDEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHN0ZXAyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHN0ZXAxKCk7XG4gICAgICAgICAgcmV0dXJuICdTdGVwIDIgY29tcGxldGVkJztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGEgcmV0cmlldmFsIGVycm9yOiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RlcDMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlcDIoKTtcbiAgICAgICAgICByZXR1cm4gYFN0ZXAgMyBjb21wbGV0ZWQgd2l0aCAke3Jlc3VsdH1gO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvY2Vzc2luZyBlcnJvcjogJHsoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KHN0ZXAzKCkpLnJlamVjdHMudG9UaHJvdygnUHJvY2Vzc2luZyBlcnJvcjogRGF0YSByZXRyaWV2YWwgZXJyb3I6IERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlcnJvcnMgd2l0aCBjb250ZXh0IGluZm9ybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgaW50ZXJmYWNlIEFwcEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgICAgICBjb2RlPzogc3RyaW5nO1xuICAgICAgICBjb250ZXh0PzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgY3JlYXRlQXBwRXJyb3IgPSAoXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICAgICAgY29kZT86IHN0cmluZyxcbiAgICAgICAgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgICAgICk6IEFwcEVycm9yID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSkgYXMgQXBwRXJyb3I7XG4gICAgICAgIGlmIChjb2RlKSBlcnJvci5jb2RlID0gY29kZTtcbiAgICAgICAgaWYgKGNvbnRleHQpIGVycm9yLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBleGVjdXRlT3BlcmF0aW9uID0gYXN5bmMgKGNvbnRleHQ6IHN0cmluZykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnN0IGFwcEVycm9yID0gY3JlYXRlQXBwRXJyb3IoXG4gICAgICAgICAgICAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgICAgICAnT1BFUkFUSU9OX0VSUk9SJyxcbiAgICAgICAgICAgIHsgY29udGV4dCB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvdyBhcHBFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBleGVjdXRlT3BlcmF0aW9uKCd0ZXN0LWNvbnRleHQnKTtcbiAgICAgICAgZmFpbCgnU2hvdWxkIGhhdmUgdGhyb3duIGFuIGVycm9yJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0JlKCdPcGVyYXRpb24gZmFpbGVkJyk7XG4gICAgICAgIGV4cGVjdChlcnJvci5jb2RlKS50b0JlKCdPUEVSQVRJT05fRVJST1InKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmNvbnRleHQpLnRvRXF1YWwoeyBjb250ZXh0OiAndGVzdC1jb250ZXh0JyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgYWdncmVnYXRlIGVycm9ycyBmcm9tIG11bHRpcGxlIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAxIHN1Y2Nlc3MnKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gMiBmYWlsZWQnKSksXG4gICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgc3VjY2VzcycpLFxuICAgICAgICAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ09wZXJhdGlvbiA0IGZhaWxlZCcpKSxcbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIEN1c3RvbSBpbXBsZW1lbnRhdGlvbiB0byBhZ2dyZWdhdGUgZXJyb3JzXG4gICAgICBjb25zdCBleGVjdXRlQWxsID0gYXN5bmMgKG9wczogKCgpID0+IFByb21pc2U8YW55PilbXSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKG9wcy5tYXAob3AgPT4gb3AoKSkpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gcmVzdWx0c1xuICAgICAgICAgIC5maWx0ZXIoKHIpOiByIGlzIFByb21pc2VGdWxmaWxsZWRSZXN1bHQ8YW55PiA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpXG4gICAgICAgICAgLm1hcChyID0+IHIudmFsdWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmFpbHVyZXMgPSByZXN1bHRzXG4gICAgICAgICAgLmZpbHRlcigocik6IHIgaXMgUHJvbWlzZVJlamVjdGVkUmVzdWx0ID0+IHIuc3RhdHVzID09PSAncmVqZWN0ZWQnKVxuICAgICAgICAgIC5tYXAociA9PiByLnJlYXNvbik7XG4gICAgICAgIFxuICAgICAgICBpZiAoZmFpbHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGAke2ZhaWx1cmVzLmxlbmd0aH0gb3BlcmF0aW9ucyBmYWlsZWRgKTtcbiAgICAgICAgICAoZXJyb3IgYXMgYW55KS5mYWlsdXJlcyA9IGZhaWx1cmVzO1xuICAgICAgICAgIChlcnJvciBhcyBhbnkpLnN1Y2Nlc3NlcyA9IHN1Y2Nlc3NlcztcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NlcztcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZXhlY3V0ZUFsbChvcGVyYXRpb25zKTtcbiAgICAgICAgZmFpbCgnU2hvdWxkIGhhdmUgdGhyb3duIGFuIGVycm9yJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0JlKCcyIG9wZXJhdGlvbnMgZmFpbGVkJyk7XG4gICAgICAgIGV4cGVjdChlcnJvci5mYWlsdXJlcy5sZW5ndGgpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChlcnJvci5mYWlsdXJlc1swXS5tZXNzYWdlKS50b0JlKCdPcGVyYXRpb24gMiBmYWlsZWQnKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmZhaWx1cmVzWzFdLm1lc3NhZ2UpLnRvQmUoJ09wZXJhdGlvbiA0IGZhaWxlZCcpO1xuICAgICAgICBleHBlY3QoZXJyb3Iuc3VjY2Vzc2VzLmxlbmd0aCkudG9CZSgyKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLnN1Y2Nlc3NlcykudG9FcXVhbChbJ09wZXJhdGlvbiAxIHN1Y2Nlc3MnLCAnT3BlcmF0aW9uIDMgc3VjY2VzcyddKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JldHJ5IE1lY2hhbmlzbXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCByZXRyeSB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmYnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgY29uc3QgbWF4QXR0ZW1wdHMgPSAzO1xuICAgICAgXG4gICAgICBjb25zdCB1bnJlbGlhYmxlT3BlcmF0aW9uID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgIGlmIChhdHRlbXB0cyA8IDMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBBdHRlbXB0ICR7YXR0ZW1wdHN9IGZhaWxlZGApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGBTdWNjZXNzIG9uIGF0dGVtcHQgJHthdHRlbXB0c31gKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCB3aXRoUmV0cnkgPSBhc3luYyA8VD4oXG4gICAgICAgIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgICAgICAgbWF4UmV0cmllczogbnVtYmVyXG4gICAgICApOiBQcm9taXNlPFQ+ID0+IHtcbiAgICAgICAgbGV0IGxhc3RFcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yIGFzIEVycm9yO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBBdHRlbXB0ICR7YXR0ZW1wdH0gZmFpbGVkOiAke2xhc3RFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgLy8gVXNlIG1pbmltYWwgZGVsYXkgZm9yIHRlc3RzXG4gICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFsbCAke21heFJldHJpZXN9IGF0dGVtcHRzIGZhaWxlZC4gTGFzdCBlcnJvcjogJHtsYXN0RXJyb3I/Lm1lc3NhZ2V9YCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpdGhSZXRyeSh1bnJlbGlhYmxlT3BlcmF0aW9uLCBtYXhBdHRlbXB0cyk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnU3VjY2VzcyBvbiBhdHRlbXB0IDMnKTtcbiAgICAgIGV4cGVjdCh1bnJlbGlhYmxlT3BlcmF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gICAgICBleHBlY3QoY29uc29sZVdhcm5TcHkpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaW1wbGVtZW50IGNvbmRpdGlvbmFsIHJldHJ5IGJhc2VkIG9uIGVycm9yIHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBuZXR3b3JrRXJyb3IgPSBuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKTtcbiAgICAgIChuZXR3b3JrRXJyb3IgYXMgYW55KS5jb2RlID0gJ05FVFdPUktfRVJST1InO1xuICAgICAgXG4gICAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSBuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZXJyb3InKTtcbiAgICAgICh2YWxpZGF0aW9uRXJyb3IgYXMgYW55KS5jb2RlID0gJ1ZBTElEQVRJT05fRVJST1InO1xuICAgICAgXG4gICAgICBsZXQgY2FsbENvdW50ID0gMDtcbiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICBjYWxsQ291bnQrKztcbiAgICAgICAgXG4gICAgICAgIGlmIChjYWxsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV0d29ya0Vycm9yKTsgLy8gU2hvdWxkIHJldHJ5XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHZhbGlkYXRpb25FcnJvcik7IC8vIFNob3VsZCBub3QgcmV0cnlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnU3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHdpdGhDb25kaXRpb25hbFJldHJ5ID0gYXN5bmMgPFQ+KFxuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gICAgICAgIG1heFJldHJpZXM6IG51bWJlcixcbiAgICAgICAgc2hvdWxkUmV0cnk6IChlcnJvcjogRXJyb3IpID0+IGJvb2xlYW5cbiAgICAgICk6IFByb21pc2U8VD4gPT4ge1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICBsZXQgbGFzdEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKGF0dGVtcHRzIDwgbWF4UmV0cmllcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yIGFzIEVycm9yO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heFJldHJpZXMgfHwgIXNob3VsZFJldHJ5KGxhc3RFcnJvcikpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbGFzdEVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBNaW5pbWFsIGRlbGF5IGZvciB0ZXN0c1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IGxhc3RFcnJvcjtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIE9ubHkgcmV0cnkgbmV0d29yayBlcnJvcnMsIG5vdCB2YWxpZGF0aW9uIGVycm9yc1xuICAgICAgY29uc3Qgc2hvdWxkUmV0cnkgPSAoZXJyb3I6IEVycm9yKSA9PiAoZXJyb3IgYXMgYW55KS5jb2RlID09PSAnTkVUV09SS19FUlJPUic7XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KHdpdGhDb25kaXRpb25hbFJldHJ5KG9wZXJhdGlvbiwgMywgc2hvdWxkUmV0cnkpKS5yZWplY3RzLnRvVGhyb3coJ1ZhbGlkYXRpb24gZXJyb3InKTtcbiAgICAgIGV4cGVjdChvcGVyYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIE9wdGltaXphdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZWZmaWNpZW50bHkgcHJvY2VzcyBsYXJnZSBhcnJheXMgd2l0aCBjaHVua2luZycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2UgLSB1c2Ugc21hbGxlciBhcnJheSBmb3IgZmFzdGVyIHRlc3RzXG4gICAgICBjb25zdCBsYXJnZUFycmF5ID0gQXJyYXkoMjApLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiAoeyBpZDogaSwgdmFsdWU6IGBJdGVtICR7aX1gIH0pKTtcbiAgICAgIFxuICAgICAgLy8gRnVuY3Rpb24gdG8gcHJvY2VzcyBhcnJheSBpbiBjaHVua3NcbiAgICAgIGNvbnN0IHByb2Nlc3NJbkNodW5rcyA9IGFzeW5jIDxULCBSPihcbiAgICAgICAgaXRlbXM6IFRbXSxcbiAgICAgICAgY2h1bmtTaXplOiBudW1iZXIsXG4gICAgICAgIHByb2Nlc3NvcjogKGNodW5rOiBUW10pID0+IFByb21pc2U8UltdPlxuICAgICAgKTogUHJvbWlzZTxSW10+ID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogUltdID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICAgICAgICBjb25zdCBjaHVuayA9IGl0ZW1zLnNsaWNlKGksIGkgKyBjaHVua1NpemUpO1xuICAgICAgICAgIGNvbnN0IGNodW5rUmVzdWx0cyA9IGF3YWl0IHByb2Nlc3NvcihjaHVuayk7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKC4uLmNodW5rUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBwcm9jZXNzb3IgZnVuY3Rpb25cbiAgICAgIGNvbnN0IHByb2Nlc3NJdGVtcyA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oYXN5bmMgKGl0ZW1zOiBhbnlbXSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbXMubWFwKGl0ZW0gPT4gKHsgLi4uaXRlbSwgcHJvY2Vzc2VkOiB0cnVlIH0pKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwcm9jZXNzSW5DaHVua3MobGFyZ2VBcnJheSwgNSwgcHJvY2Vzc0l0ZW1zKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvQmUoMjApO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMF0ucHJvY2Vzc2VkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMTldLnByb2Nlc3NlZCkudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhdmUgY2FsbGVkIHRoZSBwcm9jZXNzb3IgNCB0aW1lcyAoMjAgaXRlbXMgLyA1IGNodW5rIHNpemUpXG4gICAgICBleHBlY3QocHJvY2Vzc0l0ZW1zKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoNCk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCBtZW1vaXphdGlvbiBmb3IgZXhwZW5zaXZlIGNhbGN1bGF0aW9ucycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGV4cGVuc2l2ZUNhbGN1bGF0aW9uID0gamVzdC5mbigoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IHtcbiAgICAgICAgLy8gU2ltcGxpZmllZCBjYWxjdWxhdGlvbiBmb3IgdGVzdHNcbiAgICAgICAgcmV0dXJuIGEgKiBiICsgTWF0aC5zcXJ0KGEgKyBiKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIHRoZSBmdW5jdGlvblxuICAgICAgY29uc3QgbWVtb2l6ZSA9IDxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KGZuOiBUKTogVCA9PiB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIFJldHVyblR5cGU8VD4+KCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gKCguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KTogUmV0dXJuVHlwZTxUPiA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSkhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBmbiguLi5hcmdzKTtcbiAgICAgICAgICBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pIGFzIFQ7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBtZW1vaXplZENhbGN1bGF0aW9uID0gbWVtb2l6ZShleHBlbnNpdmVDYWxjdWxhdGlvbik7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0MSA9IG1lbW9pemVkQ2FsY3VsYXRpb24oMTAsIDIwKTtcbiAgICAgIGNvbnN0IHJlc3VsdDIgPSBtZW1vaXplZENhbGN1bGF0aW9uKDUsIDEwKTtcbiAgICAgIGNvbnN0IHJlc3VsdDMgPSBtZW1vaXplZENhbGN1bGF0aW9uKDEwLCAyMCk7IC8vIFNob3VsZCB1c2UgY2FjaGVkIHJlc3VsdFxuICAgICAgY29uc3QgcmVzdWx0NCA9IG1lbW9pemVkQ2FsY3VsYXRpb24oNSwgMTApOyAgLy8gU2hvdWxkIHVzZSBjYWNoZWQgcmVzdWx0XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdDEpLnRvQmUocmVzdWx0Myk7XG4gICAgICBleHBlY3QocmVzdWx0MikudG9CZShyZXN1bHQ0KTtcbiAgICAgIFxuICAgICAgLy8gT3JpZ2luYWwgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHR3aWNlXG4gICAgICBleHBlY3QoZXhwZW5zaXZlQ2FsY3VsYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBU0EsSUFBTUEsV0FBVyxHQUFHO0VBQ2xCQyxLQUFLLEVBQUUsSUFBSUMsR0FBRyxDQUFpQixDQUFDO0VBQ2hDQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLFVBQUNDLEdBQVcsRUFBRUMsS0FBYSxFQUFLO0lBQy9DLE9BQU8sSUFBSUMsT0FBTyxDQUFPLFVBQUNDLE9BQU8sRUFBRUMsTUFBTSxFQUFLO01BRTVDLElBQUlDLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUU7UUFDeEJGLE1BQU0sQ0FBQyxJQUFJRyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDbEM7TUFDRjtNQUVBQyxVQUFVLENBQUMsWUFBTTtRQUNmZCxXQUFXLENBQUNDLEtBQUssQ0FBQ2MsR0FBRyxDQUFDVCxHQUFHLEVBQUVDLEtBQUssQ0FBQztRQUNqQ0UsT0FBTyxDQUFDLENBQUM7TUFDWCxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBQ0ZPLE9BQU8sRUFBRVosSUFBSSxDQUFDQyxFQUFFLENBQUMsVUFBQ0MsR0FBVyxFQUFLO0lBQ2hDLE9BQU8sSUFBSUUsT0FBTyxDQUFnQixVQUFDQyxPQUFPLEVBQUs7TUFDN0NLLFVBQVUsQ0FBQyxZQUFNO1FBQ2ZMLE9BQU8sQ0FBQ1QsV0FBVyxDQUFDQyxLQUFLLENBQUNnQixHQUFHLENBQUNYLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQztNQUM3QyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBQ0ZZLFVBQVUsRUFBRWQsSUFBSSxDQUFDQyxFQUFFLENBQUMsVUFBQ0MsR0FBVyxFQUFLO0lBQ25DLE9BQU8s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