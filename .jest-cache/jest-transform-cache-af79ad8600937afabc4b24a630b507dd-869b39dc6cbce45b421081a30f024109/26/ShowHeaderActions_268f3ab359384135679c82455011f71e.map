{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","Ionicons","jsx","_jsx","jsxs","_jsxs","cov_24dbvih78s","s","ShowHeaderActions","_ref","isFavorite","_isCurrentUserOrganizer","onToggleFavorite","onOpenMap","onShare","onReview","show","f","hasShowEnded","_ref2","dateStr","b","endDate","startDate","Date","getTime","now","canLeaveReview","style","styles","actionsContainer","children","actionButton","onPress","name","size","color","actionText","create","flexDirection","justifyContent","paddingVertical","backgroundColor","borderBottomWidth","borderBottomColor","alignItems","marginTop","fontSize"],"sources":["ShowHeaderActions.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\n// Show model – needed to inspect start / end dates\nimport { Show } from '../../../types';\n\ninterface ShowHeaderActionsProps {\n  isFavorite: boolean;\n  _isCurrentUserOrganizer: boolean;\n  onToggleFavorite: () => void;\n  onOpenMap: () => void;\n  onShare: () => void;\n  onReview: () => void;\n  /** Full show object so we can determine if the show is in the past */\n  show: Show;\n}\n\nconst ShowHeaderActions: React.FC<ShowHeaderActionsProps> = ({\n  isFavorite,\n  _isCurrentUserOrganizer,\n  onToggleFavorite,\n  onOpenMap,\n  onShare,\n  onReview,\n  show,\n}) => {\n  /**\n   * Determines whether the show has already finished.\n   * If `endDate` exists use that, otherwise fall back to `startDate`.\n   * Reviews are only permitted for shows that have *ended*.\n   */\n  const hasShowEnded = (s: Show): boolean => {\n    const dateStr = (s.endDate ?? s.startDate) as string | Date;\n    if (!dateStr) return false;\n    return new Date(dateStr).getTime() < Date.now();\n  };\n\n  const canLeaveReview = hasShowEnded(show);\n\n  return (\n    <View style={styles.actionsContainer}>\n      <TouchableOpacity style={styles.actionButton} onPress={onToggleFavorite}>\n        <Ionicons \n          name={isFavorite ? 'heart' : 'heart-outline'} \n          size={24} \n          color={isFavorite ? '#FF6A00' : '#333333'} \n        />\n        <Text style={styles.actionText}>Save</Text>\n      </TouchableOpacity>\n      \n      <TouchableOpacity style={styles.actionButton} onPress={onOpenMap}>\n        <Ionicons name=\"location\" size={24} color=\"#333333\" />\n        <Text style={styles.actionText}>Map</Text>\n      </TouchableOpacity>\n      \n      <TouchableOpacity style={styles.actionButton} onPress={onShare}>\n        <Ionicons name=\"share-outline\" size={24} color=\"#333333\" />\n        <Text style={styles.actionText}>Share</Text>\n      </TouchableOpacity>\n\n      {/* Review button – visible only AFTER the show has completed */}\n      {canLeaveReview && (\n        <TouchableOpacity style={styles.actionButton} onPress={onReview}>\n          <Ionicons name=\"star-outline\" size={24} color=\"#333333\" />\n          <Text style={styles.actionText}>Review</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  actionsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    paddingVertical: 12,\n    backgroundColor: 'white',\n    borderBottomWidth: 1,\n    borderBottomColor: '#EEEEEE',\n  },\n  actionButton: {\n    alignItems: 'center',\n  },\n  actionText: {\n    marginTop: 4,\n    fontSize: 12,\n  },\n});\n\nexport default ShowHeaderActions;\n"],"mappings":"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","ignoreList":[]}