e4de7dd49ff5c8a77a971ca27220b737
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var mockStorage = {
  _data: new Map(),
  setItem: jest.fn(function (key, value) {
    return new Promise(function (resolve, reject) {
      if (Math.random() < 0.05) {
        reject(new Error('Storage error'));
        return;
      }
      setTimeout(function () {
        mockStorage._data.set(key, value);
        resolve();
      }, 1);
    });
  }),
  getItem: jest.fn(function (key) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        resolve(mockStorage._data.get(key) || null);
      }, 1);
    });
  }),
  removeItem: jest.fn(function (key) {
    return new Promise(function (resolve) {
      setTimeout(function () {
        mockStorage._data.delete(key);
        resolve();
      }, 1);
    });
  }),
  clear: jest.fn(function () {
    return new Promise(function (resolve) {
      mockStorage._data.clear();
      resolve();
    });
  }),
  getAllKeys: jest.fn(function () {
    return new Promise(function (resolve) {
      resolve(Array.from(mockStorage._data.keys()));
    });
  })
};
var MockEventEmitter = function () {
  function MockEventEmitter() {
    (0, _classCallCheck2.default)(this, MockEventEmitter);
    this.listeners = new Map();
  }
  return (0, _createClass2.default)(MockEventEmitter, [{
    key: "addListener",
    value: function addListener(event, listener) {
      var _this = this;
      if (!this.listeners.has(event)) {
        this.listeners.set(event, []);
      }
      this.listeners.get(event).push(listener);
      return {
        remove: function remove() {
          return _this.removeListener(event, listener);
        }
      };
    }
  }, {
    key: "removeListener",
    value: function removeListener(event, listener) {
      if (!this.listeners.has(event)) return;
      var eventListeners = this.listeners.get(event);
      var index = eventListeners.indexOf(listener);
      if (index !== -1) {
        eventListeners.splice(index, 1);
      }
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(event) {
      if (event) {
        this.listeners.delete(event);
      } else {
        this.listeners.clear();
      }
    }
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      if (!this.listeners.has(event)) return false;
      var eventListeners = this.listeners.get(event);
      eventListeners.forEach(function (listener) {
        try {
          listener.apply(void 0, args);
        } catch (e) {
          console.error('Error in event listener:', e);
        }
      });
      return true;
    }
  }]);
}();
describe('Edge Cases and Async Operations', function () {
  var consoleErrorSpy;
  var consoleWarnSpy;
  beforeEach(function () {
    jest.clearAllMocks();
    consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation(function () {});
    consoleWarnSpy = jest.spyOn(console, 'warn').mockImplementation(function () {});
    mockStorage._data.clear();
  });
  afterEach(function () {
    consoleErrorSpy.mockRestore();
    consoleWarnSpy.mockRestore();
    jest.useRealTimers();
  });
  describe('Race Conditions', function () {
    test('should handle multiple concurrent storage operations on the same key', (0, _asyncToGenerator2.default)(function* () {
      var key = 'user_preferences';
      var initialData = JSON.stringify({
        theme: 'light',
        notifications: true
      });
      yield mockStorage.setItem(key, initialData);
      var update1 = function () {
        var _ref2 = (0, _asyncToGenerator2.default)(function* () {
          var data = JSON.parse((yield mockStorage.getItem(key)) || '{}');
          data.theme = 'dark';
          yield mockStorage.setItem(key, JSON.stringify(data));
          return data;
        });
        return function update1() {
          return _ref2.apply(this, arguments);
        };
      }();
      var update2 = function () {
        var _ref3 = (0, _asyncToGenerator2.default)(function* () {
          var data = JSON.parse((yield mockStorage.getItem(key)) || '{}');
          data.notifications = false;
          yield mockStorage.setItem(key, JSON.stringify(data));
          return data;
        });
        return function update2() {
          return _ref3.apply(this, arguments);
        };
      }();
      var _yield$Promise$all = yield Promise.all([update1(), update2()]),
        _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 2),
        result1 = _yield$Promise$all2[0],
        result2 = _yield$Promise$all2[1];
      expect(result1).not.toEqual(result2);
      var finalValue = JSON.parse((yield mockStorage.getItem(key)) || '{}');
      expect(finalValue).toEqual(expect.objectContaining({
        theme: expect.any(String),
        notifications: expect.any(Boolean)
      }));
      expect(result1.theme).toBe('dark');
      expect(result2.notifications).toBe(false);
    }));
    test('should implement optimistic locking to prevent race conditions', (0, _asyncToGenerator2.default)(function* () {
      var key = 'counter';
      var currentVersion = 1;
      var currentValue = 0;
      var getWithVersion = jest.fn((0, _asyncToGenerator2.default)(function* () {
        return JSON.stringify({
          value: currentValue,
          version: currentVersion
        });
      }));
      var setWithVersion = jest.fn(function () {
        var _ref6 = (0, _asyncToGenerator2.default)(function* (k, valueStr) {
          var data = JSON.parse(valueStr);
          if (data.version === currentVersion) {
            currentValue = data.value;
            currentVersion++;
            return;
          } else {
            throw new Error('Version mismatch - data was modified by another process');
          }
        });
        return function (_x, _x2) {
          return _ref6.apply(this, arguments);
        };
      }());
      var incrementWithRetry = function () {
        var _ref7 = (0, _asyncToGenerator2.default)(function* () {
          var maxRetries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;
          var retries = 0;
          while (retries < maxRetries) {
            try {
              var dataStr = yield getWithVersion(key);
              var data = JSON.parse(dataStr || '{"value":0,"version":1}');
              var newData = {
                value: data.value + 1,
                version: data.version
              };
              yield setWithVersion(key, JSON.stringify(newData));
              return newData.value;
            } catch (error) {
              retries++;
              if (retries >= maxRetries) {
                throw error;
              }
              yield new Promise(function (r) {
                return setTimeout(r, 1);
              });
            }
          }
          throw new Error('Failed after max retries');
        });
        return function incrementWithRetry() {
          return _ref7.apply(this, arguments);
        };
      }();
      var results = yield Promise.allSettled([incrementWithRetry(), incrementWithRetry(), incrementWithRetry()]);
      expect(results.every(function (r) {
        return r.status === 'fulfilled';
      })).toBe(true);
      expect(currentValue).toBe(3);
      expect(currentVersion).toBe(4);
    }));
  });
  describe('Memory Management', function () {
    test('should properly cleanup event listeners when component unmounts', function () {
      var eventEmitter = new MockEventEmitter();
      var mockCallback = jest.fn();
      var subscription = eventEmitter.addListener('dataChange', mockCallback);
      eventEmitter.emit('dataChange', {
        value: 'test'
      });
      expect(mockCallback).toHaveBeenCalledWith({
        value: 'test'
      });
      subscription.remove();
      mockCallback.mockClear();
      eventEmitter.emit('dataChange', {
        value: 'test2'
      });
      expect(mockCallback).not.toHaveBeenCalled();
    });
    test('should cancel timers to prevent memory leaks', function () {
      jest.useFakeTimers();
      var mockCallback = jest.fn();
      var timerId = setTimeout(mockCallback, 50);
      clearTimeout(timerId);
      jest.advanceTimersByTime(100);
      expect(mockCallback).not.toHaveBeenCalled();
    });
    test('should handle abandoned promises that could cause memory leaks', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var abortController = new AbortController();
      var signal = abortController.signal;
      var longRunningOperation = function longRunningOperation() {
        return new Promise(function (resolve, reject) {
          var checkAbort = function checkAbort() {
            if (signal.aborted) {
              reject(new Error('Operation aborted'));
              return true;
            }
            return false;
          };
          if (checkAbort()) return;
          var intervalId = setInterval(function () {
            if (checkAbort()) {
              clearInterval(intervalId);
            }
          }, 5);
          setTimeout(function () {
            clearInterval(intervalId);
            resolve('Operation completed');
          }, 10);
        });
      };
      var operationPromise = longRunningOperation();
      abortController.abort();
      jest.advanceTimersByTime(5);
      yield expect(operationPromise).rejects.toThrow('Operation aborted');
    }));
  });
  describe('Promise Chain Failures', function () {
    test('should handle errors in the middle of promise chains', (0, _asyncToGenerator2.default)(function* () {
      var processData = function () {
        var _ref0 = (0, _asyncToGenerator2.default)(function* (data) {
          var _validatedData = yield Promise.resolve(data);
          var _transformedData = yield Promise.reject(new Error('Transform failed'));
          var _savedData = yield Promise.resolve(Object.assign({}, _transformedData, {
            saved: true
          }));
          return _savedData;
        });
        return function processData(_x3) {
          return _ref0.apply(this, arguments);
        };
      }();
      yield expect(processData({
        test: true
      })).rejects.toThrow('Transform failed');
    }));
    test('should handle errors in nested promise chains', (0, _asyncToGenerator2.default)(function* () {
      var innerOperation = function () {
        var _ref10 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Inner operation failed');
        });
        return function innerOperation() {
          return _ref10.apply(this, arguments);
        };
      }();
      var middleOperation = function () {
        var _ref11 = (0, _asyncToGenerator2.default)(function* () {
          try {
            return yield innerOperation();
          } catch (error) {
            throw new Error(`Middle operation caught: ${error.message}`);
          }
        });
        return function middleOperation() {
          return _ref11.apply(this, arguments);
        };
      }();
      var outerOperation = function () {
        var _ref12 = (0, _asyncToGenerator2.default)(function* () {
          try {
            return yield middleOperation();
          } catch (error) {
            throw new Error(`Outer operation caught: ${error.message}`);
          }
        });
        return function outerOperation() {
          return _ref12.apply(this, arguments);
        };
      }();
      yield expect(outerOperation()).rejects.toThrow('Outer operation caught: Middle operation caught: Inner operation failed');
    }));
    test('should recover from promise chain failures with fallback values', (0, _asyncToGenerator2.default)(function* () {
      var fetchWithFallback = function () {
        var _ref14 = (0, _asyncToGenerator2.default)(function* (url, fallback) {
          try {
            throw new Error('Network error');
          } catch (error) {
            console.error('Error fetching data:', error);
            return fallback;
          }
        });
        return function fetchWithFallback(_x4, _x5) {
          return _ref14.apply(this, arguments);
        };
      }();
      var result = yield fetchWithFallback('https://api.example.com/data', {
        fallback: true
      });
      expect(result).toEqual({
        fallback: true
      });
      expect(consoleErrorSpy).toHaveBeenCalled();
    }));
  });
  describe('Timeout Handling', function () {
    test('should handle promise timeout with race pattern', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var timeoutPromise = function timeoutPromise(ms) {
        return new Promise(function (_, reject) {
          setTimeout(function () {
            return reject(new Error(`Operation timed out after ${ms}ms`));
          }, ms);
        });
      };
      var slowOperation = function slowOperation() {
        return new Promise(function (resolve) {
          setTimeout(function () {
            return resolve('Success');
          }, 20);
        });
      };
      var racePromise = Promise.race([slowOperation(), timeoutPromise(10)]);
      jest.advanceTimersByTime(10);
      yield expect(racePromise).rejects.toThrow('Operation timed out after 10ms');
    }));
    test('should implement custom timeout for async operations', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var operationWithTimeout = function () {
        var _ref17 = (0, _asyncToGenerator2.default)(function* (operation, timeoutMs) {
          var timeoutError = new Error(`Operation timed out after ${timeoutMs}ms`);
          var timeoutId;
          var timeoutPromise = new Promise(function (_, reject) {
            timeoutId = setTimeout(function () {
              return reject(timeoutError);
            }, timeoutMs);
          });
          return Promise.race([operation(), timeoutPromise]).finally(function () {
            clearTimeout(timeoutId);
          });
        });
        return function operationWithTimeout(_x6, _x7) {
          return _ref17.apply(this, arguments);
        };
      }();
      var slowOperation = function slowOperation() {
        return new Promise(function (resolve) {
          setTimeout(function () {
            return resolve('Success');
          }, 20);
        });
      };
      var operationPromise = operationWithTimeout(function () {
        return slowOperation();
      }, 10);
      jest.advanceTimersByTime(10);
      yield expect(operationPromise).rejects.toThrow('Operation timed out after 10ms');
    }));
    test('should handle timeouts in parallel operations', (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers({
        doNotFake: ['nextTick', 'setImmediate']
      });
      var operation1 = Promise.resolve('Operation 1 completed');
      var operation2 = Promise.reject(new Error('Operation 2 timed out after 10ms'));
      var operation3 = Promise.resolve('Operation 3 completed');
      var results = yield Promise.allSettled([operation1, operation2, operation3]);
      expect(results[0].status).toBe('fulfilled');
      expect(results[1].status).toBe('rejected');
      expect(results[2].status).toBe('fulfilled');
      if (results[1].status === 'rejected') {
        expect(results[1].reason.message).toBe('Operation 2 timed out after 10ms');
      }
    }));
  });
  describe('Concurrent Operations', function () {
    test('should limit concurrency of parallel operations', (0, _asyncToGenerator2.default)(function* () {
      var concurrencyLimit = 2;
      var activeOperations = 0;
      var maxConcurrentOperations = 0;
      var operation = function () {
        var _ref20 = (0, _asyncToGenerator2.default)(function* (id) {
          activeOperations++;
          maxConcurrentOperations = Math.max(maxConcurrentOperations, activeOperations);
          yield new Promise(function (resolve) {
            return setTimeout(resolve, 1);
          });
          activeOperations--;
          return `Operation ${id} completed`;
        });
        return function operation(_x8) {
          return _ref20.apply(this, arguments);
        };
      }();
      var runWithConcurrencyLimit = function () {
        var _ref21 = (0, _asyncToGenerator2.default)(function* (operations, limit) {
          var results = [];
          var executing = [];
          var _loop = function* _loop(_operation) {
            var p = Promise.resolve().then(function () {
              return _operation();
            });
            results.push(p);
            if (limit <= operations.length) {
              var e = p.then(function () {
                executing.splice(executing.indexOf(e), 1);
              });
              executing.push(e);
              if (executing.length >= limit) {
                yield Promise.race(executing);
              }
            }
          };
          for (var _operation of operations) {
            yield* _loop(_operation);
          }
          return Promise.all(results);
        });
        return function runWithConcurrencyLimit(_x9, _x0) {
          return _ref21.apply(this, arguments);
        };
      }();
      var operations = Array(5).fill(null).map(function (_, i) {
        return function () {
          return operation(i + 1);
        };
      });
      yield runWithConcurrencyLimit(operations, concurrencyLimit);
      expect(maxConcurrentOperations).toBeLessThanOrEqual(concurrencyLimit);
    }));
    test('should handle errors in concurrent operations without stopping others', (0, _asyncToGenerator2.default)(function* () {
      var operations = [function () {
        return Promise.resolve('Operation 1 success');
      }, function () {
        return Promise.reject(new Error('Operation 2 failed'));
      }, function () {
        return Promise.resolve('Operation 3 success');
      }, function () {
        return Promise.reject(new Error('Operation 4 failed'));
      }, function () {
        return Promise.resolve('Operation 5 success');
      }];
      var results = yield Promise.allSettled(operations.map(function (op) {
        return op();
      }));
      expect(results[0].status).toBe('fulfilled');
      expect(results[1].status).toBe('rejected');
      expect(results[2].status).toBe('fulfilled');
      expect(results[3].status).toBe('rejected');
      expect(results[4].status).toBe('fulfilled');
      var successResults = results.filter(function (r) {
        return r.status === 'fulfilled';
      });
      expect(successResults.length).toBe(3);
    }));
    test('should prioritize operations in concurrent queue', (0, _asyncToGenerator2.default)(function* () {
      var priorityQueue = [{
        id: 1,
        priority: 2,
        operation: function operation() {
          return Promise.resolve('Operation 1 (Medium)');
        }
      }, {
        id: 2,
        priority: 1,
        operation: function operation() {
          return Promise.resolve('Operation 2 (High)');
        }
      }, {
        id: 3,
        priority: 3,
        operation: function operation() {
          return Promise.resolve('Operation 3 (Low)');
        }
      }, {
        id: 4,
        priority: 1,
        operation: function operation() {
          return Promise.resolve('Operation 4 (High)');
        }
      }, {
        id: 5,
        priority: 2,
        operation: function operation() {
          return Promise.resolve('Operation 5 (Medium)');
        }
      }];
      priorityQueue.sort(function (a, b) {
        return a.priority - b.priority;
      });
      var executionOrder = [];
      var _results = yield Promise.all(priorityQueue.map(function (item) {
        return item.operation().then(function (result) {
          executionOrder.push(item.id);
          return result;
        });
      }));
      expect(executionOrder[0]).toBe(2);
      expect(executionOrder[1]).toBe(4);
      expect(executionOrder[executionOrder.length - 1]).toBe(3);
    }));
  });
  describe('Data Structure Edge Cases', function () {
    test('should handle deeply nested objects', (0, _asyncToGenerator2.default)(function* () {
      var deeplyNested = {
        level1: {
          level2: {
            level3: {
              level4: {
                level5: {
                  value: 'Deep value'
                }
              }
            }
          }
        }
      };
      yield mockStorage.setItem('deeplyNested', JSON.stringify(deeplyNested));
      var retrieved = JSON.parse((yield mockStorage.getItem('deeplyNested')) || '{}');
      expect(retrieved.level1.level2.level3.level4.level5.value).toBe('Deep value');
    }));
    test('should handle circular references', (0, _asyncToGenerator2.default)(function* () {
      var circular = {
        name: 'Circular Object',
        value: 42
      };
      circular.self = circular;
      circular.child = {
        parent: circular,
        name: 'Child Object'
      };
      expect(function () {
        return JSON.stringify(circular);
      }).toThrow(/circular structure/i);
      var getCircularReplacer = function getCircularReplacer() {
        var references = new Map();
        var counter = 0;
        var detect = function detect(value) {
          if (typeof value !== 'object' || value === null) {
            return false;
          }
          if (references.has(value)) {
            return true;
          }
          references.set(value, ++counter);
          return false;
        };
        return function (key, value) {
          if (key === '' || !detect(value)) {
            return value;
          }
          return '[Circular Reference]';
        };
      };
      var serialized = JSON.stringify(circular, getCircularReplacer());
      expect(serialized).toContain('[Circular Reference]');
      expect(serialized).toContain('Circular Object');
      expect(serialized).toContain('Child Object');
      var deserialized = JSON.parse(serialized);
      expect(deserialized.name).toBe('Circular Object');
      expect(deserialized.value).toBe(42);
      expect(deserialized.child.name).toBe('Child Object');
      expect(deserialized.self).toBe('[Circular Reference]');
      expect(deserialized.child.parent).toBe('[Circular Reference]');
    }));
    test('should handle Unicode and special characters', (0, _asyncToGenerator2.default)(function* () {
      var specialCharsObject = {
        emoji: '😀🚀🌟🔥🎉',
        arabic: 'مرحبا بالعالم',
        chinese: '你好世界',
        russian: 'Привет, мир',
        japanese: 'こんにちは世界',
        korean: '안녕하세요 세계',
        thai: 'สวัสดีชาวโลก',
        specialChars: '©®™§¶†‡♠♣♥♦¿¡«»',
        escapeChars: '\n\t\r\b\f\\\'\\"'
      };
      yield mockStorage.setItem('specialChars', JSON.stringify(specialCharsObject));
      var retrieved = JSON.parse((yield mockStorage.getItem('specialChars')) || '{}');
      expect(retrieved.emoji).toBe(specialCharsObject.emoji);
      expect(retrieved.arabic).toBe(specialCharsObject.arabic);
      expect(retrieved.chinese).toBe(specialCharsObject.chinese);
      expect(retrieved.russian).toBe(specialCharsObject.russian);
      expect(retrieved.japanese).toBe(specialCharsObject.japanese);
      expect(retrieved.korean).toBe(specialCharsObject.korean);
      expect(retrieved.thai).toBe(specialCharsObject.thai);
      expect(retrieved.specialChars).toBe(specialCharsObject.specialChars);
      expect(retrieved.escapeChars).toBe(specialCharsObject.escapeChars);
    }));
    test('should handle malformed data', (0, _asyncToGenerator2.default)(function* () {
      var malformedJSON = '{"name": "Test", "value": 42, missing: quotes, unclosed: {';
      expect(function () {
        return JSON.parse(malformedJSON);
      }).toThrow(SyntaxError);
      var safeParse = function safeParse(json) {
        var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        try {
          return JSON.parse(json);
        } catch (error) {
          console.error('Error parsing JSON:', error);
          return fallback;
        }
      };
      var result = safeParse(malformedJSON, {
        error: true
      });
      expect(result).toEqual({
        error: true
      });
      expect(consoleErrorSpy).toHaveBeenCalled();
    }));
  });
  describe('Error Propagation', function () {
    test('should propagate errors through async chains', (0, _asyncToGenerator2.default)(function* () {
      var step1 = function () {
        var _ref29 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Error in step 1');
        });
        return function step1() {
          return _ref29.apply(this, arguments);
        };
      }();
      var step2 = function () {
        var _ref30 = (0, _asyncToGenerator2.default)(function* () {
          yield step1();
          return 'Step 2 completed';
        });
        return function step2() {
          return _ref30.apply(this, arguments);
        };
      }();
      var step3 = function () {
        var _ref31 = (0, _asyncToGenerator2.default)(function* () {
          var result = yield step2();
          return `Step 3 completed with ${result}`;
        });
        return function step3() {
          return _ref31.apply(this, arguments);
        };
      }();
      yield expect(step3()).rejects.toThrow('Error in step 1');
    }));
    test('should transform errors through async chains', (0, _asyncToGenerator2.default)(function* () {
      var step1 = function () {
        var _ref33 = (0, _asyncToGenerator2.default)(function* () {
          throw new Error('Database connection failed');
        });
        return function step1() {
          return _ref33.apply(this, arguments);
        };
      }();
      var step2 = function () {
        var _ref34 = (0, _asyncToGenerator2.default)(function* () {
          try {
            yield step1();
            return 'Step 2 completed';
          } catch (error) {
            throw new Error(`Data retrieval error: ${error.message}`);
          }
        });
        return function step2() {
          return _ref34.apply(this, arguments);
        };
      }();
      var step3 = function () {
        var _ref35 = (0, _asyncToGenerator2.default)(function* () {
          try {
            var result = yield step2();
            return `Step 3 completed with ${result}`;
          } catch (error) {
            throw new Error(`Processing error: ${error.message}`);
          }
        });
        return function step3() {
          return _ref35.apply(this, arguments);
        };
      }();
      yield expect(step3()).rejects.toThrow('Processing error: Data retrieval error: Database connection failed');
    }));
    test('should handle errors with context information', (0, _asyncToGenerator2.default)(function* () {
      var createAppError = function createAppError(message, code, context) {
        var error = new Error(message);
        if (code) error.code = code;
        if (context) error.context = context;
        return error;
      };
      var executeOperation = function () {
        var _ref37 = (0, _asyncToGenerator2.default)(function* (context) {
          try {
            throw new Error('Operation failed');
          } catch (error) {
            var appError = createAppError(error.message, 'OPERATION_ERROR', {
              context: context
            });
            throw appError;
          }
        });
        return function executeOperation(_x1) {
          return _ref37.apply(this, arguments);
        };
      }();
      try {
        yield executeOperation('test-context');
        fail('Should have thrown an error');
      } catch (error) {
        expect(error.message).toBe('Operation failed');
        expect(error.code).toBe('OPERATION_ERROR');
        expect(error.context).toEqual({
          context: 'test-context'
        });
      }
    }));
    test('should aggregate errors from multiple operations', (0, _asyncToGenerator2.default)(function* () {
      var operations = [function () {
        return Promise.resolve('Operation 1 success');
      }, function () {
        return Promise.reject(new Error('Operation 2 failed'));
      }, function () {
        return Promise.resolve('Operation 3 success');
      }, function () {
        return Promise.reject(new Error('Operation 4 failed'));
      }];
      var executeAll = function () {
        var _ref39 = (0, _asyncToGenerator2.default)(function* (ops) {
          var results = yield Promise.allSettled(ops.map(function (op) {
            return op();
          }));
          var successes = results.filter(function (r) {
            return r.status === 'fulfilled';
          }).map(function (r) {
            return r.value;
          });
          var failures = results.filter(function (r) {
            return r.status === 'rejected';
          }).map(function (r) {
            return r.reason;
          });
          if (failures.length > 0) {
            var error = new Error(`${failures.length} operations failed`);
            error.failures = failures;
            error.successes = successes;
            throw error;
          }
          return successes;
        });
        return function executeAll(_x10) {
          return _ref39.apply(this, arguments);
        };
      }();
      try {
        yield executeAll(operations);
        fail('Should have thrown an error');
      } catch (error) {
        expect(error.message).toBe('2 operations failed');
        expect(error.failures.length).toBe(2);
        expect(error.failures[0].message).toBe('Operation 2 failed');
        expect(error.failures[1].message).toBe('Operation 4 failed');
        expect(error.successes.length).toBe(2);
        expect(error.successes).toEqual(['Operation 1 success', 'Operation 3 success']);
      }
    }));
  });
  describe('Retry Mechanisms', function () {
    test('should implement retry with exponential backoff', (0, _asyncToGenerator2.default)(function* () {
      var attempts = 0;
      var maxAttempts = 3;
      var unreliableOperation = jest.fn().mockImplementation(function () {
        attempts++;
        if (attempts < 3) {
          return Promise.reject(new Error(`Attempt ${attempts} failed`));
        }
        return Promise.resolve(`Success on attempt ${attempts}`);
      });
      var withRetry = function () {
        var _ref41 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries) {
          var _lastError;
          var lastError = null;
          for (var attempt = 1; attempt <= maxRetries; attempt++) {
            try {
              return yield operation();
            } catch (error) {
              lastError = error;
              console.warn(`Attempt ${attempt} failed: ${lastError.message}`);
              if (attempt < maxRetries) {
                yield new Promise(function (resolve) {
                  return setTimeout(resolve, 1);
                });
              }
            }
          }
          throw new Error(`All ${maxRetries} attempts failed. Last error: ${(_lastError = lastError) == null ? void 0 : _lastError.message}`);
        });
        return function withRetry(_x11, _x12) {
          return _ref41.apply(this, arguments);
        };
      }();
      var result = yield withRetry(unreliableOperation, maxAttempts);
      expect(result).toBe('Success on attempt 3');
      expect(unreliableOperation).toHaveBeenCalledTimes(3);
      expect(consoleWarnSpy).toHaveBeenCalledTimes(2);
    }));
    test('should implement conditional retry based on error type', (0, _asyncToGenerator2.default)(function* () {
      var networkError = new Error('Network error');
      networkError.code = 'NETWORK_ERROR';
      var validationError = new Error('Validation error');
      validationError.code = 'VALIDATION_ERROR';
      var callCount = 0;
      var operation = jest.fn().mockImplementation(function () {
        callCount++;
        if (callCount === 1) {
          return Promise.reject(networkError);
        } else if (callCount === 2) {
          return Promise.reject(validationError);
        }
        return Promise.resolve('Success');
      });
      var withConditionalRetry = function () {
        var _ref43 = (0, _asyncToGenerator2.default)(function* (operation, maxRetries, shouldRetry) {
          var attempts = 0;
          var lastError = null;
          while (attempts < maxRetries) {
            try {
              return yield operation();
            } catch (error) {
              lastError = error;
              attempts++;
              if (attempts >= maxRetries || !shouldRetry(lastError)) {
                throw lastError;
              }
              yield new Promise(function (resolve) {
                return setTimeout(resolve, 1);
              });
            }
          }
          throw lastError;
        });
        return function withConditionalRetry(_x13, _x14, _x15) {
          return _ref43.apply(this, arguments);
        };
      }();
      var shouldRetry = function shouldRetry(error) {
        return error.code === 'NETWORK_ERROR';
      };
      yield expect(withConditionalRetry(operation, 3, shouldRetry)).rejects.toThrow('Validation error');
      expect(operation).toHaveBeenCalledTimes(2);
    }));
  });
  describe('Performance Optimization', function () {
    test('should efficiently process large arrays with chunking', (0, _asyncToGenerator2.default)(function* () {
      var largeArray = Array(20).fill(null).map(function (_, i) {
        return {
          id: i,
          value: `Item ${i}`
        };
      });
      var processInChunks = function () {
        var _ref45 = (0, _asyncToGenerator2.default)(function* (items, chunkSize, processor) {
          var results = [];
          for (var i = 0; i < items.length; i += chunkSize) {
            var chunk = items.slice(i, i + chunkSize);
            var chunkResults = yield processor(chunk);
            results.push.apply(results, (0, _toConsumableArray2.default)(chunkResults));
          }
          return results;
        });
        return function processInChunks(_x16, _x17, _x18) {
          return _ref45.apply(this, arguments);
        };
      }();
      var processItems = jest.fn().mockImplementation(function () {
        var _ref46 = (0, _asyncToGenerator2.default)(function* (items) {
          return items.map(function (item) {
            return Object.assign({}, item, {
              processed: true
            });
          });
        });
        return function (_x19) {
          return _ref46.apply(this, arguments);
        };
      }());
      var results = yield processInChunks(largeArray, 5, processItems);
      expect(results.length).toBe(20);
      expect(results[0].processed).toBe(true);
      expect(results[19].processed).toBe(true);
      expect(processItems).toHaveBeenCalledTimes(4);
    }));
    test('should implement memoization for expensive calculations', function () {
      var expensiveCalculation = jest.fn(function (a, b) {
        return a * b + Math.sqrt(a + b);
      });
      var memoize = function memoize(fn) {
        var cache = new Map();
        return function () {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          var key = JSON.stringify(args);
          if (cache.has(key)) {
            return cache.get(key);
          }
          var result = fn.apply(void 0, args);
          cache.set(key, result);
          return result;
        };
      };
      var memoizedCalculation = memoize(expensiveCalculation);
      var result1 = memoizedCalculation(10, 20);
      var result2 = memoizedCalculation(5, 10);
      var result3 = memoizedCalculation(10, 20);
      var result4 = memoizedCalculation(5, 10);
      expect(result1).toBe(result3);
      expect(result2).toBe(result4);
      expect(expensiveCalculation).toHaveBeenCalledTimes(2);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2NrU3RvcmFnZSIsIl9kYXRhIiwiTWFwIiwic2V0SXRlbSIsImplc3QiLCJmbiIsImtleSIsInZhbHVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJNYXRoIiwicmFuZG9tIiwiRXJyb3IiLCJzZXRUaW1lb3V0Iiwic2V0IiwiZ2V0SXRlbSIsImdldCIsInJlbW92ZUl0ZW0iLCJkZWxldGUiLCJjbGVhciIsImdldEFsbEtleXMiLCJBcnJheSIsImZyb20iLCJrZXlzIiwiTW9ja0V2ZW50RW1pdHRlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwibGlzdGVuZXJzIiwiX2NyZWF0ZUNsYXNzMiIsImFkZExpc3RlbmVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsIl90aGlzIiwiaGFzIiwicHVzaCIsInJlbW92ZSIsInJlbW92ZUxpc3RlbmVyIiwiZXZlbnRMaXN0ZW5lcnMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJfa2V5IiwiZm9yRWFjaCIsImFwcGx5IiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImRlc2NyaWJlIiwiY29uc29sZUVycm9yU3B5IiwiY29uc29sZVdhcm5TcHkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInNweU9uIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiYWZ0ZXJFYWNoIiwibW9ja1Jlc3RvcmUiLCJ1c2VSZWFsVGltZXJzIiwidGVzdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImluaXRpYWxEYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW1lIiwibm90aWZpY2F0aW9ucyIsInVwZGF0ZTEiLCJfcmVmMiIsImRhdGEiLCJwYXJzZSIsInVwZGF0ZTIiLCJfcmVmMyIsIl95aWVsZCRQcm9taXNlJGFsbCIsImFsbCIsIl95aWVsZCRQcm9taXNlJGFsbDIiLCJfc2xpY2VkVG9BcnJheTIiLCJyZXN1bHQxIiwicmVzdWx0MiIsImV4cGVjdCIsIm5vdCIsInRvRXF1YWwiLCJmaW5hbFZhbHVlIiwib2JqZWN0Q29udGFpbmluZyIsImFueSIsIlN0cmluZyIsIkJvb2xlYW4iLCJ0b0JlIiwiY3VycmVudFZlcnNpb24iLCJjdXJyZW50VmFsdWUiLCJnZXRXaXRoVmVyc2lvbiIsInZlcnNpb24iLCJzZXRXaXRoVmVyc2lvbiIsIl9yZWY2IiwiayIsInZhbHVlU3RyIiwiX3giLCJfeDIiLCJpbmNyZW1lbnRXaXRoUmV0cnkiLCJfcmVmNyIsIm1heFJldHJpZXMiLCJ1bmRlZmluZWQiLCJyZXRyaWVzIiwiZGF0YVN0ciIsIm5ld0RhdGEiLCJyIiwicmVzdWx0cyIsImFsbFNldHRsZWQiLCJldmVyeSIsInN0YXR1cyIsImV2ZW50RW1pdHRlciIsIm1vY2tDYWxsYmFjayIsInN1YnNjcmlwdGlvbiIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja0NsZWFyIiwidG9IYXZlQmVlbkNhbGxlZCIsInVzZUZha2VUaW1lcnMiLCJ0aW1lcklkIiwiY2xlYXJUaW1lb3V0IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsImxvbmdSdW5uaW5nT3BlcmF0aW9uIiwiY2hlY2tBYm9ydCIsImFib3J0ZWQiLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib3BlcmF0aW9uUHJvbWlzZSIsImFib3J0IiwicmVqZWN0cyIsInRvVGhyb3ciLCJwcm9jZXNzRGF0YSIsIl9yZWYwIiwiX3ZhbGlkYXRlZERhdGEiLCJfdHJhbnNmb3JtZWREYXRhIiwiX3NhdmVkRGF0YSIsIk9iamVjdCIsImFzc2lnbiIsInNhdmVkIiwiX3gzIiwiaW5uZXJPcGVyYXRpb24iLCJfcmVmMTAiLCJtaWRkbGVPcGVyYXRpb24iLCJfcmVmMTEiLCJtZXNzYWdlIiwib3V0ZXJPcGVyYXRpb24iLCJfcmVmMTIiLCJmZXRjaFdpdGhGYWxsYmFjayIsIl9yZWYxNCIsInVybCIsImZhbGxiYWNrIiwiX3g0IiwiX3g1IiwicmVzdWx0IiwidGltZW91dFByb21pc2UiLCJtcyIsIl8iLCJzbG93T3BlcmF0aW9uIiwicmFjZVByb21pc2UiLCJyYWNlIiwib3BlcmF0aW9uV2l0aFRpbWVvdXQiLCJfcmVmMTciLCJvcGVyYXRpb24iLCJ0aW1lb3V0TXMiLCJ0aW1lb3V0RXJyb3IiLCJ0aW1lb3V0SWQiLCJmaW5hbGx5IiwiX3g2IiwiX3g3IiwiZG9Ob3RGYWtlIiwib3BlcmF0aW9uMSIsIm9wZXJhdGlvbjIiLCJvcGVyYXRpb24zIiwicmVhc29uIiwiY29uY3VycmVuY3lMaW1pdCIsImFjdGl2ZU9wZXJhdGlvbnMiLCJtYXhDb25jdXJyZW50T3BlcmF0aW9ucyIsIl9yZWYyMCIsImlkIiwibWF4IiwiX3g4IiwicnVuV2l0aENvbmN1cnJlbmN5TGltaXQiLCJfcmVmMjEiLCJvcGVyYXRpb25zIiwibGltaXQiLCJleGVjdXRpbmciLCJfbG9vcCIsIl9vcGVyYXRpb24iLCJwIiwidGhlbiIsIl94OSIsIl94MCIsImZpbGwiLCJtYXAiLCJpIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsIm9wIiwic3VjY2Vzc1Jlc3VsdHMiLCJmaWx0ZXIiLCJwcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJzb3J0IiwiYSIsImIiLCJleGVjdXRpb25PcmRlciIsIl9yZXN1bHRzIiwiaXRlbSIsImRlZXBseU5lc3RlZCIsImxldmVsMSIsImxldmVsMiIsImxldmVsMyIsImxldmVsNCIsImxldmVsNSIsInJldHJpZXZlZCIsImNpcmN1bGFyIiwibmFtZSIsInNlbGYiLCJjaGlsZCIsInBhcmVudCIsImdldENpcmN1bGFyUmVwbGFjZXIiLCJyZWZlcmVuY2VzIiwiY291bnRlciIsImRldGVjdCIsInNlcmlhbGl6ZWQiLCJ0b0NvbnRhaW4iLCJkZXNlcmlhbGl6ZWQiLCJzcGVjaWFsQ2hhcnNPYmplY3QiLCJlbW9qaSIsImFyYWJpYyIsImNoaW5lc2UiLCJydXNzaWFuIiwiamFwYW5lc2UiLCJrb3JlYW4iLCJ0aGFpIiwic3BlY2lhbENoYXJzIiwiZXNjYXBlQ2hhcnMiLCJtYWxmb3JtZWRKU09OIiwiU3ludGF4RXJyb3IiLCJzYWZlUGFyc2UiLCJqc29uIiwic3RlcDEiLCJfcmVmMjkiLCJzdGVwMiIsIl9yZWYzMCIsInN0ZXAzIiwiX3JlZjMxIiwiX3JlZjMzIiwiX3JlZjM0IiwiX3JlZjM1IiwiY3JlYXRlQXBwRXJyb3IiLCJjb2RlIiwiY29udGV4dCIsImV4ZWN1dGVPcGVyYXRpb24iLCJfcmVmMzciLCJhcHBFcnJvciIsIl94MSIsImZhaWwiLCJleGVjdXRlQWxsIiwiX3JlZjM5Iiwib3BzIiwic3VjY2Vzc2VzIiwiZmFpbHVyZXMiLCJfeDEwIiwiYXR0ZW1wdHMiLCJtYXhBdHRlbXB0cyIsInVucmVsaWFibGVPcGVyYXRpb24iLCJ3aXRoUmV0cnkiLCJfcmVmNDEiLCJfbGFzdEVycm9yIiwibGFzdEVycm9yIiwiYXR0ZW1wdCIsIndhcm4iLCJfeDExIiwiX3gxMiIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm5ldHdvcmtFcnJvciIsInZhbGlkYXRpb25FcnJvciIsImNhbGxDb3VudCIsIndpdGhDb25kaXRpb25hbFJldHJ5IiwiX3JlZjQzIiwic2hvdWxkUmV0cnkiLCJfeDEzIiwiX3gxNCIsIl94MTUiLCJsYXJnZUFycmF5IiwicHJvY2Vzc0luQ2h1bmtzIiwiX3JlZjQ1IiwiaXRlbXMiLCJjaHVua1NpemUiLCJwcm9jZXNzb3IiLCJjaHVuayIsInNsaWNlIiwiY2h1bmtSZXN1bHRzIiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsIl94MTYiLCJfeDE3IiwiX3gxOCIsInByb2Nlc3NJdGVtcyIsIl9yZWY0NiIsInByb2Nlc3NlZCIsIl94MTkiLCJleHBlbnNpdmVDYWxjdWxhdGlvbiIsInNxcnQiLCJtZW1vaXplIiwiY2FjaGUiLCJfbGVuMiIsIl9rZXkyIiwibWVtb2l6ZWRDYWxjdWxhdGlvbiIsInJlc3VsdDMiLCJyZXN1bHQ0Il0sInNvdXJjZXMiOlsiYXN5bmNPcGVyYXRpb25FZGdlQ2FzZXMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVkZ2UgQ2FzZXMgYW5kIEFzeW5jIE9wZXJhdGlvbnMgVGVzdCBTdWl0ZVxuICogXG4gKiBUaGlzIHRlc3Qgc3VpdGUgZm9jdXNlcyBvbiB0ZXN0aW5nIGVkZ2UgY2FzZXMgcmVsYXRlZCB0byBhc3luY2hyb25vdXMgb3BlcmF0aW9uc1xuICogdXNpbmcgcHVyZSBKYXZhU2NyaXB0L1R5cGVTY3JpcHQgcGF0dGVybnMsIGluY2x1ZGluZyByYWNlIGNvbmRpdGlvbnMsIG1lbW9yeSBtYW5hZ2VtZW50LFxuICogcHJvbWlzZSBjaGFpbnMsIHRpbWVvdXRzLCBjb25jdXJyZW50IG9wZXJhdGlvbnMsIGFuZCBlcnJvciBoYW5kbGluZyBwYXR0ZXJucy5cbiAqL1xuXG4vLyBTaW1wbGUgbW9jayBmb3IgQXN5bmNTdG9yYWdlLWxpa2UgZnVuY3Rpb25hbGl0eVxuY29uc3QgbW9ja1N0b3JhZ2UgPSB7XG4gIF9kYXRhOiBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyBTaW11bGF0ZSBvY2Nhc2lvbmFsIGZhaWx1cmVzIGJ1dCB3aXRoIGxvdyBwcm9iYWJpbGl0eSB0byBrZWVwIHRlc3RzIHN0YWJsZVxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjA1KSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1N0b3JhZ2UgZXJyb3InKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG1vY2tTdG9yYWdlLl9kYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgMSk7IC8vIFZlcnkgc2hvcnQgZGVsYXkgdG8gYXZvaWQgdGVzdCB0aW1lb3V0c1xuICAgIH0pO1xuICB9KSxcbiAgZ2V0SXRlbTogamVzdC5mbigoa2V5OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nIHwgbnVsbD4oKHJlc29sdmUpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZXNvbHZlKG1vY2tTdG9yYWdlLl9kYXRhLmdldChrZXkpIHx8IG51bGwpO1xuICAgICAgfSwgMSk7IC8vIFZlcnkgc2hvcnQgZGVsYXkgdG8gYXZvaWQgdGVzdCB0aW1lb3V0c1xuICAgIH0pO1xuICB9KSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigoa2V5OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtb2NrU3RvcmFnZS5fZGF0YS5kZWxldGUoa2V5KTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgMSk7XG4gICAgfSk7XG4gIH0pLFxuICBjbGVhcjogamVzdC5mbigoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICBtb2NrU3RvcmFnZS5fZGF0YS5jbGVhcigpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9KSxcbiAgZ2V0QWxsS2V5czogamVzdC5mbigoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZ1tdPigocmVzb2x2ZSkgPT4ge1xuICAgICAgcmVzb2x2ZShBcnJheS5mcm9tKG1vY2tTdG9yYWdlLl9kYXRhLmtleXMoKSkpO1xuICAgIH0pO1xuICB9KVxufTtcblxuLy8gTW9jayBmb3IgRXZlbnRFbWl0dGVyXG5jbGFzcyBNb2NrRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEFycmF5PCguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpO1xuICBcbiAgYWRkTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCkge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBbXSk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6ICgpID0+IHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKVxuICAgIH07XG4gIH1cbiAgXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhO1xuICAgIGNvbnN0IGluZGV4ID0gZXZlbnRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgZXZlbnRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgXG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudD86IHN0cmluZykge1xuICAgIGlmIChldmVudCkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKTtcbiAgICB9XG4gIH1cbiAgXG4gIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhO1xuICAgIGV2ZW50TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGV2ZW50IGxpc3RlbmVyOicsIGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmRlc2NyaWJlKCdFZGdlIENhc2VzIGFuZCBBc3luYyBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAvLyBTcHkgb24gY29uc29sZSBtZXRob2RzIHRvIHByZXZlbnQgbm9pc2UgaW4gdGVzdCBvdXRwdXRcbiAgbGV0IGNvbnNvbGVFcnJvclNweTogamVzdC5TcHlJbnN0YW5jZTtcbiAgbGV0IGNvbnNvbGVXYXJuU3B5OiBqZXN0LlNweUluc3RhbmNlO1xuICBcbiAgLy8gU2V0dXAgYmVmb3JlIGVhY2ggdGVzdFxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBTcHkgb24gY29uc29sZSBtZXRob2RzXG4gICAgY29uc29sZUVycm9yU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuICAgIGNvbnNvbGVXYXJuU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnd2FybicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG4gICAgXG4gICAgLy8gQ2xlYXIgbW9jayBzdG9yYWdlXG4gICAgbW9ja1N0b3JhZ2UuX2RhdGEuY2xlYXIoKTtcbiAgfSk7XG4gIFxuICAvLyBDbGVhbnVwIGFmdGVyIGVhY2ggdGVzdFxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGNvbnNvbGVFcnJvclNweS5tb2NrUmVzdG9yZSgpO1xuICAgIGNvbnNvbGVXYXJuU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSYWNlIENvbmRpdGlvbnMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBjb25jdXJyZW50IHN0b3JhZ2Ugb3BlcmF0aW9ucyBvbiB0aGUgc2FtZSBrZXknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBrZXkgPSAndXNlcl9wcmVmZXJlbmNlcyc7XG4gICAgICBjb25zdCBpbml0aWFsRGF0YSA9IEpTT04uc3RyaW5naWZ5KHsgdGhlbWU6ICdsaWdodCcsIG5vdGlmaWNhdGlvbnM6IHRydWUgfSk7XG4gICAgICBcbiAgICAgIC8vIFNldCBpbml0aWFsIGRhdGFcbiAgICAgIGF3YWl0IG1vY2tTdG9yYWdlLnNldEl0ZW0oa2V5LCBpbml0aWFsRGF0YSk7XG4gICAgICBcbiAgICAgIC8vIEFjdCAtIFNpbXVsYXRlIHR3byBjb25jdXJyZW50IHVwZGF0ZXNcbiAgICAgIGNvbnN0IHVwZGF0ZTEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGF3YWl0IG1vY2tTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAne30nKTtcbiAgICAgICAgZGF0YS50aGVtZSA9ICdkYXJrJztcbiAgICAgICAgYXdhaXQgbW9ja1N0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCB1cGRhdGUyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShhd2FpdCBtb2NrU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgJ3t9Jyk7XG4gICAgICAgIGRhdGEubm90aWZpY2F0aW9ucyA9IGZhbHNlO1xuICAgICAgICBhd2FpdCBtb2NrU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFJ1biBib3RoIHVwZGF0ZXMgY29uY3VycmVudGx5XG4gICAgICBjb25zdCBbcmVzdWx0MSwgcmVzdWx0Ml0gPSBhd2FpdCBQcm9taXNlLmFsbChbdXBkYXRlMSgpLCB1cGRhdGUyKCldKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICAvLyBPbmUgdXBkYXRlIHdpbGwgb3ZlcndyaXRlIHRoZSBvdGhlciBkdWUgdG8gcmFjZSBjb25kaXRpb25cbiAgICAgIGV4cGVjdChyZXN1bHQxKS5ub3QudG9FcXVhbChyZXN1bHQyKTtcbiAgICAgIFxuICAgICAgLy8gVGhlIGZpbmFsIHN0b3JlZCB2YWx1ZSB3aWxsIGJlIGZyb20gd2hpY2hldmVyIG9wZXJhdGlvbiBjb21wbGV0ZWQgbGFzdFxuICAgICAgY29uc3QgZmluYWxWYWx1ZSA9IEpTT04ucGFyc2UoYXdhaXQgbW9ja1N0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICd7fScpO1xuICAgICAgZXhwZWN0KGZpbmFsVmFsdWUpLnRvRXF1YWwoZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICB0aGVtZTogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICBub3RpZmljYXRpb25zOiBleHBlY3QuYW55KEJvb2xlYW4pLFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICAvLyBPbmx5IG9uZSBwcm9wZXJ0eSB3YXMgdXBkYXRlZCBpbiBlYWNoIHJlc3VsdFxuICAgICAgZXhwZWN0KHJlc3VsdDEudGhlbWUpLnRvQmUoJ2RhcmsnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQyLm5vdGlmaWNhdGlvbnMpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBpbXBsZW1lbnQgb3B0aW1pc3RpYyBsb2NraW5nIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qga2V5ID0gJ2NvdW50ZXInO1xuICAgICAgbGV0IGN1cnJlbnRWZXJzaW9uID0gMTtcbiAgICAgIGxldCBjdXJyZW50VmFsdWUgPSAwO1xuICAgICAgXG4gICAgICAvLyBNb2NrIHN0b3JhZ2Ugd2l0aCB2ZXJzaW9uIGNoZWNraW5nXG4gICAgICBjb25zdCBnZXRXaXRoVmVyc2lvbiA9IGplc3QuZm4oYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyB2YWx1ZTogY3VycmVudFZhbHVlLCB2ZXJzaW9uOiBjdXJyZW50VmVyc2lvbiB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBzZXRXaXRoVmVyc2lvbiA9IGplc3QuZm4oYXN5bmMgKGs6IHN0cmluZywgdmFsdWVTdHI6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZSh2YWx1ZVN0cik7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGF0ZSBvcHRpbWlzdGljIGxvY2tpbmcgLSBvbmx5IHVwZGF0ZSBpZiB2ZXJzaW9ucyBtYXRjaFxuICAgICAgICBpZiAoZGF0YS52ZXJzaW9uID09PSBjdXJyZW50VmVyc2lvbikge1xuICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgICAgY3VycmVudFZlcnNpb24rKztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWZXJzaW9uIG1pc21hdGNoIC0gZGF0YSB3YXMgbW9kaWZpZWQgYnkgYW5vdGhlciBwcm9jZXNzJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBGdW5jdGlvbiB0byBpbmNyZW1lbnQgd2l0aCByZXRyeSBsb2dpY1xuICAgICAgY29uc3QgaW5jcmVtZW50V2l0aFJldHJ5ID0gYXN5bmMgKG1heFJldHJpZXMgPSAzKTogUHJvbWlzZTxudW1iZXI+ID0+IHtcbiAgICAgICAgbGV0IHJldHJpZXMgPSAwO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHJldHJpZXMgPCBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IGRhdGFcbiAgICAgICAgICAgIGNvbnN0IGRhdGFTdHIgPSBhd2FpdCBnZXRXaXRoVmVyc2lvbihrZXkpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZGF0YVN0ciB8fCAne1widmFsdWVcIjowLFwidmVyc2lvblwiOjF9Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB3aXRoIGN1cnJlbnQgdmVyc2lvblxuICAgICAgICAgICAgY29uc3QgbmV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgdmFsdWU6IGRhdGEudmFsdWUgKyAxLFxuICAgICAgICAgICAgICB2ZXJzaW9uOiBkYXRhLnZlcnNpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRyeSB0byBzYXZlXG4gICAgICAgICAgICBhd2FpdCBzZXRXaXRoVmVyc2lvbihrZXksIEpTT04uc3RyaW5naWZ5KG5ld0RhdGEpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdEYXRhLnZhbHVlO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXRyaWVzKys7XG4gICAgICAgICAgICBpZiAocmV0cmllcyA+PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2FpdCBiZWZvcmUgcmV0cnlpbmcgKHZlcnkgc2hvcnQgZGVsYXkgZm9yIHRlc3RzKVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIGFmdGVyIG1heCByZXRyaWVzJyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBSdW4gbXVsdGlwbGUgaW5jcmVtZW50cyBpbiBwYXJhbGxlbFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbXG4gICAgICAgIGluY3JlbWVudFdpdGhSZXRyeSgpLFxuICAgICAgICBpbmNyZW1lbnRXaXRoUmV0cnkoKSxcbiAgICAgICAgaW5jcmVtZW50V2l0aFJldHJ5KClcbiAgICAgIF0pO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIC8vIEFsbCBvcGVyYXRpb25zIHNob3VsZCBldmVudHVhbGx5IHN1Y2NlZWQgd2l0aCByZXRyaWVzXG4gICAgICBleHBlY3QocmVzdWx0cy5ldmVyeShyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJykpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEZpbmFsIHZhbHVlIHNob3VsZCBiZSBpbmNyZW1lbnRlZCBieSB0aGUgbnVtYmVyIG9mIG9wZXJhdGlvbnNcbiAgICAgIGV4cGVjdChjdXJyZW50VmFsdWUpLnRvQmUoMyk7XG4gICAgICBcbiAgICAgIC8vIFZlcnNpb24gc2hvdWxkIGJlIGluY3JlbWVudGVkIGZvciBlYWNoIHN1Y2Nlc3NmdWwgdXBkYXRlXG4gICAgICBleHBlY3QoY3VycmVudFZlcnNpb24pLnRvQmUoNCk7IC8vIFN0YXJ0ZWQgYXQgMSwgdGhlbiAzIHN1Y2Nlc3NmdWwgdXBkYXRlc1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHByb3Blcmx5IGNsZWFudXAgZXZlbnQgbGlzdGVuZXJzIHdoZW4gY29tcG9uZW50IHVubW91bnRzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZXZlbnRFbWl0dGVyID0gbmV3IE1vY2tFdmVudEVtaXR0ZXIoKTtcbiAgICAgIGNvbnN0IG1vY2tDYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIFxuICAgICAgLy8gQWN0IC0gU2ltdWxhdGUgY29tcG9uZW50IGxpZmVjeWNsZVxuICAgICAgLy8gU2V0dXAgcGhhc2UgKGNvbXBvbmVudERpZE1vdW50KVxuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKCdkYXRhQ2hhbmdlJywgbW9ja0NhbGxiYWNrKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGxpc3RlbmVyIGlzIHdvcmtpbmdcbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0KCdkYXRhQ2hhbmdlJywgeyB2YWx1ZTogJ3Rlc3QnIH0pO1xuICAgICAgZXhwZWN0KG1vY2tDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyB2YWx1ZTogJ3Rlc3QnIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGVhbnVwIHBoYXNlIChjb21wb25lbnRXaWxsVW5tb3VudClcbiAgICAgIHN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGxpc3RlbmVyIGlzIHJlbW92ZWRcbiAgICAgIG1vY2tDYWxsYmFjay5tb2NrQ2xlYXIoKTtcbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0KCdkYXRhQ2hhbmdlJywgeyB2YWx1ZTogJ3Rlc3QyJyB9KTtcbiAgICAgIGV4cGVjdChtb2NrQ2FsbGJhY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGNhbmNlbCB0aW1lcnMgdG8gcHJldmVudCBtZW1vcnkgbGVha3MnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICAgIGNvbnN0IG1vY2tDYWxsYmFjayA9IGplc3QuZm4oKTtcbiAgICAgIFxuICAgICAgLy8gQWN0IC0gU2ltdWxhdGUgY29tcG9uZW50IHdpdGggdGltZXJcbiAgICAgIGNvbnN0IHRpbWVySWQgPSBzZXRUaW1lb3V0KG1vY2tDYWxsYmFjaywgNTApO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBjb21wb25lbnQgdW5tb3VudCAtIGNsZWFudXAgdGltZXJzXG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICBcbiAgICAgIC8vIEZhc3QtZm9yd2FyZCB0aW1lXG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QobW9ja0NhbGxiYWNrKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgYWJhbmRvbmVkIHByb21pc2VzIHRoYXQgY291bGQgY2F1c2UgbWVtb3J5IGxlYWtzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB7IHNpZ25hbCB9ID0gYWJvcnRDb250cm9sbGVyO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBwcm9taXNlIHRoYXQgY2hlY2tzIGZvciBhYm9ydCBzaWduYWxcbiAgICAgIGNvbnN0IGxvbmdSdW5uaW5nT3BlcmF0aW9uID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja0Fib3J0ID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignT3BlcmF0aW9uIGFib3J0ZWQnKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gSW1tZWRpYXRlIGNoZWNrXG4gICAgICAgIGlmIChjaGVja0Fib3J0KCkpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIC8vIFNldCB1cCBwZXJpb2RpYyBjaGVja3Mgd2l0aCB2ZXJ5IHNob3J0IGludGVydmFsXG4gICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGNoZWNrQWJvcnQoKSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzb2x2ZSBhZnRlciBhIHNob3J0IHRpbWUgaWYgbm90IGFib3J0ZWRcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgICAgICByZXNvbHZlKCdPcGVyYXRpb24gY29tcGxldGVkJyk7XG4gICAgICAgIH0sIDEwKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBY3QgLSBTdGFydCBhIGxvbmcgcnVubmluZyBvcGVyYXRpb25cbiAgICAgIGNvbnN0IG9wZXJhdGlvblByb21pc2UgPSBsb25nUnVubmluZ09wZXJhdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBjb21wb25lbnQgdW5tb3VudCAtIGFib3J0IHRoZSBvcGVyYXRpb25cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgXG4gICAgICAvLyBGYXN0LWZvcndhcmQgdGltZSB0byB0cmlnZ2VyIGludGVydmFsIGNoZWNrc1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDUpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChvcGVyYXRpb25Qcm9taXNlKS5yZWplY3RzLnRvVGhyb3coJ09wZXJhdGlvbiBhYm9ydGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9taXNlIENoYWluIEZhaWx1cmVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzIGluIHRoZSBtaWRkbGUgb2YgcHJvbWlzZSBjaGFpbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBwcm9jZXNzRGF0YSA9IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgLy8gU3RlcCAxOiBWYWxpZGF0ZVxuICAgICAgICBjb25zdCBfdmFsaWRhdGVkRGF0YSA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0ZXAgMjogVHJhbnNmb3JtICh3aWxsIGZhaWwpXG4gICAgICAgIGNvbnN0IF90cmFuc2Zvcm1lZERhdGEgPSBhd2FpdCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1RyYW5zZm9ybSBmYWlsZWQnKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGVwIDM6IFNhdmUgKHNob3VsZCBuZXZlciBleGVjdXRlKVxuICAgICAgICBjb25zdCBfc2F2ZWREYXRhID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHsgLi4uX3RyYW5zZm9ybWVkRGF0YSwgc2F2ZWQ6IHRydWUgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gX3NhdmVkRGF0YTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KHByb2Nlc3NEYXRhKHsgdGVzdDogdHJ1ZSB9KSkucmVqZWN0cy50b1Rocm93KCdUcmFuc2Zvcm0gZmFpbGVkJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlcnJvcnMgaW4gbmVzdGVkIHByb21pc2UgY2hhaW5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW5uZXJPcGVyYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5uZXIgb3BlcmF0aW9uIGZhaWxlZCcpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgbWlkZGxlT3BlcmF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBpbm5lck9wZXJhdGlvbigpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlkZGxlIG9wZXJhdGlvbiBjYXVnaHQ6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBvdXRlck9wZXJhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgbWlkZGxlT3BlcmF0aW9uKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPdXRlciBvcGVyYXRpb24gY2F1Z2h0OiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3Qob3V0ZXJPcGVyYXRpb24oKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnT3V0ZXIgb3BlcmF0aW9uIGNhdWdodDogTWlkZGxlIG9wZXJhdGlvbiBjYXVnaHQ6IElubmVyIG9wZXJhdGlvbiBmYWlsZWQnXG4gICAgICApO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCByZWNvdmVyIGZyb20gcHJvbWlzZSBjaGFpbiBmYWlsdXJlcyB3aXRoIGZhbGxiYWNrIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGZldGNoV2l0aEZhbGxiYWNrID0gYXN5bmMgKHVybDogc3RyaW5nLCBmYWxsYmFjazogYW55KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YTonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoV2l0aEZhbGxiYWNrKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJywgeyBmYWxsYmFjazogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZmFsbGJhY2s6IHRydWUgfSk7XG4gICAgICBleHBlY3QoY29uc29sZUVycm9yU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUaW1lb3V0IEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgcHJvbWlzZSB0aW1lb3V0IHdpdGggcmFjZSBwYXR0ZXJuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gKG1zOiBudW1iZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoYE9wZXJhdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgJHttc31tc2ApKSwgbXMpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHNsb3dPcGVyYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoJ1N1Y2Nlc3MnKSwgMjApO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmFjZVByb21pc2UgPSBQcm9taXNlLnJhY2UoW3Nsb3dPcGVyYXRpb24oKSwgdGltZW91dFByb21pc2UoMTApXSk7XG4gICAgICBcbiAgICAgIC8vIEZhc3QtZm9yd2FyZCB0aW1lIHRvIHRyaWdnZXIgdGltZW91dFxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3QocmFjZVByb21pc2UpLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAxMG1zJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCBjdXN0b20gdGltZW91dCBmb3IgYXN5bmMgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICAgICAgXG4gICAgICBjb25zdCBvcGVyYXRpb25XaXRoVGltZW91dCA9IGFzeW5jIDxUPihcbiAgICAgICAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgICAgICB0aW1lb3V0TXM6IG51bWJlclxuICAgICAgKTogUHJvbWlzZTxUPiA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBFcnJvcihgT3BlcmF0aW9uIHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRNc31tc2ApO1xuICAgICAgICBcbiAgICAgICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHJlamVjdCh0aW1lb3V0RXJyb3IpLCB0aW1lb3V0TXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgIG9wZXJhdGlvbigpLFxuICAgICAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgICAgIF0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEEgc2xvdyBvcGVyYXRpb24gdGhhdCB3b3VsZCB0YWtlIHRvbyBsb25nXG4gICAgICBjb25zdCBzbG93T3BlcmF0aW9uID0gKCkgPT4gbmV3IFByb21pc2U8c3RyaW5nPihyZXNvbHZlID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCdTdWNjZXNzJyksIDIwKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IG9wZXJhdGlvblByb21pc2UgPSBvcGVyYXRpb25XaXRoVGltZW91dCgoKSA9PiBzbG93T3BlcmF0aW9uKCksIDEwKTtcbiAgICAgIFxuICAgICAgLy8gRmFzdC1mb3J3YXJkIHRpbWUgdG8gdHJpZ2dlciB0aW1lb3V0XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTApO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChvcGVyYXRpb25Qcm9taXNlKS5yZWplY3RzLnRvVGhyb3coJ09wZXJhdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgMTBtcycpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdGltZW91dHMgaW4gcGFyYWxsZWwgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2UgLSBTaW1wbGlmaWVkIHZlcnNpb24gdG8gYXZvaWQgZmFrZSB0aW1lciBjb21wbGljYXRpb25zXG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoeyBkb05vdEZha2U6IFsnbmV4dFRpY2snLCAnc2V0SW1tZWRpYXRlJ10gfSk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSByZXNvbHZlZCBwcm9taXNlcyBmb3Igc3VjY2VzcyBjYXNlcyBhbmQgcmVqZWN0ZWQgZm9yIHRpbWVvdXQgY2FzZXNcbiAgICAgIGNvbnN0IG9wZXJhdGlvbjEgPSBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAxIGNvbXBsZXRlZCcpO1xuICAgICAgY29uc3Qgb3BlcmF0aW9uMiA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignT3BlcmF0aW9uIDIgdGltZWQgb3V0IGFmdGVyIDEwbXMnKSk7XG4gICAgICBjb25zdCBvcGVyYXRpb24zID0gUHJvbWlzZS5yZXNvbHZlKCdPcGVyYXRpb24gMyBjb21wbGV0ZWQnKTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtvcGVyYXRpb24xLCBvcGVyYXRpb24yLCBvcGVyYXRpb24zXSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydCAtIFZlcmlmeSB0aGUgZXhwZWN0ZWQgcGF0dGVybiBvZiBzdWNjZXNzZXMgYW5kIGZhaWx1cmVzXG4gICAgICBleHBlY3QocmVzdWx0c1swXS5zdGF0dXMpLnRvQmUoJ2Z1bGZpbGxlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMV0uc3RhdHVzKS50b0JlKCdyZWplY3RlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMl0uc3RhdHVzKS50b0JlKCdmdWxmaWxsZWQnKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdHNbMV0uc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHRzWzFdLnJlYXNvbi5tZXNzYWdlKS50b0JlKCdPcGVyYXRpb24gMiB0aW1lZCBvdXQgYWZ0ZXIgMTBtcycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uY3VycmVudCBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBsaW1pdCBjb25jdXJyZW5jeSBvZiBwYXJhbGxlbCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZSAtIHNpbXBsaWZpZWQgdmVyc2lvbiB3aXRoIHNtYWxsZXIgYXJyYXlcbiAgICAgIGNvbnN0IGNvbmN1cnJlbmN5TGltaXQgPSAyO1xuICAgICAgbGV0IGFjdGl2ZU9wZXJhdGlvbnMgPSAwO1xuICAgICAgbGV0IG1heENvbmN1cnJlbnRPcGVyYXRpb25zID0gMDtcbiAgICAgIFxuICAgICAgY29uc3Qgb3BlcmF0aW9uID0gYXN5bmMgKGlkOiBudW1iZXIpID0+IHtcbiAgICAgICAgYWN0aXZlT3BlcmF0aW9ucysrO1xuICAgICAgICBtYXhDb25jdXJyZW50T3BlcmF0aW9ucyA9IE1hdGgubWF4KG1heENvbmN1cnJlbnRPcGVyYXRpb25zLCBhY3RpdmVPcGVyYXRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIHdvcmsgd2l0aCBtaW5pbWFsIGRlbGF5XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxKSk7XG4gICAgICAgIFxuICAgICAgICBhY3RpdmVPcGVyYXRpb25zLS07XG4gICAgICAgIHJldHVybiBgT3BlcmF0aW9uICR7aWR9IGNvbXBsZXRlZGA7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBIZWxwZXIgdG8gcnVuIG9wZXJhdGlvbnMgd2l0aCBsaW1pdGVkIGNvbmN1cnJlbmN5XG4gICAgICBjb25zdCBydW5XaXRoQ29uY3VycmVuY3lMaW1pdCA9IGFzeW5jIChvcGVyYXRpb25zOiAoKCkgPT4gUHJvbWlzZTxhbnk+KVtdLCBsaW1pdDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IGFueVtdID0gW107XG4gICAgICAgIGNvbnN0IGV4ZWN1dGluZzogUHJvbWlzZTxhbnk+W10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIG9wZXJhdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBvcGVyYXRpb24oKSk7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChsaW1pdCA8PSBvcGVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZTogUHJvbWlzZTxhbnk+ID0gcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZXhlY3V0aW5nLnNwbGljZShleGVjdXRpbmcuaW5kZXhPZihlKSwgMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV4ZWN1dGluZy5wdXNoKGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZXhlY3V0aW5nLmxlbmd0aCA+PSBsaW1pdCkge1xuICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoZXhlY3V0aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAtIHVzZSBhIHNtYWxsZXIgYXJyYXkgc2l6ZSAoNSBpbnN0ZWFkIG9mIDEwKVxuICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IEFycmF5KDUpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiAoKSA9PiBvcGVyYXRpb24oaSArIDEpKTtcbiAgICAgIGF3YWl0IHJ1bldpdGhDb25jdXJyZW5jeUxpbWl0KG9wZXJhdGlvbnMsIGNvbmN1cnJlbmN5TGltaXQpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChtYXhDb25jdXJyZW50T3BlcmF0aW9ucykudG9CZUxlc3NUaGFuT3JFcXVhbChjb25jdXJyZW5jeUxpbWl0KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVycm9ycyBpbiBjb25jdXJyZW50IG9wZXJhdGlvbnMgd2l0aG91dCBzdG9wcGluZyBvdGhlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAxIHN1Y2Nlc3MnKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gMiBmYWlsZWQnKSksXG4gICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgc3VjY2VzcycpLFxuICAgICAgICAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ09wZXJhdGlvbiA0IGZhaWxlZCcpKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCdPcGVyYXRpb24gNSBzdWNjZXNzJyksXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQob3BlcmF0aW9ucy5tYXAob3AgPT4gb3AoKSkpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdLnN0YXR1cykudG9CZSgnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1sxXS5zdGF0dXMpLnRvQmUoJ3JlamVjdGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0c1syXS5zdGF0dXMpLnRvQmUoJ2Z1bGZpbGxlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbM10uc3RhdHVzKS50b0JlKCdyZWplY3RlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNbNF0uc3RhdHVzKS50b0JlKCdmdWxmaWxsZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3VjY2Vzc1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3Qoc3VjY2Vzc1Jlc3VsdHMubGVuZ3RoKS50b0JlKDMpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBwcmlvcml0aXplIG9wZXJhdGlvbnMgaW4gY29uY3VycmVudCBxdWV1ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGludGVyZmFjZSBRdWV1ZUl0ZW0ge1xuICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8YW55PjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcHJpb3JpdHlRdWV1ZTogUXVldWVJdGVtW10gPSBbXG4gICAgICAgIHsgaWQ6IDEsIHByaW9yaXR5OiAyLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDEgKE1lZGl1bSknKSB9LFxuICAgICAgICB7IGlkOiAyLCBwcmlvcml0eTogMSwgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAyIChIaWdoKScpIH0sXG4gICAgICAgIHsgaWQ6IDMsIHByaW9yaXR5OiAzLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDMgKExvdyknKSB9LFxuICAgICAgICB7IGlkOiA0LCBwcmlvcml0eTogMSwgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiA0IChIaWdoKScpIH0sXG4gICAgICAgIHsgaWQ6IDUsIHByaW9yaXR5OiAyLCBvcGVyYXRpb246ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT3BlcmF0aW9uIDUgKE1lZGl1bSknKSB9LFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gU29ydCBieSBwcmlvcml0eSAobG93ZXIgbnVtYmVyID0gaGlnaGVyIHByaW9yaXR5KVxuICAgICAgcHJpb3JpdHlRdWV1ZS5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gICAgICBcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgZXhlY3V0aW9uT3JkZXI6IG51bWJlcltdID0gW107XG4gICAgICBjb25zdCBfcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwcmlvcml0eVF1ZXVlLm1hcChpdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5vcGVyYXRpb24oKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBleGVjdXRpb25PcmRlci5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgLy8gSGlnaCBwcmlvcml0eSBvcGVyYXRpb25zICgyLCA0KSBzaG91bGQgYmUgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleGVjdXRpb24gb3JkZXJcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlclswXSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlclsxXSkudG9CZSg0KTtcbiAgICAgIFxuICAgICAgLy8gTG93IHByaW9yaXR5IG9wZXJhdGlvbiAoMykgc2hvdWxkIGJlIGF0IHRoZSBlbmRcbiAgICAgIGV4cGVjdChleGVjdXRpb25PcmRlcltleGVjdXRpb25PcmRlci5sZW5ndGggLSAxXSkudG9CZSgzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGEgU3RydWN0dXJlIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBkZWVwbHkgbmVzdGVkIG9iamVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBkZWVwbHlOZXN0ZWQgPSB7XG4gICAgICAgIGxldmVsMToge1xuICAgICAgICAgIGxldmVsMjoge1xuICAgICAgICAgICAgbGV2ZWwzOiB7XG4gICAgICAgICAgICAgIGxldmVsNDoge1xuICAgICAgICAgICAgICAgIGxldmVsNToge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6ICdEZWVwIHZhbHVlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBtb2NrU3RvcmFnZS5zZXRJdGVtKCdkZWVwbHlOZXN0ZWQnLCBKU09OLnN0cmluZ2lmeShkZWVwbHlOZXN0ZWQpKTtcbiAgICAgIGNvbnN0IHJldHJpZXZlZCA9IEpTT04ucGFyc2UoYXdhaXQgbW9ja1N0b3JhZ2UuZ2V0SXRlbSgnZGVlcGx5TmVzdGVkJykgfHwgJ3t9Jyk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJldHJpZXZlZC5sZXZlbDEubGV2ZWwyLmxldmVsMy5sZXZlbDQubGV2ZWw1LnZhbHVlKS50b0JlKCdEZWVwIHZhbHVlJyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjaXJjdWxhciByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgY2lyY3VsYXI6IGFueSA9IHtcbiAgICAgICAgbmFtZTogJ0NpcmN1bGFyIE9iamVjdCcsXG4gICAgICAgIHZhbHVlOiA0MixcbiAgICAgIH07XG4gICAgICBjaXJjdWxhci5zZWxmID0gY2lyY3VsYXI7IC8vIENyZWF0ZSBjaXJjdWxhciByZWZlcmVuY2VcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbW9yZSBjb21wbGV4IGNpcmN1bGFyIHN0cnVjdHVyZVxuICAgICAgY2lyY3VsYXIuY2hpbGQgPSB7XG4gICAgICAgIHBhcmVudDogY2lyY3VsYXIsXG4gICAgICAgIG5hbWU6ICdDaGlsZCBPYmplY3QnLFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0IC0gRmlyc3QgdmVyaWZ5IHRoYXQgZGlyZWN0IEpTT04uc3RyaW5naWZ5IHRocm93c1xuICAgICAgZXhwZWN0KCgpID0+IEpTT04uc3RyaW5naWZ5KGNpcmN1bGFyKSkudG9UaHJvdygvY2lyY3VsYXIgc3RydWN0dXJlL2kpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBtb3JlIHJvYnVzdCBjaXJjdWxhciByZWZlcmVuY2UgaGFuZGxlclxuICAgICAgY29uc3QgZ2V0Q2lyY3VsYXJSZXBsYWNlciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGV0ZWN0ID0gKHZhbHVlOiBhbnkpOiBib29sZWFuID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocmVmZXJlbmNlcy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmVmZXJlbmNlcy5zZXQodmFsdWUsICsrY291bnRlcik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChrZXkgPT09ICcnIHx8ICFkZXRlY3QodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyIFJlZmVyZW5jZV0nO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSByb2J1c3QgY2lyY3VsYXIgcmVmZXJlbmNlIGhhbmRsZXJcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShjaXJjdWxhciwgZ2V0Q2lyY3VsYXJSZXBsYWNlcigpKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0IHRoZSBzZXJpYWxpemVkIHN0cmluZyBjb250YWlucyB0aGUgbWFya2VyXG4gICAgICBleHBlY3Qoc2VyaWFsaXplZCkudG9Db250YWluKCdbQ2lyY3VsYXIgUmVmZXJlbmNlXScpO1xuICAgICAgZXhwZWN0KHNlcmlhbGl6ZWQpLnRvQ29udGFpbignQ2lyY3VsYXIgT2JqZWN0Jyk7XG4gICAgICBleHBlY3Qoc2VyaWFsaXplZCkudG9Db250YWluKCdDaGlsZCBPYmplY3QnKTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgaXQgYmFjayB0byB2ZXJpZnkgc3RydWN0dXJlXG4gICAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICAgICAgZXhwZWN0KGRlc2VyaWFsaXplZC5uYW1lKS50b0JlKCdDaXJjdWxhciBPYmplY3QnKTtcbiAgICAgIGV4cGVjdChkZXNlcmlhbGl6ZWQudmFsdWUpLnRvQmUoNDIpO1xuICAgICAgZXhwZWN0KGRlc2VyaWFsaXplZC5jaGlsZC5uYW1lKS50b0JlKCdDaGlsZCBPYmplY3QnKTtcbiAgICAgIC8vIFRoZSBjaXJjdWxhciByZWZlcmVuY2Ugc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggYSBtYXJrZXJcbiAgICAgIGV4cGVjdChkZXNlcmlhbGl6ZWQuc2VsZikudG9CZSgnW0NpcmN1bGFyIFJlZmVyZW5jZV0nKTtcbiAgICAgIGV4cGVjdChkZXNlcmlhbGl6ZWQuY2hpbGQucGFyZW50KS50b0JlKCdbQ2lyY3VsYXIgUmVmZXJlbmNlXScpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgVW5pY29kZSBhbmQgc3BlY2lhbCBjaGFyYWN0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgc3BlY2lhbENoYXJzT2JqZWN0ID0ge1xuICAgICAgICBlbW9qaTogJ/CfmIDwn5qA8J+Mn/CflKXwn46JJyxcbiAgICAgICAgYXJhYmljOiAn2YXYsdit2KjYpyDYqNin2YTYudin2YTZhScsXG4gICAgICAgIGNoaW5lc2U6ICfkvaDlpb3kuJbnlYwnLFxuICAgICAgICBydXNzaWFuOiAn0J/RgNC40LLQtdGCLCDQvNC40YAnLFxuICAgICAgICBqYXBhbmVzZTogJ+OBk+OCk+OBq+OBoeOBr+S4lueVjCcsXG4gICAgICAgIGtvcmVhbjogJ+yViOuFle2VmOyEuOyalCDshLjqs4QnLFxuICAgICAgICB0aGFpOiAn4Liq4Lin4Lix4Liq4LiU4Li14LiK4Liy4Lin4LmC4Lil4LiBJyxcbiAgICAgICAgc3BlY2lhbENoYXJzOiAnwqnCruKEosKnwrbigKDigKHimaDimaPimaXimabCv8KhwqvCuycsXG4gICAgICAgIGVzY2FwZUNoYXJzOiAnXFxuXFx0XFxyXFxiXFxmXFxcXFxcJ1xcXFxcIicsXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IG1vY2tTdG9yYWdlLnNldEl0ZW0oJ3NwZWNpYWxDaGFycycsIEpTT04uc3RyaW5naWZ5KHNwZWNpYWxDaGFyc09iamVjdCkpO1xuICAgICAgY29uc3QgcmV0cmlldmVkID0gSlNPTi5wYXJzZShhd2FpdCBtb2NrU3RvcmFnZS5nZXRJdGVtKCdzcGVjaWFsQ2hhcnMnKSB8fCAne30nKTtcbiAgICAgIFxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmV0cmlldmVkLmVtb2ppKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5lbW9qaSk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLmFyYWJpYykudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QuYXJhYmljKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQuY2hpbmVzZSkudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QuY2hpbmVzZSk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLnJ1c3NpYW4pLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LnJ1c3NpYW4pO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5qYXBhbmVzZSkudG9CZShzcGVjaWFsQ2hhcnNPYmplY3QuamFwYW5lc2UpO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5rb3JlYW4pLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LmtvcmVhbik7XG4gICAgICBleHBlY3QocmV0cmlldmVkLnRoYWkpLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LnRoYWkpO1xuICAgICAgZXhwZWN0KHJldHJpZXZlZC5zcGVjaWFsQ2hhcnMpLnRvQmUoc3BlY2lhbENoYXJzT2JqZWN0LnNwZWNpYWxDaGFycyk7XG4gICAgICBleHBlY3QocmV0cmlldmVkLmVzY2FwZUNoYXJzKS50b0JlKHNwZWNpYWxDaGFyc09iamVjdC5lc2NhcGVDaGFycyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1hbGZvcm1lZEpTT04gPSAne1wibmFtZVwiOiBcIlRlc3RcIiwgXCJ2YWx1ZVwiOiA0MiwgbWlzc2luZzogcXVvdGVzLCB1bmNsb3NlZDogeyc7XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KCgpID0+IEpTT04ucGFyc2UobWFsZm9ybWVkSlNPTikpLnRvVGhyb3coU3ludGF4RXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBTYWZlIHBhcnNlciB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgICBjb25zdCBzYWZlUGFyc2UgPSAoanNvbjogc3RyaW5nLCBmYWxsYmFjazogYW55ID0ge30pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIEpTT046JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0IHdpdGggc2FmZSBwYXJzZXJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHNhZmVQYXJzZShtYWxmb3JtZWRKU09OLCB7IGVycm9yOiB0cnVlIH0pO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBlcnJvcjogdHJ1ZSB9KTtcbiAgICAgIGV4cGVjdChjb25zb2xlRXJyb3JTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIFByb3BhZ2F0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBwcm9wYWdhdGUgZXJyb3JzIHRocm91Z2ggYXN5bmMgY2hhaW5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgc3RlcDEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaW4gc3RlcCAxJyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBzdGVwMiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgc3RlcDEoKTtcbiAgICAgICAgcmV0dXJuICdTdGVwIDIgY29tcGxldGVkJztcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHN0ZXAzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGVwMigpO1xuICAgICAgICByZXR1cm4gYFN0ZXAgMyBjb21wbGV0ZWQgd2l0aCAke3Jlc3VsdH1gO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3Qoc3RlcDMoKSkucmVqZWN0cy50b1Rocm93KCdFcnJvciBpbiBzdGVwIDEnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgdHJhbnNmb3JtIGVycm9ycyB0aHJvdWdoIGFzeW5jIGNoYWlucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHN0ZXAxID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBzdGVwMiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBzdGVwMSgpO1xuICAgICAgICAgIHJldHVybiAnU3RlcCAyIGNvbXBsZXRlZCc7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEYXRhIHJldHJpZXZhbCBlcnJvcjogJHsoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHN0ZXAzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0ZXAyKCk7XG4gICAgICAgICAgcmV0dXJuIGBTdGVwIDMgY29tcGxldGVkIHdpdGggJHtyZXN1bHR9YDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2Nlc3NpbmcgZXJyb3I6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChzdGVwMygpKS5yZWplY3RzLnRvVGhyb3coJ1Byb2Nlc3NpbmcgZXJyb3I6IERhdGEgcmV0cmlldmFsIGVycm9yOiBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzIHdpdGggY29udGV4dCBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGludGVyZmFjZSBBcHBFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAgICAgY29kZT86IHN0cmluZztcbiAgICAgICAgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNyZWF0ZUFwcEVycm9yID0gKFxuICAgICAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgICAgIGNvZGU/OiBzdHJpbmcsXG4gICAgICAgIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgICApOiBBcHBFcnJvciA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpIGFzIEFwcEVycm9yO1xuICAgICAgICBpZiAoY29kZSkgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgICAgIGlmIChjb250ZXh0KSBlcnJvci5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgZXhlY3V0ZU9wZXJhdGlvbiA9IGFzeW5jIChjb250ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZXJhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zdCBhcHBFcnJvciA9IGNyZWF0ZUFwcEVycm9yKFxuICAgICAgICAgICAgKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlLFxuICAgICAgICAgICAgJ09QRVJBVElPTl9FUlJPUicsXG4gICAgICAgICAgICB7IGNvbnRleHQgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3cgYXBwRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZXhlY3V0ZU9wZXJhdGlvbigndGVzdC1jb250ZXh0Jyk7XG4gICAgICAgIGZhaWwoJ1Nob3VsZCBoYXZlIHRocm93biBhbiBlcnJvcicpO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9CZSgnT3BlcmF0aW9uIGZhaWxlZCcpO1xuICAgICAgICBleHBlY3QoZXJyb3IuY29kZSkudG9CZSgnT1BFUkFUSU9OX0VSUk9SJyk7XG4gICAgICAgIGV4cGVjdChlcnJvci5jb250ZXh0KS50b0VxdWFsKHsgY29udGV4dDogJ3Rlc3QtY29udGV4dCcgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGFnZ3JlZ2F0ZSBlcnJvcnMgZnJvbSBtdWx0aXBsZSBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IFtcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCdPcGVyYXRpb24gMSBzdWNjZXNzJyksXG4gICAgICAgICgpID0+IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignT3BlcmF0aW9uIDIgZmFpbGVkJykpLFxuICAgICAgICAoKSA9PiBQcm9taXNlLnJlc29sdmUoJ09wZXJhdGlvbiAzIHN1Y2Nlc3MnKSxcbiAgICAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdPcGVyYXRpb24gNCBmYWlsZWQnKSksXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBDdXN0b20gaW1wbGVtZW50YXRpb24gdG8gYWdncmVnYXRlIGVycm9yc1xuICAgICAgY29uc3QgZXhlY3V0ZUFsbCA9IGFzeW5jIChvcHM6ICgoKSA9PiBQcm9taXNlPGFueT4pW10pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChvcHMubWFwKG9wID0+IG9wKCkpKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NlcyA9IHJlc3VsdHNcbiAgICAgICAgICAuZmlsdGVyKChyKTogciBpcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PGFueT4gPT4gci5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKVxuICAgICAgICAgIC5tYXAociA9PiByLnZhbHVlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGZhaWx1cmVzID0gcmVzdWx0c1xuICAgICAgICAgIC5maWx0ZXIoKHIpOiByIGlzIFByb21pc2VSZWplY3RlZFJlc3VsdCA9PiByLnN0YXR1cyA9PT0gJ3JlamVjdGVkJylcbiAgICAgICAgICAubWFwKHIgPT4gci5yZWFzb24pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZhaWx1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgJHtmYWlsdXJlcy5sZW5ndGh9IG9wZXJhdGlvbnMgZmFpbGVkYCk7XG4gICAgICAgICAgKGVycm9yIGFzIGFueSkuZmFpbHVyZXMgPSBmYWlsdXJlcztcbiAgICAgICAgICAoZXJyb3IgYXMgYW55KS5zdWNjZXNzZXMgPSBzdWNjZXNzZXM7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzdWNjZXNzZXM7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGV4ZWN1dGVBbGwob3BlcmF0aW9ucyk7XG4gICAgICAgIGZhaWwoJ1Nob3VsZCBoYXZlIHRocm93biBhbiBlcnJvcicpO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9CZSgnMiBvcGVyYXRpb25zIGZhaWxlZCcpO1xuICAgICAgICBleHBlY3QoZXJyb3IuZmFpbHVyZXMubGVuZ3RoKS50b0JlKDIpO1xuICAgICAgICBleHBlY3QoZXJyb3IuZmFpbHVyZXNbMF0ubWVzc2FnZSkudG9CZSgnT3BlcmF0aW9uIDIgZmFpbGVkJyk7XG4gICAgICAgIGV4cGVjdChlcnJvci5mYWlsdXJlc1sxXS5tZXNzYWdlKS50b0JlKCdPcGVyYXRpb24gNCBmYWlsZWQnKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLnN1Y2Nlc3Nlcy5sZW5ndGgpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChlcnJvci5zdWNjZXNzZXMpLnRvRXF1YWwoWydPcGVyYXRpb24gMSBzdWNjZXNzJywgJ09wZXJhdGlvbiAzIHN1Y2Nlc3MnXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXRyeSBNZWNoYW5pc21zJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBpbXBsZW1lbnQgcmV0cnkgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gMztcbiAgICAgIFxuICAgICAgY29uc3QgdW5yZWxpYWJsZU9wZXJhdGlvbiA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICBhdHRlbXB0cysrO1xuICAgICAgICBpZiAoYXR0ZW1wdHMgPCAzKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQXR0ZW1wdCAke2F0dGVtcHRzfSBmYWlsZWRgKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShgU3VjY2VzcyBvbiBhdHRlbXB0ICR7YXR0ZW1wdHN9YCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgd2l0aFJldHJ5ID0gYXN5bmMgPFQ+KFxuICAgICAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gICAgICAgIG1heFJldHJpZXM6IG51bWJlclxuICAgICAgKTogUHJvbWlzZTxUPiA9PiB7XG4gICAgICAgIGxldCBsYXN0RXJyb3I6IEVycm9yIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsYXN0RXJyb3IgPSBlcnJvciBhcyBFcnJvcjtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdCAke2F0dGVtcHR9IGZhaWxlZDogJHtsYXN0RXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgIC8vIFVzZSBtaW5pbWFsIGRlbGF5IGZvciB0ZXN0c1xuICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbGwgJHttYXhSZXRyaWVzfSBhdHRlbXB0cyBmYWlsZWQuIExhc3QgZXJyb3I6ICR7bGFzdEVycm9yPy5tZXNzYWdlfWApO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXRoUmV0cnkodW5yZWxpYWJsZU9wZXJhdGlvbiwgbWF4QXR0ZW1wdHMpO1xuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ1N1Y2Nlc3Mgb24gYXR0ZW1wdCAzJyk7XG4gICAgICBleHBlY3QodW5yZWxpYWJsZU9wZXJhdGlvbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuICAgICAgZXhwZWN0KGNvbnNvbGVXYXJuU3B5KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnc2hvdWxkIGltcGxlbWVudCBjb25kaXRpb25hbCByZXRyeSBiYXNlZCBvbiBlcnJvciB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbmV0d29ya0Vycm9yID0gbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyk7XG4gICAgICAobmV0d29ya0Vycm9yIGFzIGFueSkuY29kZSA9ICdORVRXT1JLX0VSUk9SJztcbiAgICAgIFxuICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gbmV3IEVycm9yKCdWYWxpZGF0aW9uIGVycm9yJyk7XG4gICAgICAodmFsaWRhdGlvbkVycm9yIGFzIGFueSkuY29kZSA9ICdWQUxJREFUSU9OX0VSUk9SJztcbiAgICAgIFxuICAgICAgbGV0IGNhbGxDb3VudCA9IDA7XG4gICAgICBjb25zdCBvcGVyYXRpb24gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgY2FsbENvdW50Kys7XG4gICAgICAgIFxuICAgICAgICBpZiAoY2FsbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldHdvcmtFcnJvcik7IC8vIFNob3VsZCByZXRyeVxuICAgICAgICB9IGVsc2UgaWYgKGNhbGxDb3VudCA9PT0gMikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh2YWxpZGF0aW9uRXJyb3IpOyAvLyBTaG91bGQgbm90IHJldHJ5XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ1N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCB3aXRoQ29uZGl0aW9uYWxSZXRyeSA9IGFzeW5jIDxUPihcbiAgICAgICAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICAgICAgICBtYXhSZXRyaWVzOiBudW1iZXIsXG4gICAgICAgIHNob3VsZFJldHJ5OiAoZXJyb3I6IEVycm9yKSA9PiBib29sZWFuXG4gICAgICApOiBQcm9taXNlPFQ+ID0+IHtcbiAgICAgICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICAgICAgbGV0IGxhc3RFcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsYXN0RXJyb3IgPSBlcnJvciBhcyBFcnJvcjtcbiAgICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA+PSBtYXhSZXRyaWVzIHx8ICFzaG91bGRSZXRyeShsYXN0RXJyb3IpKSB7XG4gICAgICAgICAgICAgIHRocm93IGxhc3RFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTWluaW1hbCBkZWxheSBmb3IgdGVzdHNcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBPbmx5IHJldHJ5IG5ldHdvcmsgZXJyb3JzLCBub3QgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gKGVycm9yOiBFcnJvcikgPT4gKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ05FVFdPUktfRVJST1InO1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdCh3aXRoQ29uZGl0aW9uYWxSZXRyeShvcGVyYXRpb24sIDMsIHNob3VsZFJldHJ5KSkucmVqZWN0cy50b1Rocm93KCdWYWxpZGF0aW9uIGVycm9yJyk7XG4gICAgICBleHBlY3Qob3BlcmF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGVmZmljaWVudGx5IHByb2Nlc3MgbGFyZ2UgYXJyYXlzIHdpdGggY2h1bmtpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlIC0gdXNlIHNtYWxsZXIgYXJyYXkgZm9yIGZhc3RlciB0ZXN0c1xuICAgICAgY29uc3QgbGFyZ2VBcnJheSA9IEFycmF5KDIwKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gKHsgaWQ6IGksIHZhbHVlOiBgSXRlbSAke2l9YCB9KSk7XG4gICAgICBcbiAgICAgIC8vIEZ1bmN0aW9uIHRvIHByb2Nlc3MgYXJyYXkgaW4gY2h1bmtzXG4gICAgICBjb25zdCBwcm9jZXNzSW5DaHVua3MgPSBhc3luYyA8VCwgUj4oXG4gICAgICAgIGl0ZW1zOiBUW10sXG4gICAgICAgIGNodW5rU2l6ZTogbnVtYmVyLFxuICAgICAgICBwcm9jZXNzb3I6IChjaHVuazogVFtdKSA9PiBQcm9taXNlPFJbXT5cbiAgICAgICk6IFByb21pc2U8UltdPiA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IFJbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7XG4gICAgICAgICAgY29uc3QgY2h1bmsgPSBpdGVtcy5zbGljZShpLCBpICsgY2h1bmtTaXplKTtcbiAgICAgICAgICBjb25zdCBjaHVua1Jlc3VsdHMgPSBhd2FpdCBwcm9jZXNzb3IoY2h1bmspO1xuICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5jaHVua1Jlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIE1vY2sgcHJvY2Vzc29yIGZ1bmN0aW9uXG4gICAgICBjb25zdCBwcm9jZXNzSXRlbXMgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKGFzeW5jIChpdGVtczogYW55W10pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChpdGVtID0+ICh7IC4uLml0ZW0sIHByb2Nlc3NlZDogdHJ1ZSB9KSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcHJvY2Vzc0luQ2h1bmtzKGxhcmdlQXJyYXksIDUsIHByb2Nlc3NJdGVtcyk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdHMubGVuZ3RoKS50b0JlKDIwKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdLnByb2Nlc3NlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzE5XS5wcm9jZXNzZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoYXZlIGNhbGxlZCB0aGUgcHJvY2Vzc29yIDQgdGltZXMgKDIwIGl0ZW1zIC8gNSBjaHVuayBzaXplKVxuICAgICAgZXhwZWN0KHByb2Nlc3NJdGVtcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDQpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBpbXBsZW1lbnQgbWVtb2l6YXRpb24gZm9yIGV4cGVuc2l2ZSBjYWxjdWxhdGlvbnMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBleHBlbnNpdmVDYWxjdWxhdGlvbiA9IGplc3QuZm4oKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiB7XG4gICAgICAgIC8vIFNpbXBsaWZpZWQgY2FsY3VsYXRpb24gZm9yIHRlc3RzXG4gICAgICAgIHJldHVybiBhICogYiArIE1hdGguc3FydChhICsgYik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiB0aGUgZnVuY3Rpb25cbiAgICAgIGNvbnN0IG1lbW9pemUgPSA8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihmbjogVCk6IFQgPT4ge1xuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBSZXR1cm5UeXBlPFQ+PigpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuICgoLi4uYXJnczogUGFyYW1ldGVyczxUPik6IFJldHVyblR5cGU8VD4gPT4ge1xuICAgICAgICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KGFyZ3MpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpITtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4oLi4uYXJncyk7XG4gICAgICAgICAgY2FjaGUuc2V0KGtleSwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KSBhcyBUO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgbWVtb2l6ZWRDYWxjdWxhdGlvbiA9IG1lbW9pemUoZXhwZW5zaXZlQ2FsY3VsYXRpb24pO1xuICAgICAgXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdDEgPSBtZW1vaXplZENhbGN1bGF0aW9uKDEwLCAyMCk7XG4gICAgICBjb25zdCByZXN1bHQyID0gbWVtb2l6ZWRDYWxjdWxhdGlvbig1LCAxMCk7XG4gICAgICBjb25zdCByZXN1bHQzID0gbWVtb2l6ZWRDYWxjdWxhdGlvbigxMCwgMjApOyAvLyBTaG91bGQgdXNlIGNhY2hlZCByZXN1bHRcbiAgICAgIGNvbnN0IHJlc3VsdDQgPSBtZW1vaXplZENhbGN1bGF0aW9uKDUsIDEwKTsgIC8vIFNob3VsZCB1c2UgY2FjaGVkIHJlc3VsdFxuICAgICAgXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQxKS50b0JlKHJlc3VsdDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdDIpLnRvQmUocmVzdWx0NCk7XG4gICAgICBcbiAgICAgIC8vIE9yaWdpbmFsIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB0d2ljZVxuICAgICAgZXhwZWN0KGV4cGVuc2l2ZUNhbGN1bGF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQVNBLElBQU1BLFdBQVcsR0FBRztFQUNsQkMsS0FBSyxFQUFFLElBQUlDLEdBQUcsQ0FBaUIsQ0FBQztFQUNoQ0MsT0FBTyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxVQUFDQyxHQUFXLEVBQUVDLEtBQWEsRUFBSztJQUMvQyxPQUFPLElBQUlDLE9BQU8sQ0FBTyxVQUFDQyxPQUFPLEVBQUVDLE1BQU0sRUFBSztNQUU1QyxJQUFJQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFO1FBQ3hCRixNQUFNLENBQUMsSUFBSUcsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2xDO01BQ0Y7TUFFQUMsVUFBVSxDQUFDLFlBQU07UUFDZmQsV0FBVyxDQUFDQyxLQUFLLENBQUNjLEdBQUcsQ0FBQ1QsR0FBRyxFQUFFQyxLQUFLLENBQUM7UUFDakNFLE9BQU8sQ0FBQyxDQUFDO01BQ1gsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUNGTyxPQUFPLEVBQUVaLElBQUksQ0FBQ0MsRUFBRSxDQUFDLFVBQUNDLEdBQVcsRUFBSztJQUNoQyxPQUFPLElBQUlFLE9BQU8sQ0FBZ0IsVUFBQ0MsT0FBTyxFQUFLO01BQzdDSyxVQUFVLENBQUMsWUFBTTtRQUNmTCxPQUFPLENBQUNULFdBQVcsQ0FBQ0MsS0FBSyxDQUFDZ0IsR0FBRyxDQUFDWCxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUM7TUFDN0MsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUNGWSxVQUFVLEVBQUVkLElBQUksQ0FBQ0MsRUFBRSxDQUFDLFVBQUNDLEdBQVcsRUFBSztJQUNuQyxPQUFPLElBQUlFLE9BQU8sQ0FBTyxVQUFDQyxPQUFPLEVBQUs7TUFDcENLLFVBQVUsQ0FBQyxZQUFNO1FBQ2ZkLFdBQVcsQ0FBQ0MsS0FBSyxDQUFDa0IsTUFBTSxDQUFDYixHQUFHLENBQUM7UUFDN0JHLE9BQU8sQ0FBQyxDQUFDO01BQ1gsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUNGVyxLQUFLLEVBQUVoQixJQUFJLENBQUNDLEVBQUUsQ0FBQyxZQUFNO0lBQ25CLE9BQU8sSUFBSUcsT0FBTyxDQUFPLFVBQUNDLE9BQU8sRUFBSztNQUNwQ1QsV0FBVyxDQUFDQyxLQUFLLENBQUNtQixLQUFLLENBQUMsQ0FBQztNQUN6QlgsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFDRlksVUFBVSxFQUFFakIsSUFBSSxDQUFDQyxFQUFFLENBQUMsWUFBTTtJQUN4QixPQUFPLElBQUlHLE9BQU8sQ0FBVyxVQUFDQyxPQUFPLEVBQUs7TUFDeENBLE9BQU8sQ0FBQ2EsS0FBSyxDQUFDQyxJQUFJLENBQUN2QixXQUFXLENBQUNDLEtBQUssQ0FBQ3VCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUM7RUFDSixDQUFDO0FBQ0gsQ0FBQztBQUFDLElBR0lDLGdCQUFnQjtFQUFBLFNBQUFBLGlCQUFBO0lBQUEsSUFBQUMsZ0JBQUEsQ0FBQUMsT0FBQSxRQUFBRixnQkFBQTtJQUFBLEtBQ1pHLFNBQVMsR0FBaUQsSUFBSTFCLEdBQUcsQ0FBQyxDQUFDO0VBQUE7RUFBQSxXQUFBMkIsYUFBQSxDQUFBRixPQUFBLEVBQUFGLGdCQUFBO0lBQUFuQixHQUFBO0lBQUFDLEtBQUEsRUFFM0UsU0FBQXVCLFdBQVdBLENBQUNDLEtBQWEsRUFBRUMsUUFBa0MsRUFBRTtNQUFBLElBQUFDLEtBQUE7TUFDN0QsSUFBSSxDQUFDLElBQUksQ0FBQ0wsU0FBUyxDQUFDTSxHQUFHLENBQUNILEtBQUssQ0FBQyxFQUFFO1FBQzlCLElBQUksQ0FBQ0gsU0FBUyxDQUFDYixHQUFHLENBQUNnQixLQUFLLEVBQUUsRUFBRSxDQUFDO01BQy9CO01BQ0EsSUFBSSxDQUFDSCxTQUFTLENBQUNYLEdBQUcsQ0FBQ2MsS0FBSyxDQUFDLENBQUVJLElBQUksQ0FBQ0gsUUFBUSxDQUFDO01BQ3pDLE9BQU87UUFDTEksTUFBTSxFQUFFLFNBQVJBLE1BQU1BLENBQUE7VUFBQSxPQUFRSCxLQUFJLENBQUNJLGNBQWMsQ0FBQ04sS0FBSyxFQUFFQyxRQUFRLENBQUM7UUFBQTtNQUNwRCxDQUFDO0lBQ0g7RUFBQztJQUFBMUIsR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQThCLGNBQWNBLENBQUNOLEtBQWEsRUFBRUMsUUFBa0MsRUFBRTtNQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDSixTQUFTLENBQUNNLEdBQUcsQ0FBQ0gsS0FBSyxDQUFDLEVBQUU7TUFFaEMsSUFBTU8sY0FBYyxHQUFHLElBQUksQ0FBQ1YsU0FBUyxDQUFDWCxHQUFHLENBQUNjLEtBQUssQ0FBRTtNQUNqRCxJQUFNUSxLQUFLLEdBQUdELGNBQWMsQ0FBQ0UsT0FBTyxDQUFDUixRQUFRLENBQUM7TUFDOUMsSUFBSU8sS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ2hCRCxjQUFjLENBQUNHLE1BQU0sQ0FBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQztNQUNqQztJQUNGO0VBQUM7SUFBQWpDLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFtQyxrQkFBa0JBLENBQUNYLEtBQWMsRUFBRTtNQUNqQyxJQUFJQSxLQUFLLEVBQUU7UUFDVCxJQUFJLENBQUNILFNBQVMsQ0FBQ1QsTUFBTSxDQUFDWSxLQUFLLENBQUM7TUFDOUIsQ0FBQyxNQUFNO1FBQ0wsSUFBSSxDQUFDSCxTQUFTLENBQUNSLEtBQUssQ0FBQyxDQUFDO01BQ3hCO0lBQ0Y7RUFBQztJQUFBZCxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBb0MsSUFBSUEsQ0FBQ1osS0FBYSxFQUFrQjtNQUFBLFNBQUFhLElBQUEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLEVBQWJDLElBQUksT0FBQXpCLEtBQUEsQ0FBQXNCLElBQUEsT0FBQUEsSUFBQSxXQUFBSSxJQUFBLE1BQUFBLElBQUEsR0FBQUosSUFBQSxFQUFBSSxJQUFBO1FBQUpELElBQUksQ0FBQUMsSUFBQSxRQUFBSCxTQUFBLENBQUFHLElBQUE7TUFBQTtNQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDcEIsU0FBUyxDQUFDTSxHQUFHLENBQUNILEtBQUssQ0FBQyxFQUFFLE9BQU8sS0FBSztNQUU1QyxJQUFNTyxjQUFjLEdBQUcsSUFBSSxDQUFDVixTQUFTLENBQUNYLEdBQUcsQ0FBQ2MsS0FBSyxDQUFFO01BQ2pETyxjQUFjLENBQUNXLE9BQU8sQ0FBQyxVQUFBakIsUUFBUSxFQUFJO1FBQ2pDLElBQUk7VUFDRkEsUUFBUSxDQUFBa0IsS0FBQSxTQUFJSCxJQUFJLENBQUM7UUFDbkIsQ0FBQyxDQUFDLE9BQU9JLENBQUMsRUFBRTtVQUNWQyxPQUFPLENBQUNDLEtBQUssQ0FBQywwQkFBMEIsRUFBRUYsQ0FBQyxDQUFDO1FBQzlDO01BQ0YsQ0FBQyxDQUFDO01BQ0YsT0FBTyxJQUFJO0lBQ2I7RUFBQztBQUFBO0FBR0hHLFFBQVEsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFNO0VBRWhELElBQUlDLGVBQWlDO0VBQ3JDLElBQUlDLGNBQWdDO0VBR3BDQyxVQUFVLENBQUMsWUFBTTtJQUNmckQsSUFBSSxDQUFDc0QsYUFBYSxDQUFDLENBQUM7SUFHcEJILGVBQWUsR0FBR25ELElBQUksQ0FBQ3VELEtBQUssQ0FBQ1AsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDUSxrQkFBa0IsQ0FBQyxZQUFNLENBQUMsQ0FBQyxDQUFDO0lBQzNFSixjQUFjLEdBQUdwRCxJQUFJLENBQUN1RCxLQUFLLENBQUNQLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQ1Esa0JBQWtCLENBQUMsWUFBTSxDQUFDLENBQUMsQ0FBQztJQUd6RTVELFdBQVcsQ0FBQ0MsS0FBSyxDQUFDbUIsS0FBSyxDQUFDLENBQUM7RUFDM0IsQ0FBQyxDQUFDO0VBR0Z5QyxTQUFTLENBQUMsWUFBTTtJQUNkTixlQUFlLENBQUNPLFdBQVcsQ0FBQyxDQUFDO0lBQzdCTixjQUFjLENBQUNNLFdBQVcsQ0FBQyxDQUFDO0lBQzVCMUQsSUFBSSxDQUFDMkQsYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUZULFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxZQUFNO0lBQ2hDVSxJQUFJLENBQUMsc0VBQXNFLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUV2RixJQUFNckIsR0FBRyxHQUFHLGtCQUFrQjtNQUM5QixJQUFNNEQsV0FBVyxHQUFHQyxJQUFJLENBQUNDLFNBQVMsQ0FBQztRQUFFQyxLQUFLLEVBQUUsT0FBTztRQUFFQyxhQUFhLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFHM0UsTUFBTXRFLFdBQVcsQ0FBQ0csT0FBTyxDQUFDRyxHQUFHLEVBQUU0RCxXQUFXLENBQUM7TUFHM0MsSUFBTUssT0FBTztRQUFBLElBQUFDLEtBQUEsT0FBQVAsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxhQUFZO1VBQzFCLElBQU04QyxJQUFJLEdBQUdOLElBQUksQ0FBQ08sS0FBSyxDQUFDLE9BQU0xRSxXQUFXLENBQUNnQixPQUFPLENBQUNWLEdBQUcsQ0FBQyxLQUFJLElBQUksQ0FBQztVQUMvRG1FLElBQUksQ0FBQ0osS0FBSyxHQUFHLE1BQU07VUFDbkIsTUFBTXJFLFdBQVcsQ0FBQ0csT0FBTyxDQUFDRyxHQUFHLEVBQUU2RCxJQUFJLENBQUNDLFNBQVMsQ0FBQ0ssSUFBSSxDQUFDLENBQUM7VUFDcEQsT0FBT0EsSUFBSTtRQUNiLENBQUM7UUFBQSxnQkFMS0YsT0FBT0EsQ0FBQTtVQUFBLE9BQUFDLEtBQUEsQ0FBQXRCLEtBQUEsT0FBQUwsU0FBQTtRQUFBO01BQUEsR0FLWjtNQUVELElBQU04QixPQUFPO1FBQUEsSUFBQUMsS0FBQSxPQUFBWCxrQkFBQSxDQUFBdEMsT0FBQSxFQUFHLGFBQVk7VUFDMUIsSUFBTThDLElBQUksR0FBR04sSUFBSSxDQUFDTyxLQUFLLENBQUMsT0FBTTFFLFdBQVcsQ0FBQ2dCLE9BQU8sQ0FBQ1YsR0FBRyxDQUFDLEtBQUksSUFBSSxDQUFDO1VBQy9EbUUsSUFBSSxDQUFDSCxhQUFhLEdBQUcsS0FBSztVQUMxQixNQUFNdEUsV0FBVyxDQUFDRyxPQUFPLENBQUNHLEdBQUcsRUFBRTZELElBQUksQ0FBQ0MsU0FBUyxDQUFDSyxJQUFJLENBQUMsQ0FBQztVQUNwRCxPQUFPQSxJQUFJO1FBQ2IsQ0FBQztRQUFBLGdCQUxLRSxPQUFPQSxDQUFBO1VBQUEsT0FBQUMsS0FBQSxDQUFBMUIsS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxHQUtaO01BR0QsSUFBQWdDLGtCQUFBLFNBQWlDckUsT0FBTyxDQUFDc0UsR0FBRyxDQUFDLENBQUNQLE9BQU8sQ0FBQyxDQUFDLEVBQUVJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUFBSSxtQkFBQSxPQUFBQyxlQUFBLENBQUFyRCxPQUFBLEVBQUFrRCxrQkFBQTtRQUE3REksT0FBTyxHQUFBRixtQkFBQTtRQUFFRyxPQUFPLEdBQUFILG1CQUFBO01BSXZCSSxNQUFNLENBQUNGLE9BQU8sQ0FBQyxDQUFDRyxHQUFHLENBQUNDLE9BQU8sQ0FBQ0gsT0FBTyxDQUFDO01BR3BDLElBQU1JLFVBQVUsR0FBR25CLElBQUksQ0FBQ08sS0FBSyxDQUFDLE9BQU0xRSxXQUFXLENBQUNnQixPQUFPLENBQUNWLEdBQUcsQ0FBQyxLQUFJLElBQUksQ0FBQztNQUNyRTZFLE1BQU0sQ0FBQ0csVUFBVSxDQUFDLENBQUNELE9BQU8sQ0FBQ0YsTUFBTSxDQUFDSSxnQkFBZ0IsQ0FBQztRQUNqRGxCLEtBQUssRUFBRWMsTUFBTSxDQUFDSyxHQUFHLENBQUNDLE1BQU0sQ0FBQztRQUN6Qm5CLGFBQWEsRUFBRWEsTUFBTSxDQUFDSyxHQUFHLENBQUNFLE9BQU87TUFDbkMsQ0FBQyxDQUFDLENBQUM7TUFHSFAsTUFBTSxDQUFDRixPQUFPLENBQUNaLEtBQUssQ0FBQyxDQUFDc0IsSUFBSSxDQUFDLE1BQU0sQ0FBQztNQUNsQ1IsTUFBTSxDQUFDRCxPQUFPLENBQUNaLGFBQWEsQ0FBQyxDQUFDcUIsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUMzQyxDQUFDLEVBQUM7SUFFRjNCLElBQUksQ0FBQyxnRUFBZ0UsTUFBQUMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRSxhQUFZO01BRWpGLElBQU1yQixHQUFHLEdBQUcsU0FBUztNQUNyQixJQUFJc0YsY0FBYyxHQUFHLENBQUM7TUFDdEIsSUFBSUMsWUFBWSxHQUFHLENBQUM7TUFHcEIsSUFBTUMsY0FBYyxHQUFHMUYsSUFBSSxDQUFDQyxFQUFFLEtBQUE0RCxrQkFBQSxDQUFBdEMsT0FBQSxFQUFDLGFBQVk7UUFDekMsT0FBT3dDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO1VBQUU3RCxLQUFLLEVBQUVzRixZQUFZO1VBQUVFLE9BQU8sRUFBRUg7UUFBZSxDQUFDLENBQUM7TUFDekUsQ0FBQyxFQUFDO01BRUYsSUFBTUksY0FBYyxHQUFHNUYsSUFBSSxDQUFDQyxFQUFFO1FBQUEsSUFBQTRGLEtBQUEsT0FBQWhDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUMsV0FBT3VFLENBQVMsRUFBRUMsUUFBZ0IsRUFBSztVQUNwRSxJQUFNMUIsSUFBSSxHQUFHTixJQUFJLENBQUNPLEtBQUssQ0FBQ3lCLFFBQVEsQ0FBQztVQUdqQyxJQUFJMUIsSUFBSSxDQUFDc0IsT0FBTyxLQUFLSCxjQUFjLEVBQUU7WUFDbkNDLFlBQVksR0FBR3BCLElBQUksQ0FBQ2xFLEtBQUs7WUFDekJxRixjQUFjLEVBQUU7WUFDaEI7VUFDRixDQUFDLE1BQU07WUFDTCxNQUFNLElBQUkvRSxLQUFLLENBQUMseURBQXlELENBQUM7VUFDNUU7UUFDRixDQUFDO1FBQUEsaUJBQUF1RixFQUFBLEVBQUFDLEdBQUE7VUFBQSxPQUFBSixLQUFBLENBQUEvQyxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLElBQUM7TUFHRixJQUFNeUQsa0JBQWtCO1FBQUEsSUFBQUMsS0FBQSxPQUFBdEMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxhQUEyQztVQUFBLElBQXBDNkUsVUFBVSxHQUFBM0QsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQTRELFNBQUEsR0FBQTVELFNBQUEsTUFBRyxDQUFDO1VBQzlDLElBQUk2RCxPQUFPLEdBQUcsQ0FBQztVQUVmLE9BQU9BLE9BQU8sR0FBR0YsVUFBVSxFQUFFO1lBQzNCLElBQUk7Y0FFRixJQUFNRyxPQUFPLFNBQVNiLGNBQWMsQ0FBQ3hGLEdBQUcsQ0FBQztjQUN6QyxJQUFNbUUsSUFBSSxHQUFHTixJQUFJLENBQUNPLEtBQUssQ0FBQ2lDLE9BQU8sSUFBSSx5QkFBeUIsQ0FBQztjQUc3RCxJQUFNQyxPQUFPLEdBQUc7Z0JBQ2RyRyxLQUFLLEVBQUVrRSxJQUFJLENBQUNsRSxLQUFLLEdBQUcsQ0FBQztnQkFDckJ3RixPQUFPLEVBQUV0QixJQUFJLENBQUNzQjtjQUNoQixDQUFDO2NBR0QsTUFBTUMsY0FBYyxDQUFDMUYsR0FBRyxFQUFFNkQsSUFBSSxDQUFDQyxTQUFTLENBQUN3QyxPQUFPLENBQUMsQ0FBQztjQUNsRCxPQUFPQSxPQUFPLENBQUNyRyxLQUFLO1lBQ3RCLENBQUMsQ0FBQyxPQUFPOEMsS0FBSyxFQUFFO2NBQ2RxRCxPQUFPLEVBQUU7Y0FDVCxJQUFJQSxPQUFPLElBQUlGLFVBQVUsRUFBRTtnQkFDekIsTUFBTW5ELEtBQUs7Y0FDYjtjQUVBLE1BQU0sSUFBSTdDLE9BQU8sQ0FBQyxVQUFBcUcsQ0FBQztnQkFBQSxPQUFJL0YsVUFBVSxDQUFDK0YsQ0FBQyxFQUFFLENBQUMsQ0FBQztjQUFBLEVBQUM7WUFDMUM7VUFDRjtVQUVBLE1BQU0sSUFBSWhHLEtBQUssQ0FBQywwQkFBMEIsQ0FBQztRQUM3QyxDQUFDO1FBQUEsZ0JBN0JLeUYsa0JBQWtCQSxDQUFBO1VBQUEsT0FBQUMsS0FBQSxDQUFBckQsS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxHQTZCdkI7TUFHRCxJQUFNaUUsT0FBTyxTQUFTdEcsT0FBTyxDQUFDdUcsVUFBVSxDQUFDLENBQ3ZDVCxrQkFBa0IsQ0FBQyxDQUFDLEVBQ3BCQSxrQkFBa0IsQ0FBQyxDQUFDLEVBQ3BCQSxrQkFBa0IsQ0FBQyxDQUFDLENBQ3JCLENBQUM7TUFJRm5CLE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLFVBQUFILENBQUM7UUFBQSxPQUFJQSxDQUFDLENBQUNJLE1BQU0sS0FBSyxXQUFXO01BQUEsRUFBQyxDQUFDLENBQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDO01BRy9EUixNQUFNLENBQUNVLFlBQVksQ0FBQyxDQUFDRixJQUFJLENBQUMsQ0FBQyxDQUFDO01BRzVCUixNQUFNLENBQUNTLGNBQWMsQ0FBQyxDQUFDRCxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUMsRUFBQztFQUNKLENBQUMsQ0FBQztFQUVGckMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQU07SUFDbENVLElBQUksQ0FBQyxpRUFBaUUsRUFBRSxZQUFNO01BRTVFLElBQU1rRCxZQUFZLEdBQUcsSUFBSXpGLGdCQUFnQixDQUFDLENBQUM7TUFDM0MsSUFBTTBGLFlBQVksR0FBRy9HLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFJOUIsSUFBTStHLFlBQVksR0FBR0YsWUFBWSxDQUFDcEYsV0FBVyxDQUFDLFlBQVksRUFBRXFGLFlBQVksQ0FBQztNQUd6RUQsWUFBWSxDQUFDdkUsSUFBSSxDQUFDLFlBQVksRUFBRTtRQUFFcEMsS0FBSyxFQUFFO01BQU8sQ0FBQyxDQUFDO01BQ2xENEUsTUFBTSxDQUFDZ0MsWUFBWSxDQUFDLENBQUNFLG9CQUFvQixDQUFDO1FBQUU5RyxLQUFLLEVBQUU7TUFBTyxDQUFDLENBQUM7TUFHNUQ2RyxZQUFZLENBQUNoRixNQUFNLENBQUMsQ0FBQztNQUdyQitFLFlBQVksQ0FBQ0csU0FBUyxDQUFDLENBQUM7TUFDeEJKLFlBQVksQ0FBQ3ZFLElBQUksQ0FBQyxZQUFZLEVBQUU7UUFBRXBDLEtBQUssRUFBRTtNQUFRLENBQUMsQ0FBQztNQUNuRDRFLE1BQU0sQ0FBQ2dDLFlBQVksQ0FBQyxDQUFDL0IsR0FBRyxDQUFDbUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUM7SUFFRnZELElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxZQUFNO01BRXpENUQsSUFBSSxDQUFDb0gsYUFBYSxDQUFDLENBQUM7TUFDcEIsSUFBTUwsWUFBWSxHQUFHL0csSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUc5QixJQUFNb0gsT0FBTyxHQUFHM0csVUFBVSxDQUFDcUcsWUFBWSxFQUFFLEVBQUUsQ0FBQztNQUc1Q08sWUFBWSxDQUFDRCxPQUFPLENBQUM7TUFHckJySCxJQUFJLENBQUN1SCxtQkFBbUIsQ0FBQyxHQUFHLENBQUM7TUFHN0J4QyxNQUFNLENBQUNnQyxZQUFZLENBQUMsQ0FBQy9CLEdBQUcsQ0FBQ21DLGdCQUFnQixDQUFDLENBQUM7SUFDN0MsQ0FBQyxDQUFDO0lBRUZ2RCxJQUFJLENBQUMsZ0VBQWdFLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUVqRnZCLElBQUksQ0FBQ29ILGFBQWEsQ0FBQyxDQUFDO01BQ3BCLElBQU1JLGVBQWUsR0FBRyxJQUFJQyxlQUFlLENBQUMsQ0FBQztNQUM3QyxJQUFRQyxNQUFNLEdBQUtGLGVBQWUsQ0FBMUJFLE1BQU07TUFHZCxJQUFNQyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQW9CQSxDQUFBO1FBQUEsT0FBUyxJQUFJdkgsT0FBTyxDQUFDLFVBQUNDLE9BQU8sRUFBRUMsTUFBTSxFQUFLO1VBQ2xFLElBQU1zSCxVQUFVLEdBQUcsU0FBYkEsVUFBVUEsQ0FBQSxFQUFTO1lBQ3ZCLElBQUlGLE1BQU0sQ0FBQ0csT0FBTyxFQUFFO2NBQ2xCdkgsTUFBTSxDQUFDLElBQUlHLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2NBQ3RDLE9BQU8sSUFBSTtZQUNiO1lBQ0EsT0FBTyxLQUFLO1VBQ2QsQ0FBQztVQUdELElBQUltSCxVQUFVLENBQUMsQ0FBQyxFQUFFO1VBR2xCLElBQU1FLFVBQVUsR0FBR0MsV0FBVyxDQUFDLFlBQU07WUFDbkMsSUFBSUgsVUFBVSxDQUFDLENBQUMsRUFBRTtjQUNoQkksYUFBYSxDQUFDRixVQUFVLENBQUM7WUFDM0I7VUFDRixDQUFDLEVBQUUsQ0FBQyxDQUFDO1VBR0xwSCxVQUFVLENBQUMsWUFBTTtZQUNmc0gsYUFBYSxDQUFDRixVQUFVLENBQUM7WUFDekJ6SCxPQUFPLENBQUMscUJBQXFCLENBQUM7VUFDaEMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNSLENBQUMsQ0FBQztNQUFBO01BR0YsSUFBTTRILGdCQUFnQixHQUFHTixvQkFBb0IsQ0FBQyxDQUFDO01BRy9DSCxlQUFlLENBQUNVLEtBQUssQ0FBQyxDQUFDO01BR3ZCbEksSUFBSSxDQUFDdUgsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO01BRzNCLE1BQU14QyxNQUFNLENBQUNrRCxnQkFBZ0IsQ0FBQyxDQUFDRSxPQUFPLENBQUNDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztJQUNyRSxDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRmxGLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxZQUFNO0lBQ3ZDVSxJQUFJLENBQUMsc0RBQXNELE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUV2RSxJQUFNOEcsV0FBVztRQUFBLElBQUFDLEtBQUEsT0FBQXpFLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsV0FBTzhDLElBQVMsRUFBSztVQUV2QyxJQUFNa0UsY0FBYyxTQUFTbkksT0FBTyxDQUFDQyxPQUFPLENBQUNnRSxJQUFJLENBQUM7VUFHbEQsSUFBTW1FLGdCQUFnQixTQUFTcEksT0FBTyxDQUFDRSxNQUFNLENBQUMsSUFBSUcsS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7VUFHNUUsSUFBTWdJLFVBQVUsU0FBU3JJLE9BQU8sQ0FBQ0MsT0FBTyxDQUFBcUksTUFBQSxDQUFBQyxNQUFBLEtBQU1ILGdCQUFnQjtZQUFFSSxLQUFLLEVBQUU7VUFBSSxFQUFFLENBQUM7VUFFOUUsT0FBT0gsVUFBVTtRQUNuQixDQUFDO1FBQUEsZ0JBWEtKLFdBQVdBLENBQUFRLEdBQUE7VUFBQSxPQUFBUCxLQUFBLENBQUF4RixLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBV2hCO01BR0QsTUFBTXNDLE1BQU0sQ0FBQ3NELFdBQVcsQ0FBQztRQUFFekUsSUFBSSxFQUFFO01BQUssQ0FBQyxDQUFDLENBQUMsQ0FBQ3VFLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0lBQy9FLENBQUMsRUFBQztJQUVGeEUsSUFBSSxDQUFDLCtDQUErQyxNQUFBQyxrQkFBQSxDQUFBdEMsT0FBQSxFQUFFLGFBQVk7TUFFaEUsSUFBTXVILGNBQWM7UUFBQSxJQUFBQyxNQUFBLE9BQUFsRixrQkFBQSxDQUFBdEMsT0FBQSxFQUFHLGFBQVk7VUFDakMsTUFBTSxJQUFJZCxLQUFLLENBQUMsd0JBQXdCLENBQUM7UUFDM0MsQ0FBQztRQUFBLGdCQUZLcUksY0FBY0EsQ0FBQTtVQUFBLE9BQUFDLE1BQUEsQ0FBQWpHLEtBQUEsT0FBQUwsU0FBQTtRQUFBO01BQUEsR0FFbkI7TUFFRCxJQUFNdUcsZUFBZTtRQUFBLElBQUFDLE1BQUEsT0FBQXBGLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsYUFBWTtVQUNsQyxJQUFJO1lBQ0YsYUFBYXVILGNBQWMsQ0FBQyxDQUFDO1VBQy9CLENBQUMsQ0FBQyxPQUFPN0YsS0FBSyxFQUFFO1lBQ2QsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLDRCQUE2QndDLEtBQUssQ0FBV2lHLE9BQU8sRUFBRSxDQUFDO1VBQ3pFO1FBQ0YsQ0FBQztRQUFBLGdCQU5LRixlQUFlQSxDQUFBO1VBQUEsT0FBQUMsTUFBQSxDQUFBbkcsS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxHQU1wQjtNQUVELElBQU0wRyxjQUFjO1FBQUEsSUFBQUMsTUFBQSxPQUFBdkYsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxhQUFZO1VBQ2pDLElBQUk7WUFDRixhQUFheUgsZUFBZSxDQUFDLENBQUM7VUFDaEMsQ0FBQyxDQUFDLE9BQU8vRixLQUFLLEVBQUU7WUFDZCxNQUFNLElBQUl4QyxLQUFLLENBQUMsMkJBQTRCd0MsS0FBSyxDQUFXaUcsT0FBTyxFQUFFLENBQUM7VUFDeEU7UUFDRixDQUFDO1FBQUEsZ0JBTktDLGNBQWNBLENBQUE7VUFBQSxPQUFBQyxNQUFBLENBQUF0RyxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBTW5CO01BR0QsTUFBTXNDLE1BQU0sQ0FBQ29FLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQ2hCLE9BQU8sQ0FBQ0MsT0FBTyxDQUM1Qyx5RUFDRixDQUFDO0lBQ0gsQ0FBQyxFQUFDO0lBRUZ4RSxJQUFJLENBQUMsaUVBQWlFLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUVsRixJQUFNOEgsaUJBQWlCO1FBQUEsSUFBQUMsTUFBQSxPQUFBekYsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxXQUFPZ0ksR0FBVyxFQUFFQyxRQUFhLEVBQUs7VUFDOUQsSUFBSTtZQUNGLE1BQU0sSUFBSS9JLEtBQUssQ0FBQyxlQUFlLENBQUM7VUFDbEMsQ0FBQyxDQUFDLE9BQU93QyxLQUFLLEVBQUU7WUFDZEQsT0FBTyxDQUFDQyxLQUFLLENBQUMsc0JBQXNCLEVBQUVBLEtBQUssQ0FBQztZQUM1QyxPQUFPdUcsUUFBUTtVQUNqQjtRQUNGLENBQUM7UUFBQSxnQkFQS0gsaUJBQWlCQSxDQUFBSSxHQUFBLEVBQUFDLEdBQUE7VUFBQSxPQUFBSixNQUFBLENBQUF4RyxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBT3RCO01BR0QsSUFBTWtILE1BQU0sU0FBU04saUJBQWlCLENBQUMsOEJBQThCLEVBQUU7UUFBRUcsUUFBUSxFQUFFO01BQUssQ0FBQyxDQUFDO01BRzFGekUsTUFBTSxDQUFDNEUsTUFBTSxDQUFDLENBQUMxRSxPQUFPLENBQUM7UUFBRXVFLFFBQVEsRUFBRTtNQUFLLENBQUMsQ0FBQztNQUMxQ3pFLE1BQU0sQ0FBQzVCLGVBQWUsQ0FBQyxDQUFDZ0UsZ0JBQWdCLENBQUMsQ0FBQztJQUM1QyxDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRmpFLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxZQUFNO0lBQ2pDVSxJQUFJLENBQUMsaURBQWlELE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUVsRXZCLElBQUksQ0FBQ29ILGFBQWEsQ0FBQyxDQUFDO01BRXBCLElBQU13QyxjQUFjLEdBQUcsU0FBakJBLGNBQWNBLENBQUlDLEVBQVUsRUFBSztRQUNyQyxPQUFPLElBQUl6SixPQUFPLENBQUMsVUFBQzBKLENBQUMsRUFBRXhKLE1BQU0sRUFBSztVQUNoQ0ksVUFBVSxDQUFDO1lBQUEsT0FBTUosTUFBTSxDQUFDLElBQUlHLEtBQUssQ0FBQyw2QkFBNkJvSixFQUFFLElBQUksQ0FBQyxDQUFDO1VBQUEsR0FBRUEsRUFBRSxDQUFDO1FBQzlFLENBQUMsQ0FBQztNQUNKLENBQUM7TUFFRCxJQUFNRSxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUEsRUFBUztRQUMxQixPQUFPLElBQUkzSixPQUFPLENBQUMsVUFBQUMsT0FBTyxFQUFJO1VBQzVCSyxVQUFVLENBQUM7WUFBQSxPQUFNTCxPQUFPLENBQUMsU0FBUyxDQUFDO1VBQUEsR0FBRSxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDO01BQ0osQ0FBQztNQUdELElBQU0ySixXQUFXLEdBQUc1SixPQUFPLENBQUM2SixJQUFJLENBQUMsQ0FBQ0YsYUFBYSxDQUFDLENBQUMsRUFBRUgsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFHdkU1SixJQUFJLENBQUN1SCxtQkFBbUIsQ0FBQyxFQUFFLENBQUM7TUFHNUIsTUFBTXhDLE1BQU0sQ0FBQ2lGLFdBQVcsQ0FBQyxDQUFDN0IsT0FBTyxDQUFDQyxPQUFPLENBQUMsZ0NBQWdDLENBQUM7SUFDN0UsQ0FBQyxFQUFDO0lBRUZ4RSxJQUFJLENBQUMsc0RBQXNELE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUV2RXZCLElBQUksQ0FBQ29ILGFBQWEsQ0FBQyxDQUFDO01BRXBCLElBQU04QyxvQkFBb0I7UUFBQSxJQUFBQyxNQUFBLE9BQUF0RyxrQkFBQSxDQUFBdEMsT0FBQSxFQUFHLFdBQzNCNkksU0FBMkIsRUFDM0JDLFNBQWlCLEVBQ0Y7VUFDZixJQUFNQyxZQUFZLEdBQUcsSUFBSTdKLEtBQUssQ0FBQyw2QkFBNkI0SixTQUFTLElBQUksQ0FBQztVQUUxRSxJQUFJRSxTQUF5QjtVQUM3QixJQUFNWCxjQUFjLEdBQUcsSUFBSXhKLE9BQU8sQ0FBUSxVQUFDMEosQ0FBQyxFQUFFeEosTUFBTSxFQUFLO1lBQ3ZEaUssU0FBUyxHQUFHN0osVUFBVSxDQUFDO2NBQUEsT0FBTUosTUFBTSxDQUFDZ0ssWUFBWSxDQUFDO1lBQUEsR0FBRUQsU0FBUyxDQUFDO1VBQy9ELENBQUMsQ0FBQztVQUVGLE9BQU9qSyxPQUFPLENBQUM2SixJQUFJLENBQUMsQ0FDbEJHLFNBQVMsQ0FBQyxDQUFDLEVBQ1hSLGNBQWMsQ0FDZixDQUFDLENBQUNZLE9BQU8sQ0FBQyxZQUFNO1lBQ2ZsRCxZQUFZLENBQUNpRCxTQUFTLENBQUM7VUFDekIsQ0FBQyxDQUFDO1FBQ0osQ0FBQztRQUFBLGdCQWpCS0wsb0JBQW9CQSxDQUFBTyxHQUFBLEVBQUFDLEdBQUE7VUFBQSxPQUFBUCxNQUFBLENBQUFySCxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBaUJ6QjtNQUdELElBQU1zSCxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUE7UUFBQSxPQUFTLElBQUkzSixPQUFPLENBQVMsVUFBQUMsT0FBTyxFQUFJO1VBQ3pESyxVQUFVLENBQUM7WUFBQSxPQUFNTCxPQUFPLENBQUMsU0FBUyxDQUFDO1VBQUEsR0FBRSxFQUFFLENBQUM7UUFDMUMsQ0FBQyxDQUFDO01BQUE7TUFHRixJQUFNNEgsZ0JBQWdCLEdBQUdpQyxvQkFBb0IsQ0FBQztRQUFBLE9BQU1ILGFBQWEsQ0FBQyxDQUFDO01BQUEsR0FBRSxFQUFFLENBQUM7TUFHeEUvSixJQUFJLENBQUN1SCxtQkFBbUIsQ0FBQyxFQUFFLENBQUM7TUFHNUIsTUFBTXhDLE1BQU0sQ0FBQ2tELGdCQUFnQixDQUFDLENBQUNFLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0lBQ2xGLENBQUMsRUFBQztJQUVGeEUsSUFBSSxDQUFDLCtDQUErQyxNQUFBQyxrQkFBQSxDQUFBdEMsT0FBQSxFQUFFLGFBQVk7TUFFaEV2QixJQUFJLENBQUNvSCxhQUFhLENBQUM7UUFBRXVELFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxjQUFjO01BQUUsQ0FBQyxDQUFDO01BRy9ELElBQU1DLFVBQVUsR0FBR3hLLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO01BQzNELElBQU13SyxVQUFVLEdBQUd6SyxPQUFPLENBQUNFLE1BQU0sQ0FBQyxJQUFJRyxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQztNQUNoRixJQUFNcUssVUFBVSxHQUFHMUssT0FBTyxDQUFDQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7TUFHM0QsSUFBTXFHLE9BQU8sU0FBU3RHLE9BQU8sQ0FBQ3VHLFVBQVUsQ0FBQyxDQUFDaUUsVUFBVSxFQUFFQyxVQUFVLEVBQUVDLFVBQVUsQ0FBQyxDQUFDO01BRzlFL0YsTUFBTSxDQUFDMkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDRyxNQUFNLENBQUMsQ0FBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUM7TUFDM0NSLE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0csTUFBTSxDQUFDLENBQUN0QixJQUFJLENBQUMsVUFBVSxDQUFDO01BQzFDUixNQUFNLENBQUMyQixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNHLE1BQU0sQ0FBQyxDQUFDdEIsSUFBSSxDQUFDLFdBQVcsQ0FBQztNQUUzQyxJQUFJbUIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDRyxNQUFNLEtBQUssVUFBVSxFQUFFO1FBQ3BDOUIsTUFBTSxDQUFDMkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDcUUsTUFBTSxDQUFDN0IsT0FBTyxDQUFDLENBQUMzRCxJQUFJLENBQUMsa0NBQWtDLENBQUM7TUFDNUU7SUFDRixDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRnJDLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxZQUFNO0lBQ3RDVSxJQUFJLENBQUMsaURBQWlELE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUVsRSxJQUFNeUosZ0JBQWdCLEdBQUcsQ0FBQztNQUMxQixJQUFJQyxnQkFBZ0IsR0FBRyxDQUFDO01BQ3hCLElBQUlDLHVCQUF1QixHQUFHLENBQUM7TUFFL0IsSUFBTWQsU0FBUztRQUFBLElBQUFlLE1BQUEsT0FBQXRILGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsV0FBTzZKLEVBQVUsRUFBSztVQUN0Q0gsZ0JBQWdCLEVBQUU7VUFDbEJDLHVCQUF1QixHQUFHM0ssSUFBSSxDQUFDOEssR0FBRyxDQUFDSCx1QkFBdUIsRUFBRUQsZ0JBQWdCLENBQUM7VUFHN0UsTUFBTSxJQUFJN0ssT0FBTyxDQUFDLFVBQUFDLE9BQU87WUFBQSxPQUFJSyxVQUFVLENBQUNMLE9BQU8sRUFBRSxDQUFDLENBQUM7VUFBQSxFQUFDO1VBRXBENEssZ0JBQWdCLEVBQUU7VUFDbEIsT0FBTyxhQUFhRyxFQUFFLFlBQVk7UUFDcEMsQ0FBQztRQUFBLGdCQVRLaEIsU0FBU0EsQ0FBQWtCLEdBQUE7VUFBQSxPQUFBSCxNQUFBLENBQUFySSxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBU2Q7TUFHRCxJQUFNOEksdUJBQXVCO1FBQUEsSUFBQUMsTUFBQSxPQUFBM0gsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxXQUFPa0ssVUFBa0MsRUFBRUMsS0FBYSxFQUFLO1VBQzNGLElBQU1oRixPQUFjLEdBQUcsRUFBRTtVQUN6QixJQUFNaUYsU0FBeUIsR0FBRyxFQUFFO1VBQUMsSUFBQUMsS0FBQSxhQUFBQSxNQUFBQyxVQUFBLEVBRUQ7WUFDbEMsSUFBTUMsQ0FBQyxHQUFHMUwsT0FBTyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxDQUFDMEwsSUFBSSxDQUFDO2NBQUEsT0FBTTNCLFVBQVMsQ0FBQyxDQUFDO1lBQUEsRUFBQztZQUNuRDFELE9BQU8sQ0FBQzNFLElBQUksQ0FBQytKLENBQUMsQ0FBQztZQUVmLElBQUlKLEtBQUssSUFBSUQsVUFBVSxDQUFDL0ksTUFBTSxFQUFFO2NBQzlCLElBQU1LLENBQWUsR0FBRytJLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFlBQU07Z0JBQ25DSixTQUFTLENBQUN0SixNQUFNLENBQUNzSixTQUFTLENBQUN2SixPQUFPLENBQUNXLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztjQUMzQyxDQUFDLENBQUM7Y0FDRjRJLFNBQVMsQ0FBQzVKLElBQUksQ0FBQ2dCLENBQUMsQ0FBQztjQUVqQixJQUFJNEksU0FBUyxDQUFDakosTUFBTSxJQUFJZ0osS0FBSyxFQUFFO2dCQUM3QixNQUFNdEwsT0FBTyxDQUFDNkosSUFBSSxDQUFDMEIsU0FBUyxDQUFDO2NBQy9CO1lBQ0Y7VUFDRixDQUFDO1VBZEQsS0FBSyxJQUFNdkIsVUFBUyxJQUFJcUIsVUFBVTtZQUFBLE9BQUFHLEtBQUEsQ0FBQUMsVUFBQTtVQUFBO1VBZ0JsQyxPQUFPekwsT0FBTyxDQUFDc0UsR0FBRyxDQUFDZ0MsT0FBTyxDQUFDO1FBQzdCLENBQUM7UUFBQSxnQkFyQks2RSx1QkFBdUJBLENBQUFTLEdBQUEsRUFBQUMsR0FBQTtVQUFBLE9BQUFULE1BQUEsQ0FBQTFJLEtBQUEsT0FBQUwsU0FBQTtRQUFBO01BQUEsR0FxQjVCO01BR0QsSUFBTWdKLFVBQVUsR0FBR3ZLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQ2dMLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLFVBQUNyQyxDQUFDLEVBQUVzQyxDQUFDO1FBQUEsT0FBSztVQUFBLE9BQU1oQyxTQUFTLENBQUNnQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQUE7TUFBQSxFQUFDO01BQzVFLE1BQU1iLHVCQUF1QixDQUFDRSxVQUFVLEVBQUVULGdCQUFnQixDQUFDO01BRzNEakcsTUFBTSxDQUFDbUcsdUJBQXVCLENBQUMsQ0FBQ21CLG1CQUFtQixDQUFDckIsZ0JBQWdCLENBQUM7SUFDdkUsQ0FBQyxFQUFDO0lBRUZwSCxJQUFJLENBQUMsdUVBQXVFLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUV4RixJQUFNa0ssVUFBVSxHQUFHLENBQ2pCO1FBQUEsT0FBTXJMLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLHFCQUFxQixDQUFDO01BQUEsR0FDNUM7UUFBQSxPQUFNRCxPQUFPLENBQUNFLE1BQU0sQ0FBQyxJQUFJRyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztNQUFBLEdBQ3JEO1FBQUEsT0FBTUwsT0FBTyxDQUFDQyxPQUFPLENBQUMscUJBQXFCLENBQUM7TUFBQSxHQUM1QztRQUFBLE9BQU1ELE9BQU8sQ0FBQ0UsTUFBTSxDQUFDLElBQUlHLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO01BQUEsR0FDckQ7UUFBQSxPQUFNTCxPQUFPLENBQUNDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztNQUFBLEVBQzdDO01BR0QsSUFBTXFHLE9BQU8sU0FBU3RHLE9BQU8sQ0FBQ3VHLFVBQVUsQ0FBQzhFLFVBQVUsQ0FBQ1UsR0FBRyxDQUFDLFVBQUFHLEVBQUU7UUFBQSxPQUFJQSxFQUFFLENBQUMsQ0FBQztNQUFBLEVBQUMsQ0FBQztNQUdwRXZILE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0csTUFBTSxDQUFDLENBQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDO01BQzNDUixNQUFNLENBQUMyQixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNHLE1BQU0sQ0FBQyxDQUFDdEIsSUFBSSxDQUFDLFVBQVUsQ0FBQztNQUMxQ1IsTUFBTSxDQUFDMkIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDRyxNQUFNLENBQUMsQ0FBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUM7TUFDM0NSLE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0csTUFBTSxDQUFDLENBQUN0QixJQUFJLENBQUMsVUFBVSxDQUFDO01BQzFDUixNQUFNLENBQUMyQixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNHLE1BQU0sQ0FBQyxDQUFDdEIsSUFBSSxDQUFDLFdBQVcsQ0FBQztNQUUzQyxJQUFNZ0gsY0FBYyxHQUFHN0YsT0FBTyxDQUFDOEYsTUFBTSxDQUFDLFVBQUEvRixDQUFDO1FBQUEsT0FBSUEsQ0FBQyxDQUFDSSxNQUFNLEtBQUssV0FBVztNQUFBLEVBQUM7TUFDcEU5QixNQUFNLENBQUN3SCxjQUFjLENBQUM3SixNQUFNLENBQUMsQ0FBQzZDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxFQUFDO0lBRUYzQixJQUFJLENBQUMsa0RBQWtELE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQVFuRSxJQUFNa0wsYUFBMEIsR0FBRyxDQUNqQztRQUFFckIsRUFBRSxFQUFFLENBQUM7UUFBRXNCLFFBQVEsRUFBRSxDQUFDO1FBQUV0QyxTQUFTLEVBQUUsU0FBWEEsU0FBU0EsQ0FBQTtVQUFBLE9BQVFoSyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztRQUFBO01BQUMsQ0FBQyxFQUNoRjtRQUFFK0ssRUFBRSxFQUFFLENBQUM7UUFBRXNCLFFBQVEsRUFBRSxDQUFDO1FBQUV0QyxTQUFTLEVBQUUsU0FBWEEsU0FBU0EsQ0FBQTtVQUFBLE9BQVFoSyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztRQUFBO01BQUMsQ0FBQyxFQUM5RTtRQUFFK0ssRUFBRSxFQUFFLENBQUM7UUFBRXNCLFFBQVEsRUFBRSxDQUFDO1FBQUV0QyxTQUFTLEVBQUUsU0FBWEEsU0FBU0EsQ0FBQTtVQUFBLE9BQVFoSyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztRQUFBO01BQUMsQ0FBQyxFQUM3RTtRQUFFK0ssRUFBRSxFQUFFLENBQUM7UUFBRXNCLFFBQVEsRUFBRSxDQUFDO1FBQUV0QyxTQUFTLEVBQUUsU0FBWEEsU0FBU0EsQ0FBQTtVQUFBLE9BQVFoSyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztRQUFBO01BQUMsQ0FBQyxFQUM5RTtRQUFFK0ssRUFBRSxFQUFFLENBQUM7UUFBRXNCLFFBQVEsRUFBRSxDQUFDO1FBQUV0QyxTQUFTLEVBQUUsU0FBWEEsU0FBU0EsQ0FBQTtVQUFBLE9BQVFoSyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztRQUFBO01BQUMsQ0FBQyxDQUNqRjtNQUdEb00sYUFBYSxDQUFDRSxJQUFJLENBQUMsVUFBQ0MsQ0FBQyxFQUFFQyxDQUFDO1FBQUEsT0FBS0QsQ0FBQyxDQUFDRixRQUFRLEdBQUdHLENBQUMsQ0FBQ0gsUUFBUTtNQUFBLEVBQUM7TUFHckQsSUFBTUksY0FBd0IsR0FBRyxFQUFFO01BQ25DLElBQU1DLFFBQVEsU0FBUzNNLE9BQU8sQ0FBQ3NFLEdBQUcsQ0FDaEMrSCxhQUFhLENBQUNOLEdBQUcsQ0FBQyxVQUFBYSxJQUFJLEVBQUk7UUFDeEIsT0FBT0EsSUFBSSxDQUFDNUMsU0FBUyxDQUFDLENBQUMsQ0FBQzJCLElBQUksQ0FBQyxVQUFBcEMsTUFBTSxFQUFJO1VBQ3JDbUQsY0FBYyxDQUFDL0ssSUFBSSxDQUFDaUwsSUFBSSxDQUFDNUIsRUFBRSxDQUFDO1VBQzVCLE9BQU96QixNQUFNO1FBQ2YsQ0FBQyxDQUFDO01BQ0osQ0FBQyxDQUNILENBQUM7TUFJRDVFLE1BQU0sQ0FBQytILGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDdkgsSUFBSSxDQUFDLENBQUMsQ0FBQztNQUNqQ1IsTUFBTSxDQUFDK0gsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUN2SCxJQUFJLENBQUMsQ0FBQyxDQUFDO01BR2pDUixNQUFNLENBQUMrSCxjQUFjLENBQUNBLGNBQWMsQ0FBQ3BLLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDNkMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRnJDLFFBQVEsQ0FBQywyQkFBMkIsRUFBRSxZQUFNO0lBQzFDVSxJQUFJLENBQUMscUNBQXFDLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUV0RCxJQUFNMEwsWUFBWSxHQUFHO1FBQ25CQyxNQUFNLEVBQUU7VUFDTkMsTUFBTSxFQUFFO1lBQ05DLE1BQU0sRUFBRTtjQUNOQyxNQUFNLEVBQUU7Z0JBQ05DLE1BQU0sRUFBRTtrQkFDTm5OLEtBQUssRUFBRTtnQkFDVDtjQUNGO1lBQ0Y7VUFDRjtRQUNGO01BQ0YsQ0FBQztNQUdELE1BQU1QLFdBQVcsQ0FBQ0csT0FBTyxDQUFDLGNBQWMsRUFBRWdFLElBQUksQ0FBQ0MsU0FBUyxDQUFDaUosWUFBWSxDQUFDLENBQUM7TUFDdkUsSUFBTU0sU0FBUyxHQUFHeEosSUFBSSxDQUFDTyxLQUFLLENBQUMsT0FBTTFFLFdBQVcsQ0FBQ2dCLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSSxJQUFJLENBQUM7TUFHL0VtRSxNQUFNLENBQUN3SSxTQUFTLENBQUNMLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDbk4sS0FBSyxDQUFDLENBQUNvRixJQUFJLENBQUMsWUFBWSxDQUFDO0lBQy9FLENBQUMsRUFBQztJQUVGM0IsSUFBSSxDQUFDLG1DQUFtQyxNQUFBQyxrQkFBQSxDQUFBdEMsT0FBQSxFQUFFLGFBQVk7TUFFcEQsSUFBTWlNLFFBQWEsR0FBRztRQUNwQkMsSUFBSSxFQUFFLGlCQUFpQjtRQUN2QnROLEtBQUssRUFBRTtNQUNULENBQUM7TUFDRHFOLFFBQVEsQ0FBQ0UsSUFBSSxHQUFHRixRQUFRO01BR3hCQSxRQUFRLENBQUNHLEtBQUssR0FBRztRQUNmQyxNQUFNLEVBQUVKLFFBQVE7UUFDaEJDLElBQUksRUFBRTtNQUNSLENBQUM7TUFHRDFJLE1BQU0sQ0FBQztRQUFBLE9BQU1oQixJQUFJLENBQUNDLFNBQVMsQ0FBQ3dKLFFBQVEsQ0FBQztNQUFBLEVBQUMsQ0FBQ3BGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztNQUdyRSxJQUFNeUYsbUJBQW1CLEdBQUcsU0FBdEJBLG1CQUFtQkEsQ0FBQSxFQUFTO1FBQ2hDLElBQU1DLFVBQVUsR0FBRyxJQUFJaE8sR0FBRyxDQUFDLENBQUM7UUFDNUIsSUFBSWlPLE9BQU8sR0FBRyxDQUFDO1FBRWYsSUFBTUMsTUFBTSxHQUFHLFNBQVRBLE1BQU1BLENBQUk3TixLQUFVLEVBQWM7VUFDdEMsSUFBSSxPQUFPQSxLQUFLLEtBQUssUUFBUSxJQUFJQSxLQUFLLEtBQUssSUFBSSxFQUFFO1lBQy9DLE9BQU8sS0FBSztVQUNkO1VBRUEsSUFBSTJOLFVBQVUsQ0FBQ2hNLEdBQUcsQ0FBQzNCLEtBQUssQ0FBQyxFQUFFO1lBQ3pCLE9BQU8sSUFBSTtVQUNiO1VBRUEyTixVQUFVLENBQUNuTixHQUFHLENBQUNSLEtBQUssRUFBRSxFQUFFNE4sT0FBTyxDQUFDO1VBQ2hDLE9BQU8sS0FBSztRQUNkLENBQUM7UUFFRCxPQUFPLFVBQUM3TixHQUFXLEVBQUVDLEtBQVUsRUFBSztVQUNsQyxJQUFJRCxHQUFHLEtBQUssRUFBRSxJQUFJLENBQUM4TixNQUFNLENBQUM3TixLQUFLLENBQUMsRUFBRTtZQUNoQyxPQUFPQSxLQUFLO1VBQ2Q7VUFFQSxPQUFPLHNCQUFzQjtRQUMvQixDQUFDO01BQ0gsQ0FBQztNQUdELElBQU04TixVQUFVLEdBQUdsSyxJQUFJLENBQUNDLFNBQVMsQ0FBQ3dKLFFBQVEsRUFBRUssbUJBQW1CLENBQUMsQ0FBQyxDQUFDO01BR2xFOUksTUFBTSxDQUFDa0osVUFBVSxDQUFDLENBQUNDLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQztNQUNwRG5KLE1BQU0sQ0FBQ2tKLFVBQVUsQ0FBQyxDQUFDQyxTQUFTLENBQUMsaUJBQWlCLENBQUM7TUFDL0NuSixNQUFNLENBQUNrSixVQUFVLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLGNBQWMsQ0FBQztNQUc1QyxJQUFNQyxZQUFZLEdBQUdwSyxJQUFJLENBQUNPLEtBQUssQ0FBQzJKLFVBQVUsQ0FBQztNQUMzQ2xKLE1BQU0sQ0FBQ29KLFlBQVksQ0FBQ1YsSUFBSSxDQUFDLENBQUNsSSxJQUFJLENBQUMsaUJBQWlCLENBQUM7TUFDakRSLE1BQU0sQ0FBQ29KLFlBQVksQ0FBQ2hPLEtBQUssQ0FBQyxDQUFDb0YsSUFBSSxDQUFDLEVBQUUsQ0FBQztNQUNuQ1IsTUFBTSxDQUFDb0osWUFBWSxDQUFDUixLQUFLLENBQUNGLElBQUksQ0FBQyxDQUFDbEksSUFBSSxDQUFDLGNBQWMsQ0FBQztNQUVwRFIsTUFBTSxDQUFDb0osWUFBWSxDQUFDVCxJQUFJLENBQUMsQ0FBQ25JLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztNQUN0RFIsTUFBTSxDQUFDb0osWUFBWSxDQUFDUixLQUFLLENBQUNDLE1BQU0sQ0FBQyxDQUFDckksSUFBSSxDQUFDLHNCQUFzQixDQUFDO0lBQ2hFLENBQUMsRUFBQztJQUVGM0IsSUFBSSxDQUFDLDhDQUE4QyxNQUFBQyxrQkFBQSxDQUFBdEMsT0FBQSxFQUFFLGFBQVk7TUFFL0QsSUFBTTZNLGtCQUFrQixHQUFHO1FBQ3pCQyxLQUFLLEVBQUUsWUFBWTtRQUNuQkMsTUFBTSxFQUFFLGVBQWU7UUFDdkJDLE9BQU8sRUFBRSxNQUFNO1FBQ2ZDLE9BQU8sRUFBRSxhQUFhO1FBQ3RCQyxRQUFRLEVBQUUsU0FBUztRQUNuQkMsTUFBTSxFQUFFLFVBQVU7UUFDbEJDLElBQUksRUFBRSxjQUFjO1FBQ3BCQyxZQUFZLEVBQUUsaUJBQWlCO1FBQy9CQyxXQUFXLEVBQUU7TUFDZixDQUFDO01BR0QsTUFBTWpQLFdBQVcsQ0FBQ0csT0FBTyxDQUFDLGNBQWMsRUFBRWdFLElBQUksQ0FBQ0MsU0FBUyxDQUFDb0ssa0JBQWtCLENBQUMsQ0FBQztNQUM3RSxJQUFNYixTQUFTLEdBQUd4SixJQUFJLENBQUNPLEtBQUssQ0FBQyxPQUFNMUUsV0FBVyxDQUFDZ0IsT0FBTyxDQUFDLGNBQWMsQ0FBQyxLQUFJLElBQUksQ0FBQztNQUcvRW1FLE1BQU0sQ0FBQ3dJLFNBQVMsQ0FBQ2MsS0FBSyxDQUFDLENBQUM5SSxJQUFJLENBQUM2SSxrQkFBa0IsQ0FBQ0MsS0FBSyxDQUFDO01BQ3REdEosTUFBTSxDQUFDd0ksU0FBUyxDQUFDZSxNQUFNLENBQUMsQ0FBQy9JLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDRSxNQUFNLENBQUM7TUFDeER2SixNQUFNLENBQUN3SSxTQUFTLENBQUNnQixPQUFPLENBQUMsQ0FBQ2hKLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDRyxPQUFPLENBQUM7TUFDMUR4SixNQUFNLENBQUN3SSxTQUFTLENBQUNpQixPQUFPLENBQUMsQ0FBQ2pKLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDSSxPQUFPLENBQUM7TUFDMUR6SixNQUFNLENBQUN3SSxTQUFTLENBQUNrQixRQUFRLENBQUMsQ0FBQ2xKLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDSyxRQUFRLENBQUM7TUFDNUQxSixNQUFNLENBQUN3SSxTQUFTLENBQUNtQixNQUFNLENBQUMsQ0FBQ25KLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDTSxNQUFNLENBQUM7TUFDeEQzSixNQUFNLENBQUN3SSxTQUFTLENBQUNvQixJQUFJLENBQUMsQ0FBQ3BKLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDTyxJQUFJLENBQUM7TUFDcEQ1SixNQUFNLENBQUN3SSxTQUFTLENBQUNxQixZQUFZLENBQUMsQ0FBQ3JKLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDUSxZQUFZLENBQUM7TUFDcEU3SixNQUFNLENBQUN3SSxTQUFTLENBQUNzQixXQUFXLENBQUMsQ0FBQ3RKLElBQUksQ0FBQzZJLGtCQUFrQixDQUFDUyxXQUFXLENBQUM7SUFDcEUsQ0FBQyxFQUFDO0lBRUZqTCxJQUFJLENBQUMsOEJBQThCLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUUvQyxJQUFNdU4sYUFBYSxHQUFHLDREQUE0RDtNQUdsRi9KLE1BQU0sQ0FBQztRQUFBLE9BQU1oQixJQUFJLENBQUNPLEtBQUssQ0FBQ3dLLGFBQWEsQ0FBQztNQUFBLEVBQUMsQ0FBQzFHLE9BQU8sQ0FBQzJHLFdBQVcsQ0FBQztNQUc1RCxJQUFNQyxTQUFTLEdBQUcsU0FBWkEsU0FBU0EsQ0FBSUMsSUFBWSxFQUF5QjtRQUFBLElBQXZCekYsUUFBYSxHQUFBL0csU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQTRELFNBQUEsR0FBQTVELFNBQUEsTUFBRyxDQUFDLENBQUM7UUFDakQsSUFBSTtVQUNGLE9BQU9zQixJQUFJLENBQUNPLEtBQUssQ0FBQzJLLElBQUksQ0FBQztRQUN6QixDQUFDLENBQUMsT0FBT2hNLEtBQUssRUFBRTtVQUNkRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRUEsS0FBSyxDQUFDO1VBQzNDLE9BQU91RyxRQUFRO1FBQ2pCO01BQ0YsQ0FBQztNQUdELElBQU1HLE1BQU0sR0FBR3FGLFNBQVMsQ0FBQ0YsYUFBYSxFQUFFO1FBQUU3TCxLQUFLLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFHeEQ4QixNQUFNLENBQUM0RSxNQUFNLENBQUMsQ0FBQzFFLE9BQU8sQ0FBQztRQUFFaEMsS0FBSyxFQUFFO01BQUssQ0FBQyxDQUFDO01BQ3ZDOEIsTUFBTSxDQUFDNUIsZUFBZSxDQUFDLENBQUNnRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzVDLENBQUMsRUFBQztFQUNKLENBQUMsQ0FBQztFQUVGakUsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQU07SUFDbENVLElBQUksQ0FBQyw4Q0FBOEMsTUFBQUMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRSxhQUFZO01BRS9ELElBQU0yTixLQUFLO1FBQUEsSUFBQUMsTUFBQSxPQUFBdEwsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxhQUFZO1VBQ3hCLE1BQU0sSUFBSWQsS0FBSyxDQUFDLGlCQUFpQixDQUFDO1FBQ3BDLENBQUM7UUFBQSxnQkFGS3lPLEtBQUtBLENBQUE7VUFBQSxPQUFBQyxNQUFBLENBQUFyTSxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBRVY7TUFFRCxJQUFNMk0sS0FBSztRQUFBLElBQUFDLE1BQUEsT0FBQXhMLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsYUFBWTtVQUN4QixNQUFNMk4sS0FBSyxDQUFDLENBQUM7VUFDYixPQUFPLGtCQUFrQjtRQUMzQixDQUFDO1FBQUEsZ0JBSEtFLEtBQUtBLENBQUE7VUFBQSxPQUFBQyxNQUFBLENBQUF2TSxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBR1Y7TUFFRCxJQUFNNk0sS0FBSztRQUFBLElBQUFDLE1BQUEsT0FBQTFMLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsYUFBWTtVQUN4QixJQUFNb0ksTUFBTSxTQUFTeUYsS0FBSyxDQUFDLENBQUM7VUFDNUIsT0FBTyx5QkFBeUJ6RixNQUFNLEVBQUU7UUFDMUMsQ0FBQztRQUFBLGdCQUhLMkYsS0FBS0EsQ0FBQTtVQUFBLE9BQUFDLE1BQUEsQ0FBQXpNLEtBQUEsT0FBQUwsU0FBQTtRQUFBO01BQUEsR0FHVjtNQUdELE1BQU1zQyxNQUFNLENBQUN1SyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNuSCxPQUFPLENBQUNDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztJQUMxRCxDQUFDLEVBQUM7SUFFRnhFLElBQUksQ0FBQyw4Q0FBOEMsTUFBQUMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRSxhQUFZO01BRS9ELElBQU0yTixLQUFLO1FBQUEsSUFBQU0sTUFBQSxPQUFBM0wsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxhQUFZO1VBQ3hCLE1BQU0sSUFBSWQsS0FBSyxDQUFDLDRCQUE0QixDQUFDO1FBQy9DLENBQUM7UUFBQSxnQkFGS3lPLEtBQUtBLENBQUE7VUFBQSxPQUFBTSxNQUFBLENBQUExTSxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBRVY7TUFFRCxJQUFNMk0sS0FBSztRQUFBLElBQUFLLE1BQUEsT0FBQTVMLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsYUFBWTtVQUN4QixJQUFJO1lBQ0YsTUFBTTJOLEtBQUssQ0FBQyxDQUFDO1lBQ2IsT0FBTyxrQkFBa0I7VUFDM0IsQ0FBQyxDQUFDLE9BQU9qTSxLQUFLLEVBQUU7WUFDZCxNQUFNLElBQUl4QyxLQUFLLENBQUMseUJBQTBCd0MsS0FBSyxDQUFXaUcsT0FBTyxFQUFFLENBQUM7VUFDdEU7UUFDRixDQUFDO1FBQUEsZ0JBUEtrRyxLQUFLQSxDQUFBO1VBQUEsT0FBQUssTUFBQSxDQUFBM00sS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxHQU9WO01BRUQsSUFBTTZNLEtBQUs7UUFBQSxJQUFBSSxNQUFBLE9BQUE3TCxrQkFBQSxDQUFBdEMsT0FBQSxFQUFHLGFBQVk7VUFDeEIsSUFBSTtZQUNGLElBQU1vSSxNQUFNLFNBQVN5RixLQUFLLENBQUMsQ0FBQztZQUM1QixPQUFPLHlCQUF5QnpGLE1BQU0sRUFBRTtVQUMxQyxDQUFDLENBQUMsT0FBTzFHLEtBQUssRUFBRTtZQUNkLE1BQU0sSUFBSXhDLEtBQUssQ0FBQyxxQkFBc0J3QyxLQUFLLENBQVdpRyxPQUFPLEVBQUUsQ0FBQztVQUNsRTtRQUNGLENBQUM7UUFBQSxnQkFQS29HLEtBQUtBLENBQUE7VUFBQSxPQUFBSSxNQUFBLENBQUE1TSxLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBT1Y7TUFHRCxNQUFNc0MsTUFBTSxDQUFDdUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDbkgsT0FBTyxDQUFDQyxPQUFPLENBQUMsb0VBQW9FLENBQUM7SUFDN0csQ0FBQyxFQUFDO0lBRUZ4RSxJQUFJLENBQUMsK0NBQStDLE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQU9oRSxJQUFNb08sY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUNsQnpHLE9BQWUsRUFDZjBHLElBQWEsRUFDYkMsT0FBNkIsRUFDaEI7UUFDYixJQUFNNU0sS0FBSyxHQUFHLElBQUl4QyxLQUFLLENBQUN5SSxPQUFPLENBQWE7UUFDNUMsSUFBSTBHLElBQUksRUFBRTNNLEtBQUssQ0FBQzJNLElBQUksR0FBR0EsSUFBSTtRQUMzQixJQUFJQyxPQUFPLEVBQUU1TSxLQUFLLENBQUM0TSxPQUFPLEdBQUdBLE9BQU87UUFDcEMsT0FBTzVNLEtBQUs7TUFDZCxDQUFDO01BRUQsSUFBTTZNLGdCQUFnQjtRQUFBLElBQUFDLE1BQUEsT0FBQWxNLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsV0FBT3NPLE9BQWUsRUFBSztVQUNsRCxJQUFJO1lBQ0YsTUFBTSxJQUFJcFAsS0FBSyxDQUFDLGtCQUFrQixDQUFDO1VBQ3JDLENBQUMsQ0FBQyxPQUFPd0MsS0FBSyxFQUFFO1lBQ2QsSUFBTStNLFFBQVEsR0FBR0wsY0FBYyxDQUM1QjFNLEtBQUssQ0FBV2lHLE9BQU8sRUFDeEIsaUJBQWlCLEVBQ2pCO2NBQUUyRyxPQUFPLEVBQVBBO1lBQVEsQ0FDWixDQUFDO1lBQ0QsTUFBTUcsUUFBUTtVQUNoQjtRQUNGLENBQUM7UUFBQSxnQkFYS0YsZ0JBQWdCQSxDQUFBRyxHQUFBO1VBQUEsT0FBQUYsTUFBQSxDQUFBak4sS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxHQVdyQjtNQUdELElBQUk7UUFDRixNQUFNcU4sZ0JBQWdCLENBQUMsY0FBYyxDQUFDO1FBQ3RDSSxJQUFJLENBQUMsNkJBQTZCLENBQUM7TUFDckMsQ0FBQyxDQUFDLE9BQU9qTixLQUFVLEVBQUU7UUFDbkI4QixNQUFNLENBQUM5QixLQUFLLENBQUNpRyxPQUFPLENBQUMsQ0FBQzNELElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUM5Q1IsTUFBTSxDQUFDOUIsS0FBSyxDQUFDMk0sSUFBSSxDQUFDLENBQUNySyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDMUNSLE1BQU0sQ0FBQzlCLEtBQUssQ0FBQzRNLE9BQU8sQ0FBQyxDQUFDNUssT0FBTyxDQUFDO1VBQUU0SyxPQUFPLEVBQUU7UUFBZSxDQUFDLENBQUM7TUFDNUQ7SUFDRixDQUFDLEVBQUM7SUFFRmpNLElBQUksQ0FBQyxrREFBa0QsTUFBQUMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRSxhQUFZO01BRW5FLElBQU1rSyxVQUFVLEdBQUcsQ0FDakI7UUFBQSxPQUFNckwsT0FBTyxDQUFDQyxPQUFPLENBQUMscUJBQXFCLENBQUM7TUFBQSxHQUM1QztRQUFBLE9BQU1ELE9BQU8sQ0FBQ0UsTUFBTSxDQUFDLElBQUlHLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO01BQUEsR0FDckQ7UUFBQSxPQUFNTCxPQUFPLENBQUNDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztNQUFBLEdBQzVDO1FBQUEsT0FBTUQsT0FBTyxDQUFDRSxNQUFNLENBQUMsSUFBSUcsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7TUFBQSxFQUN0RDtNQUdELElBQU0wUCxVQUFVO1FBQUEsSUFBQUMsTUFBQSxPQUFBdk0sa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRyxXQUFPOE8sR0FBMkIsRUFBSztVQUN4RCxJQUFNM0osT0FBTyxTQUFTdEcsT0FBTyxDQUFDdUcsVUFBVSxDQUFDMEosR0FBRyxDQUFDbEUsR0FBRyxDQUFDLFVBQUFHLEVBQUU7WUFBQSxPQUFJQSxFQUFFLENBQUMsQ0FBQztVQUFBLEVBQUMsQ0FBQztVQUU3RCxJQUFNZ0UsU0FBUyxHQUFHNUosT0FBTyxDQUN0QjhGLE1BQU0sQ0FBQyxVQUFDL0YsQ0FBQztZQUFBLE9BQXVDQSxDQUFDLENBQUNJLE1BQU0sS0FBSyxXQUFXO1VBQUEsRUFBQyxDQUN6RXNGLEdBQUcsQ0FBQyxVQUFBMUYsQ0FBQztZQUFBLE9BQUlBLENBQUMsQ0FBQ3RHLEtBQUs7VUFBQSxFQUFDO1VBRXBCLElBQU1vUSxRQUFRLEdBQUc3SixPQUFPLENBQ3JCOEYsTUFBTSxDQUFDLFVBQUMvRixDQUFDO1lBQUEsT0FBaUNBLENBQUMsQ0FBQ0ksTUFBTSxLQUFLLFVBQVU7VUFBQSxFQUFDLENBQ2xFc0YsR0FBRyxDQUFDLFVBQUExRixDQUFDO1lBQUEsT0FBSUEsQ0FBQyxDQUFDc0UsTUFBTTtVQUFBLEVBQUM7VUFFckIsSUFBSXdGLFFBQVEsQ0FBQzdOLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDdkIsSUFBTU8sS0FBSyxHQUFHLElBQUl4QyxLQUFLLENBQUMsR0FBRzhQLFFBQVEsQ0FBQzdOLE1BQU0sb0JBQW9CLENBQUM7WUFDOURPLEtBQUssQ0FBU3NOLFFBQVEsR0FBR0EsUUFBUTtZQUNqQ3ROLEtBQUssQ0FBU3FOLFNBQVMsR0FBR0EsU0FBUztZQUNwQyxNQUFNck4sS0FBSztVQUNiO1VBRUEsT0FBT3FOLFNBQVM7UUFDbEIsQ0FBQztRQUFBLGdCQW5CS0gsVUFBVUEsQ0FBQUssSUFBQTtVQUFBLE9BQUFKLE1BQUEsQ0FBQXROLEtBQUEsT0FBQUwsU0FBQTtRQUFBO01BQUEsR0FtQmY7TUFHRCxJQUFJO1FBQ0YsTUFBTTBOLFVBQVUsQ0FBQzFFLFVBQVUsQ0FBQztRQUM1QnlFLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztNQUNyQyxDQUFDLENBQUMsT0FBT2pOLEtBQVUsRUFBRTtRQUNuQjhCLE1BQU0sQ0FBQzlCLEtBQUssQ0FBQ2lHLE9BQU8sQ0FBQyxDQUFDM0QsSUFBSSxDQUFDLHFCQUFxQixDQUFDO1FBQ2pEUixNQUFNLENBQUM5QixLQUFLLENBQUNzTixRQUFRLENBQUM3TixNQUFNLENBQUMsQ0FBQzZDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDckNSLE1BQU0sQ0FBQzlCLEtBQUssQ0FBQ3NOLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ3JILE9BQU8sQ0FBQyxDQUFDM0QsSUFBSSxDQUFDLG9CQUFvQixDQUFDO1FBQzVEUixNQUFNLENBQUM5QixLQUFLLENBQUNzTixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNySCxPQUFPLENBQUMsQ0FBQzNELElBQUksQ0FBQyxvQkFBb0IsQ0FBQztRQUM1RFIsTUFBTSxDQUFDOUIsS0FBSyxDQUFDcU4sU0FBUyxDQUFDNU4sTUFBTSxDQUFDLENBQUM2QyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RDUixNQUFNLENBQUM5QixLQUFLLENBQUNxTixTQUFTLENBQUMsQ0FBQ3JMLE9BQU8sQ0FBQyxDQUFDLHFCQUFxQixFQUFFLHFCQUFxQixDQUFDLENBQUM7TUFDakY7SUFDRixDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRi9CLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxZQUFNO0lBQ2pDVSxJQUFJLENBQUMsaURBQWlELE1BQUFDLGtCQUFBLENBQUF0QyxPQUFBLEVBQUUsYUFBWTtNQUVsRSxJQUFJa1AsUUFBUSxHQUFHLENBQUM7TUFDaEIsSUFBTUMsV0FBVyxHQUFHLENBQUM7TUFFckIsSUFBTUMsbUJBQW1CLEdBQUczUSxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUN1RCxrQkFBa0IsQ0FBQyxZQUFNO1FBQzdEaU4sUUFBUSxFQUFFO1FBQ1YsSUFBSUEsUUFBUSxHQUFHLENBQUMsRUFBRTtVQUNoQixPQUFPclEsT0FBTyxDQUFDRSxNQUFNLENBQUMsSUFBSUcsS0FBSyxDQUFDLFdBQVdnUSxRQUFRLFNBQVMsQ0FBQyxDQUFDO1FBQ2hFO1FBQ0EsT0FBT3JRLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLHNCQUFzQm9RLFFBQVEsRUFBRSxDQUFDO01BQzFELENBQUMsQ0FBQztNQUVGLElBQU1HLFNBQVM7UUFBQSxJQUFBQyxNQUFBLE9BQUFoTixrQkFBQSxDQUFBdEMsT0FBQSxFQUFHLFdBQ2hCNkksU0FBMkIsRUFDM0JoRSxVQUFrQixFQUNIO1VBQUEsSUFBQTBLLFVBQUE7VUFDZixJQUFJQyxTQUF1QixHQUFHLElBQUk7VUFFbEMsS0FBSyxJQUFJQyxPQUFPLEdBQUcsQ0FBQyxFQUFFQSxPQUFPLElBQUk1SyxVQUFVLEVBQUU0SyxPQUFPLEVBQUUsRUFBRTtZQUN0RCxJQUFJO2NBQ0YsYUFBYTVHLFNBQVMsQ0FBQyxDQUFDO1lBQzFCLENBQUMsQ0FBQyxPQUFPbkgsS0FBSyxFQUFFO2NBQ2Q4TixTQUFTLEdBQUc5TixLQUFjO2NBQzFCRCxPQUFPLENBQUNpTyxJQUFJLENBQUMsV0FBV0QsT0FBTyxZQUFZRCxTQUFTLENBQUM3SCxPQUFPLEVBQUUsQ0FBQztjQUUvRCxJQUFJOEgsT0FBTyxHQUFHNUssVUFBVSxFQUFFO2dCQUV4QixNQUFNLElBQUloRyxPQUFPLENBQUMsVUFBQUMsT0FBTztrQkFBQSxPQUFJSyxVQUFVLENBQUNMLE9BQU8sRUFBRSxDQUFDLENBQUM7Z0JBQUEsRUFBQztjQUN0RDtZQUNGO1VBQ0Y7VUFFQSxNQUFNLElBQUlJLEtBQUssQ0FBQyxPQUFPMkYsVUFBVSxrQ0FBQTBLLFVBQUEsR0FBaUNDLFNBQVMscUJBQVRELFVBQUEsQ0FBVzVILE9BQU8sRUFBRSxDQUFDO1FBQ3pGLENBQUM7UUFBQSxnQkFyQkswSCxTQUFTQSxDQUFBTSxJQUFBLEVBQUFDLElBQUE7VUFBQSxPQUFBTixNQUFBLENBQUEvTixLQUFBLE9BQUFMLFNBQUE7UUFBQTtNQUFBLEdBcUJkO01BR0QsSUFBTWtILE1BQU0sU0FBU2lILFNBQVMsQ0FBQ0QsbUJBQW1CLEVBQUVELFdBQVcsQ0FBQztNQUdoRTNMLE1BQU0sQ0FBQzRFLE1BQU0sQ0FBQyxDQUFDcEUsSUFBSSxDQUFDLHNCQUFzQixDQUFDO01BQzNDUixNQUFNLENBQUM0TCxtQkFBbUIsQ0FBQyxDQUFDUyxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7TUFDcERyTSxNQUFNLENBQUMzQixjQUFjLENBQUMsQ0FBQ2dPLHFCQUFxQixDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDLEVBQUM7SUFFRnhOLElBQUksQ0FBQyx3REFBd0QsTUFBQUMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRSxhQUFZO01BRXpFLElBQU04UCxZQUFZLEdBQUcsSUFBSTVRLEtBQUssQ0FBQyxlQUFlLENBQUM7TUFDOUM0USxZQUFZLENBQVN6QixJQUFJLEdBQUcsZUFBZTtNQUU1QyxJQUFNMEIsZUFBZSxHQUFHLElBQUk3USxLQUFLLENBQUMsa0JBQWtCLENBQUM7TUFDcEQ2USxlQUFlLENBQVMxQixJQUFJLEdBQUcsa0JBQWtCO01BRWxELElBQUkyQixTQUFTLEdBQUcsQ0FBQztNQUNqQixJQUFNbkgsU0FBUyxHQUFHcEssSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDdUQsa0JBQWtCLENBQUMsWUFBTTtRQUNuRCtOLFNBQVMsRUFBRTtRQUVYLElBQUlBLFNBQVMsS0FBSyxDQUFDLEVBQUU7VUFDbkIsT0FBT25SLE9BQU8sQ0FBQ0UsTUFBTSxDQUFDK1EsWUFBWSxDQUFDO1FBQ3JDLENBQUMsTUFBTSxJQUFJRSxTQUFTLEtBQUssQ0FBQyxFQUFFO1VBQzFCLE9BQU9uUixPQUFPLENBQUNFLE1BQU0sQ0FBQ2dSLGVBQWUsQ0FBQztRQUN4QztRQUVBLE9BQU9sUixPQUFPLENBQUNDLE9BQU8sQ0FBQyxTQUFTLENBQUM7TUFDbkMsQ0FBQyxDQUFDO01BRUYsSUFBTW1SLG9CQUFvQjtRQUFBLElBQUFDLE1BQUEsT0FBQTVOLGtCQUFBLENBQUF0QyxPQUFBLEVBQUcsV0FDM0I2SSxTQUEyQixFQUMzQmhFLFVBQWtCLEVBQ2xCc0wsV0FBc0MsRUFDdkI7VUFDZixJQUFJakIsUUFBUSxHQUFHLENBQUM7VUFDaEIsSUFBSU0sU0FBdUIsR0FBRyxJQUFJO1VBRWxDLE9BQU9OLFFBQVEsR0FBR3JLLFVBQVUsRUFBRTtZQUM1QixJQUFJO2NBQ0YsYUFBYWdFLFNBQVMsQ0FBQyxDQUFDO1lBQzFCLENBQUMsQ0FBQyxPQUFPbkgsS0FBSyxFQUFFO2NBQ2Q4TixTQUFTLEdBQUc5TixLQUFjO2NBQzFCd04sUUFBUSxFQUFFO2NBRVYsSUFBSUEsUUFBUSxJQUFJckssVUFBVSxJQUFJLENBQUNzTCxXQUFXLENBQUNYLFNBQVMsQ0FBQyxFQUFFO2dCQUNyRCxNQUFNQSxTQUFTO2NBQ2pCO2NBR0EsTUFBTSxJQUFJM1EsT0FBTyxDQUFDLFVBQUFDLE9BQU87Z0JBQUEsT0FBSUssVUFBVSxDQUFDTCxPQUFPLEVBQUUsQ0FBQyxDQUFDO2NBQUEsRUFBQztZQUN0RDtVQUNGO1VBRUEsTUFBTTBRLFNBQVM7UUFDakIsQ0FBQztRQUFBLGdCQXpCS1Msb0JBQW9CQSxDQUFBRyxJQUFBLEVBQUFDLElBQUEsRUFBQUMsSUFBQTtVQUFBLE9BQUFKLE1BQUEsQ0FBQTNPLEtBQUEsT0FBQUwsU0FBQTtRQUFBO01BQUEsR0F5QnpCO01BR0QsSUFBTWlQLFdBQVcsR0FBRyxTQUFkQSxXQUFXQSxDQUFJek8sS0FBWTtRQUFBLE9BQU1BLEtBQUssQ0FBUzJNLElBQUksS0FBSyxlQUFlO01BQUE7TUFHN0UsTUFBTTdLLE1BQU0sQ0FBQ3lNLG9CQUFvQixDQUFDcEgsU0FBUyxFQUFFLENBQUMsRUFBRXNILFdBQVcsQ0FBQyxDQUFDLENBQUN2SixPQUFPLENBQUNDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztNQUNqR3JELE1BQU0sQ0FBQ3FGLFNBQVMsQ0FBQyxDQUFDZ0gscUJBQXFCLENBQUMsQ0FBQyxDQUFDO0lBQzVDLENBQUMsRUFBQztFQUNKLENBQUMsQ0FBQztFQUVGbE8sUUFBUSxDQUFDLDBCQUEwQixFQUFFLFlBQU07SUFDekNVLElBQUksQ0FBQyx1REFBdUQsTUFBQUMsa0JBQUEsQ0FBQXRDLE9BQUEsRUFBRSxhQUFZO01BRXhFLElBQU11USxVQUFVLEdBQUc1USxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUNnTCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUNDLEdBQUcsQ0FBQyxVQUFDckMsQ0FBQyxFQUFFc0MsQ0FBQztRQUFBLE9BQU07VUFBRWhCLEVBQUUsRUFBRWdCLENBQUM7VUFBRWpNLEtBQUssRUFBRSxRQUFRaU0sQ0FBQztRQUFHLENBQUM7TUFBQSxDQUFDLENBQUM7TUFHdEYsSUFBTTJGLGVBQWU7UUFBQSxJQUFBQyxNQUFBLE9BQUFuTyxrQkFBQSxDQUFBdEMsT0FBQSxFQUFHLFdBQ3RCMFEsS0FBVSxFQUNWQyxTQUFpQixFQUNqQkMsU0FBdUMsRUFDdEI7VUFDakIsSUFBTXpMLE9BQVksR0FBRyxFQUFFO1VBRXZCLEtBQUssSUFBSTBGLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRzZGLEtBQUssQ0FBQ3ZQLE1BQU0sRUFBRTBKLENBQUMsSUFBSThGLFNBQVMsRUFBRTtZQUNoRCxJQUFNRSxLQUFLLEdBQUdILEtBQUssQ0FBQ0ksS0FBSyxDQUFDakcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc4RixTQUFTLENBQUM7WUFDM0MsSUFBTUksWUFBWSxTQUFTSCxTQUFTLENBQUNDLEtBQUssQ0FBQztZQUMzQzFMLE9BQU8sQ0FBQzNFLElBQUksQ0FBQWUsS0FBQSxDQUFaNEQsT0FBTyxNQUFBNkwsbUJBQUEsQ0FBQWhSLE9BQUEsRUFBUytRLFlBQVksRUFBQztVQUMvQjtVQUVBLE9BQU81TCxPQUFPO1FBQ2hCLENBQUM7UUFBQSxnQkFkS3FMLGVBQWVBLENBQUFTLElBQUEsRUFBQUMsSUFBQSxFQUFBQyxJQUFBO1VBQUEsT0FBQVYsTUFBQSxDQUFBbFAsS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxHQWNwQjtNQUdELElBQU1rUSxZQUFZLEdBQUczUyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUN1RCxrQkFBa0I7UUFBQSxJQUFBb1AsTUFBQSxPQUFBL08sa0JBQUEsQ0FBQXRDLE9BQUEsRUFBQyxXQUFPMFEsS0FBWSxFQUFLO1VBQ3hFLE9BQU9BLEtBQUssQ0FBQzlGLEdBQUcsQ0FBQyxVQUFBYSxJQUFJO1lBQUEsT0FBQXRFLE1BQUEsQ0FBQUMsTUFBQSxLQUFVcUUsSUFBSTtjQUFFNkYsU0FBUyxFQUFFO1lBQUk7VUFBQSxDQUFHLENBQUM7UUFDMUQsQ0FBQztRQUFBLGlCQUFBQyxJQUFBO1VBQUEsT0FBQUYsTUFBQSxDQUFBOVAsS0FBQSxPQUFBTCxTQUFBO1FBQUE7TUFBQSxJQUFDO01BR0YsSUFBTWlFLE9BQU8sU0FBU3FMLGVBQWUsQ0FBQ0QsVUFBVSxFQUFFLENBQUMsRUFBRWEsWUFBWSxDQUFDO01BR2xFNU4sTUFBTSxDQUFDMkIsT0FBTyxDQUFDaEUsTUFBTSxDQUFDLENBQUM2QyxJQUFJLENBQUMsRUFBRSxDQUFDO01BQy9CUixNQUFNLENBQUMyQixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNtTSxTQUFTLENBQUMsQ0FBQ3ROLElBQUksQ0FBQyxJQUFJLENBQUM7TUFDdkNSLE1BQU0sQ0FBQzJCLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQ21NLFNBQVMsQ0FBQyxDQUFDdE4sSUFBSSxDQUFDLElBQUksQ0FBQztNQUd4Q1IsTUFBTSxDQUFDNE4sWUFBWSxDQUFDLENBQUN2QixxQkFBcUIsQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQyxFQUFDO0lBRUZ4TixJQUFJLENBQUMseURBQXlELEVBQUUsWUFBTTtNQUVwRSxJQUFNbVAsb0JBQW9CLEdBQUcvUyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxVQUFDMk0sQ0FBUyxFQUFFQyxDQUFTLEVBQUs7UUFFN0QsT0FBT0QsQ0FBQyxHQUFHQyxDQUFDLEdBQUd0TSxJQUFJLENBQUN5UyxJQUFJLENBQUNwRyxDQUFDLEdBQUdDLENBQUMsQ0FBQztNQUNqQyxDQUFDLENBQUM7TUFHRixJQUFNb0csT0FBTyxHQUFHLFNBQVZBLE9BQU9BLENBQXVDaFQsRUFBSyxFQUFRO1FBQy9ELElBQU1pVCxLQUFLLEdBQUcsSUFBSXBULEdBQUcsQ0FBd0IsQ0FBQztRQUU5QyxPQUFRLFlBQTJDO1VBQUEsU0FBQXFULEtBQUEsR0FBQTFRLFNBQUEsQ0FBQUMsTUFBQSxFQUF2Q0MsSUFBSSxPQUFBekIsS0FBQSxDQUFBaVMsS0FBQSxHQUFBQyxLQUFBLE1BQUFBLEtBQUEsR0FBQUQsS0FBQSxFQUFBQyxLQUFBO1lBQUp6USxJQUFJLENBQUF5USxLQUFBLElBQUEzUSxTQUFBLENBQUEyUSxLQUFBO1VBQUE7VUFDZCxJQUFNbFQsR0FBRyxHQUFHNkQsSUFBSSxDQUFDQyxTQUFTLENBQUNyQixJQUFJLENBQUM7VUFFaEMsSUFBSXVRLEtBQUssQ0FBQ3BSLEdBQUcsQ0FBQzVCLEdBQUcsQ0FBQyxFQUFFO1lBQ2xCLE9BQU9nVCxLQUFLLENBQUNyUyxHQUFHLENBQUNYLEdBQUcsQ0FBQztVQUN2QjtVQUVBLElBQU15SixNQUFNLEdBQUcxSixFQUFFLENBQUE2QyxLQUFBLFNBQUlILElBQUksQ0FBQztVQUMxQnVRLEtBQUssQ0FBQ3ZTLEdBQUcsQ0FBQ1QsR0FBRyxFQUFFeUosTUFBTSxDQUFDO1VBQ3RCLE9BQU9BLE1BQU07UUFDZixDQUFDO01BQ0gsQ0FBQztNQUVELElBQU0wSixtQkFBbUIsR0FBR0osT0FBTyxDQUFDRixvQkFBb0IsQ0FBQztNQUd6RCxJQUFNbE8sT0FBTyxHQUFHd08sbUJBQW1CLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztNQUMzQyxJQUFNdk8sT0FBTyxHQUFHdU8sbUJBQW1CLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztNQUMxQyxJQUFNQyxPQUFPLEdBQUdELG1CQUFtQixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7TUFDM0MsSUFBTUUsT0FBTyxHQUFHRixtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO01BRzFDdE8sTUFBTSxDQUFDRixPQUFPLENBQUMsQ0FBQ1UsSUFBSSxDQUFDK04sT0FBTyxDQUFDO01BQzdCdk8sTUFBTSxDQUFDRCxPQUFPLENBQUMsQ0FBQ1MsSUFBSSxDQUFDZ08sT0FBTyxDQUFDO01BRzdCeE8sTUFBTSxDQUFDZ08sb0JBQW9CLENBQUMsQ0FBQzNCLHFCQUFxQixDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=