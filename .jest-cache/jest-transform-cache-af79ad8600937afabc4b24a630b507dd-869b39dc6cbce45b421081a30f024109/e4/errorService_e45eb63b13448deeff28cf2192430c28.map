{"version":3,"names":["AsyncStorage","ErrorSeverity","ErrorCategory","defaultConfig","cov_22yuiicert","s","enableConsoleLogging","enableRemoteLogging","enableStorageLogging","maxStoredErrors","currentConfig","Object","assign","configureErrorService","config","f","handleSupabaseError","error","context","severity","arguments","length","undefined","b","ERROR","isPostgrestError","message","code","category","determineErrorCategory","originalError","timestamp","Date","Error","UNKNOWN","handleNetworkError","appError","NETWORK","logError","handleAuthError","AUTHENTICATION","createValidationError","VALIDATION","WARNING","createPermissionError","PERMISSION","console","toUpperCase","storeErrorInStorage","catch","e","_x","_storeErrorInStorage","apply","_asyncToGenerator","storedErrorsJson","getItem","storedErrors","JSON","parse","push","slice","setItem","stringify","_e","getStoredErrors","_getStoredErrors","clearStoredErrors","_clearStoredErrors","getUserFriendlyMessage","defaultMessages","_defineProperty","DATABASE","isUserFriendlyMessage","_error$code","_error$code2","_error$code3","_error$code4","startsWith","msg","toLowerCase","includes","technicalTerms","lowercaseMsg","some","term","withErrorHandling","fn","errorHandler","_len","args","Array","_key","functionName","name"],"sources":["errorService.ts"],"sourcesContent":["import { PostgrestError } from '@supabase/supabase-js';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n/**\n * Error severity levels for logging and reporting\n */\nexport enum ErrorSeverity {\n  INFO = 'info',\n  WARNING = 'warning',\n  ERROR = 'error',\n  CRITICAL = 'critical',\n}\n\n/**\n * Error categories to classify different types of errors\n */\nexport enum ErrorCategory {\n  DATABASE = 'database',\n  AUTHENTICATION = 'authentication',\n  NETWORK = 'network',\n  VALIDATION = 'validation',\n  PERMISSION = 'permission',\n  UNKNOWN = 'unknown',\n}\n\n/**\n * Structured error object for consistent error handling\n */\nexport interface AppError {\n  message: string;\n  code?: string;\n  category: ErrorCategory;\n  severity: ErrorSeverity;\n  originalError?: any;\n  context?: Record<string, any>;\n  timestamp: Date;\n}\n\n/**\n * Configuration for error service behavior\n */\ninterface ErrorServiceConfig {\n  enableConsoleLogging: boolean;\n  enableRemoteLogging: boolean;\n  enableStorageLogging: boolean;\n  maxStoredErrors: number;\n}\n\n// Default configuration\nconst defaultConfig: ErrorServiceConfig = {\n  enableConsoleLogging: true,\n  enableRemoteLogging: false, // Disabled by default until a remote service is configured\n  enableStorageLogging: true,\n  maxStoredErrors: 100,\n};\n\n// Current configuration\nlet currentConfig: ErrorServiceConfig = { ...defaultConfig };\n\n/**\n * Configure error service behavior\n */\nexport function configureErrorService(config: Partial<ErrorServiceConfig>): void {\n  currentConfig = { ...currentConfig, ...config };\n}\n\n/**\n * Process a Supabase PostgrestError into our standard AppError format\n */\nexport function handleSupabaseError(\n  error: PostgrestError | Error | unknown,\n  context?: Record<string, any>,\n  severity: ErrorSeverity = ErrorSeverity.ERROR\n): AppError {\n  // Handle PostgrestError type from Supabase\n  if (isPostgrestError(error)) {\n    return {\n      message: error.message || 'Database operation failed',\n      code: error.code,\n      category: determineErrorCategory(error),\n      severity,\n      originalError: error,\n      context,\n      timestamp: new Date(),\n    };\n  }\n\n  // Handle generic Error objects\n  if (error instanceof Error) {\n    return {\n      message: error.message || 'An unexpected error occurred',\n      category: ErrorCategory.UNKNOWN,\n      severity,\n      originalError: error,\n      context,\n      timestamp: new Date(),\n    };\n  }\n\n  // Handle unknown error types\n  return {\n    message: 'An unknown error occurred',\n    category: ErrorCategory.UNKNOWN,\n    severity,\n    originalError: error,\n    context,\n    timestamp: new Date(),\n  };\n}\n\n/**\n * Handle network-related errors\n */\nexport function handleNetworkError(\n  error: Error | unknown,\n  context?: Record<string, any>\n): AppError {\n  const appError: AppError = {\n    message: error instanceof Error ? error.message : 'Network connection failed',\n    category: ErrorCategory.NETWORK,\n    severity: ErrorSeverity.ERROR,\n    originalError: error,\n    context,\n    timestamp: new Date(),\n  };\n\n  logError(appError);\n  return appError;\n}\n\n/**\n * Handle authentication-related errors\n */\nexport function handleAuthError(\n  error: Error | unknown,\n  context?: Record<string, any>\n): AppError {\n  const appError: AppError = {\n    message: error instanceof Error ? error.message : 'Authentication failed',\n    category: ErrorCategory.AUTHENTICATION,\n    severity: ErrorSeverity.ERROR,\n    originalError: error,\n    context,\n    timestamp: new Date(),\n  };\n\n  logError(appError);\n  return appError;\n}\n\n/**\n * Create a validation error when input validation fails\n */\nexport function createValidationError(\n  message: string,\n  context?: Record<string, any>\n): AppError {\n  const appError: AppError = {\n    message,\n    category: ErrorCategory.VALIDATION,\n    severity: ErrorSeverity.WARNING,\n    context,\n    timestamp: new Date(),\n  };\n\n  logError(appError);\n  return appError;\n}\n\n/**\n * Create a permission error when user lacks required permissions\n */\nexport function createPermissionError(\n  message: string = 'You do not have permission to perform this action',\n  context?: Record<string, any>\n): AppError {\n  const appError: AppError = {\n    message,\n    category: ErrorCategory.PERMISSION,\n    severity: ErrorSeverity.WARNING,\n    context,\n    timestamp: new Date(),\n  };\n\n  logError(appError);\n  return appError;\n}\n\n/**\n * Log an error based on current configuration\n */\nexport function logError(error: AppError): void {\n  // Console logging\n  if (currentConfig.enableConsoleLogging) {\n    console.error(\n      `[${error.severity.toUpperCase()}] [${error.category}] ${error.message}`,\n      {\n        code: error.code,\n        context: error.context,\n        timestamp: error.timestamp,\n        originalError: error.originalError,\n      }\n    );\n  }\n\n  // Store error in AsyncStorage for later retrieval\n  if (currentConfig.enableStorageLogging) {\n    storeErrorInStorage(error).catch(e => \n      console.error('Failed to store error in AsyncStorage:', e)\n    );\n  }\n\n  // Remote logging could be implemented here\n  if (currentConfig.enableRemoteLogging) {\n    // Implementation would depend on the remote logging service\n    // sendErrorToRemoteService(_error);\n  }\n}\n\n/**\n * Store errors in AsyncStorage for later retrieval\n */\nasync function storeErrorInStorage(error: AppError): Promise<void> {\n  try {\n    // Get existing errors\n    const storedErrorsJson = await AsyncStorage.getItem('app_errors');\n    let storedErrors: AppError[] = storedErrorsJson ? JSON.parse(storedErrorsJson) : [];\n\n    // Add new error\n    storedErrors.push(error);\n\n    // Limit the number of stored errors\n    if (storedErrors.length > currentConfig.maxStoredErrors) {\n      storedErrors = storedErrors.slice(-currentConfig.maxStoredErrors);\n    }\n\n    // Save back to storage\n    await AsyncStorage.setItem('app_errors', JSON.stringify(storedErrors));\n  } catch (_e) {\n    // Fail silently, but log to console\n    console.error('Error storing error in AsyncStorage:', _e);\n  }\n}\n\n/**\n * Retrieve stored errors from AsyncStorage\n */\nexport async function getStoredErrors(): Promise<AppError[]> {\n  try {\n    const storedErrorsJson = await AsyncStorage.getItem('app_errors');\n    return storedErrorsJson ? JSON.parse(storedErrorsJson) : [];\n  } catch (_e) {\n    console.error('Error retrieving errors from AsyncStorage:', _e);\n    return [];\n  }\n}\n\n/**\n * Clear stored errors from AsyncStorage\n */\nexport async function clearStoredErrors(): Promise<void> {\n  try {\n    await AsyncStorage.setItem('app_errors', JSON.stringify([]));\n  } catch (_e) {\n    console.error('Error clearing errors from AsyncStorage:', _e);\n  }\n}\n\n/**\n * Get a user-friendly error message based on the error category and code\n */\nexport function getUserFriendlyMessage(error: AppError): string {\n  // Default messages by category\n  const defaultMessages: Record<ErrorCategory, string> = {\n    [ErrorCategory.DATABASE]: 'There was a problem accessing the database.',\n    [ErrorCategory.AUTHENTICATION]: 'There was a problem with your account authentication.',\n    [ErrorCategory.NETWORK]: 'Network connection issue. Please check your internet connection.',\n    [ErrorCategory.VALIDATION]: 'Some information you entered is not valid.',\n    [ErrorCategory.PERMISSION]: 'You do not have permission to perform this action.',\n    [ErrorCategory.UNKNOWN]: 'An unexpected error occurred. Please try again later.',\n  };\n\n  // Specific error code handling\n  if (error.code) {\n    switch (error.code) {\n      case '23505': // PostgreSQL unique violation\n        return 'This information already exists in our system.';\n      case '42P01': // PostgreSQL undefined table\n        return 'We encountered a database configuration issue. Please contact support.';\n      case '42501': // PostgreSQL insufficient privilege\n        return 'You do not have permission to perform this action.';\n      case '23503': // PostgreSQL foreign key violation\n        return 'This operation cannot be completed because it references missing data.';\n      case 'PGRST301': // Supabase RLS policy violation\n        return 'Access denied due to security policy.';\n      case '401':\n      case 'auth/invalid-email':\n      case 'auth/user-not-found':\n      case 'auth/wrong-password':\n        return 'Invalid login credentials. Please check your email and password.';\n      case '403':\n        return 'You do not have permission to access this resource.';\n      case '404':\n        return 'The requested resource was not found.';\n      case '429':\n        return 'Too many requests. Please try again later.';\n      case '500':\n        return 'Server error. Please try again later.';\n      default:\n        // Use the original error message if it's user-friendly, otherwise use default\n        return isUserFriendlyMessage(error.message)\n          ? error.message\n          : defaultMessages[error.category];\n    }\n  }\n\n  // If no specific code handling, use the message if it's user-friendly\n  return isUserFriendlyMessage(error.message)\n    ? error.message\n    : defaultMessages[error.category];\n}\n\n/**\n * Type guard to check if an object is a PostgrestError\n */\nfunction isPostgrestError(error: any): error is PostgrestError {\n  return (\n    error &&\n    typeof error === 'object' &&\n    'code' in error &&\n    'message' in error &&\n    'details' in error\n  );\n}\n\n/**\n * Determine the error category based on the error\n */\nfunction determineErrorCategory(error: PostgrestError | Error): ErrorCategory {\n  if (isPostgrestError(error)) {\n    // PostgreSQL error codes\n    if (error.code?.startsWith('23')) return ErrorCategory.VALIDATION;\n    if (error.code?.startsWith('28') || error.code?.startsWith('42501')) return ErrorCategory.PERMISSION;\n    if (error.code?.startsWith('PGRST3')) return ErrorCategory.PERMISSION;\n    \n    return ErrorCategory.DATABASE;\n  }\n\n  // Check error message for common patterns\n  const msg = error.message.toLowerCase();\n  if (msg.includes('network') || msg.includes('connection')) return ErrorCategory.NETWORK;\n  if (msg.includes('auth') || msg.includes('login') || msg.includes('password')) return ErrorCategory.AUTHENTICATION;\n  if (msg.includes('permission') || msg.includes('access') || msg.includes('denied')) return ErrorCategory.PERMISSION;\n  if (msg.includes('valid') || msg.includes('required')) return ErrorCategory.VALIDATION;\n\n  return ErrorCategory.UNKNOWN;\n}\n\n/**\n * Check if a message is user-friendly enough to show directly\n */\nfunction isUserFriendlyMessage(message: string): boolean {\n  if (!message) return false;\n  \n  // Too technical or exposing implementation details\n  const technicalTerms = [\n    'undefined',\n    'null',\n    'NaN',\n    'exception',\n    'syntax error',\n    'unexpected token',\n    'stack',\n    'reference error',\n    'type error',\n    'cannot read property',\n    'is not a function',\n    'failed to fetch',\n    'network request failed',\n    'JSON',\n    'parse',\n    'promise',\n    'async',\n    'timeout',\n    'cors',\n    'xhr',\n    'http',\n    'ssl',\n    'certificate',\n    'localhost',\n    'port',\n    'proxy',\n    'socket',\n    'postgresql',\n    'supabase',\n    'database',\n    'query',\n    'sql',\n  ];\n\n  // Check if message contains technical terms\n  const lowercaseMsg = message.toLowerCase();\n  return !technicalTerms.some(term => lowercaseMsg.includes(term.toLowerCase()));\n}\n\n/**\n * Wrap a function with error handling\n */\nexport function withErrorHandling<T extends (...args: any[]) => Promise<any>>(\n  fn: T,\n  errorHandler?: (error: AppError) => void\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>): Promise<ReturnType<T>> => {\n    try {\n      return await fn(...args);\n    } catch (error) {\n      const appError = handleSupabaseError(error, { functionName: fn.name, args });\n      \n      if (errorHandler) {\n        errorHandler(appError);\n      } else {\n        logError(appError);\n      }\n      \n      throw appError;\n    }\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}