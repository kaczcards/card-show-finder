325c09d2bc52eec74ee12ceda249a667
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
import _classCallCheck from "@babel/runtime/helpers/classCallCheck";
import _createClass from "@babel/runtime/helpers/createClass";
function cov_7p9bcyhz4() {
  var path = "/Users/kevin/card-show-finder/src/services/mfaService.ts";
  var hash = "9d6a69a0e5b149c628bbf7d3fbcbdbc96bc50dec";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/kevin/card-show-finder/src/services/mfaService.ts",
    statementMap: {
      "0": {
        start: {
          line: 64,
          column: 24
        },
        end: {
          line: 64,
          column: 49
        }
      },
      "1": {
        start: {
          line: 66,
          column: 4
        },
        end: {
          line: 66,
          column: 72
        }
      },
      "2": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 85,
          column: 5
        }
      },
      "3": {
        start: {
          line: 75,
          column: 30
        },
        end: {
          line: 75,
          column: 100
        }
      },
      "4": {
        start: {
          line: 77,
          column: 6
        },
        end: {
          line: 79,
          column: 7
        }
      },
      "5": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 78,
          column: 39
        }
      },
      "6": {
        start: {
          line: 81,
          column: 6
        },
        end: {
          line: 81,
          column: 18
        }
      },
      "7": {
        start: {
          line: 83,
          column: 6
        },
        end: {
          line: 83,
          column: 62
        }
      },
      "8": {
        start: {
          line: 84,
          column: 6
        },
        end: {
          line: 84,
          column: 18
        }
      },
      "9": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 109,
          column: 5
        }
      },
      "10": {
        start: {
          line: 96,
          column: 30
        },
        end: {
          line: 99,
          column: 8
        }
      },
      "11": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 103,
          column: 7
        }
      },
      "12": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 39
        }
      },
      "13": {
        start: {
          line: 105,
          column: 6
        },
        end: {
          line: 105,
          column: 18
        }
      },
      "14": {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 107,
          column: 58
        }
      },
      "15": {
        start: {
          line: 108,
          column: 6
        },
        end: {
          line: 108,
          column: 18
        }
      },
      "16": {
        start: {
          line: 120,
          column: 4
        },
        end: {
          line: 135,
          column: 5
        }
      },
      "17": {
        start: {
          line: 121,
          column: 30
        },
        end: {
          line: 125,
          column: 8
        }
      },
      "18": {
        start: {
          line: 127,
          column: 6
        },
        end: {
          line: 129,
          column: 7
        }
      },
      "19": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 128,
          column: 39
        }
      },
      "20": {
        start: {
          line: 131,
          column: 6
        },
        end: {
          line: 131,
          column: 18
        }
      },
      "21": {
        start: {
          line: 133,
          column: 6
        },
        end: {
          line: 133,
          column: 63
        }
      },
      "22": {
        start: {
          line: 134,
          column: 6
        },
        end: {
          line: 134,
          column: 18
        }
      },
      "23": {
        start: {
          line: 146,
          column: 4
        },
        end: {
          line: 161,
          column: 5
        }
      },
      "24": {
        start: {
          line: 147,
          column: 30
        },
        end: {
          line: 151,
          column: 8
        }
      },
      "25": {
        start: {
          line: 153,
          column: 6
        },
        end: {
          line: 155,
          column: 7
        }
      },
      "26": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 154,
          column: 39
        }
      },
      "27": {
        start: {
          line: 157,
          column: 6
        },
        end: {
          line: 157,
          column: 18
        }
      },
      "28": {
        start: {
          line: 159,
          column: 6
        },
        end: {
          line: 159,
          column: 64
        }
      },
      "29": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 160,
          column: 18
        }
      },
      "30": {
        start: {
          line: 170,
          column: 4
        },
        end: {
          line: 183,
          column: 5
        }
      },
      "31": {
        start: {
          line: 171,
          column: 30
        },
        end: {
          line: 173,
          column: 8
        }
      },
      "32": {
        start: {
          line: 175,
          column: 6
        },
        end: {
          line: 177,
          column: 7
        }
      },
      "33": {
        start: {
          line: 176,
          column: 8
        },
        end: {
          line: 176,
          column: 39
        }
      },
      "34": {
        start: {
          line: 179,
          column: 6
        },
        end: {
          line: 179,
          column: 18
        }
      },
      "35": {
        start: {
          line: 181,
          column: 6
        },
        end: {
          line: 181,
          column: 53
        }
      },
      "36": {
        start: {
          line: 182,
          column: 6
        },
        end: {
          line: 182,
          column: 18
        }
      },
      "37": {
        start: {
          line: 191,
          column: 4
        },
        end: {
          line: 202,
          column: 5
        }
      },
      "38": {
        start: {
          line: 192,
          column: 30
        },
        end: {
          line: 192,
          column: 96
        }
      },
      "39": {
        start: {
          line: 194,
          column: 6
        },
        end: {
          line: 196,
          column: 7
        }
      },
      "40": {
        start: {
          line: 195,
          column: 8
        },
        end: {
          line: 195,
          column: 39
        }
      },
      "41": {
        start: {
          line: 198,
          column: 6
        },
        end: {
          line: 198,
          column: 18
        }
      },
      "42": {
        start: {
          line: 200,
          column: 6
        },
        end: {
          line: 200,
          column: 56
        }
      },
      "43": {
        start: {
          line: 201,
          column: 6
        },
        end: {
          line: 201,
          column: 18
        }
      },
      "44": {
        start: {
          line: 211,
          column: 4
        },
        end: {
          line: 224,
          column: 5
        }
      },
      "45": {
        start: {
          line: 212,
          column: 30
        },
        end: {
          line: 214,
          column: 8
        }
      },
      "46": {
        start: {
          line: 216,
          column: 6
        },
        end: {
          line: 218,
          column: 7
        }
      },
      "47": {
        start: {
          line: 217,
          column: 8
        },
        end: {
          line: 217,
          column: 39
        }
      },
      "48": {
        start: {
          line: 220,
          column: 6
        },
        end: {
          line: 220,
          column: 18
        }
      },
      "49": {
        start: {
          line: 222,
          column: 6
        },
        end: {
          line: 222,
          column: 67
        }
      },
      "50": {
        start: {
          line: 223,
          column: 6
        },
        end: {
          line: 223,
          column: 18
        }
      },
      "51": {
        start: {
          line: 233,
          column: 4
        },
        end: {
          line: 249,
          column: 5
        }
      },
      "52": {
        start: {
          line: 235,
          column: 39
        },
        end: {
          line: 239,
          column: 17
        }
      },
      "53": {
        start: {
          line: 241,
          column: 6
        },
        end: {
          line: 243,
          column: 7
        }
      },
      "54": {
        start: {
          line: 242,
          column: 8
        },
        end: {
          line: 242,
          column: 39
        }
      },
      "55": {
        start: {
          line: 245,
          column: 6
        },
        end: {
          line: 245,
          column: 59
        }
      },
      "56": {
        start: {
          line: 247,
          column: 6
        },
        end: {
          line: 247,
          column: 66
        }
      },
      "57": {
        start: {
          line: 248,
          column: 6
        },
        end: {
          line: 248,
          column: 19
        }
      },
      "58": {
        start: {
          line: 264,
          column: 4
        },
        end: {
          line: 298,
          column: 5
        }
      },
      "59": {
        start: {
          line: 266,
          column: 36
        },
        end: {
          line: 266,
          column: 68
        }
      },
      "60": {
        start: {
          line: 268,
          column: 6
        },
        end: {
          line: 270,
          column: 7
        }
      },
      "61": {
        start: {
          line: 269,
          column: 8
        },
        end: {
          line: 269,
          column: 45
        }
      },
      "62": {
        start: {
          line: 272,
          column: 18
        },
        end: {
          line: 272,
          column: 47
        }
      },
      "63": {
        start: {
          line: 273,
          column: 22
        },
        end: {
          line: 276,
          column: 7
        }
      },
      "64": {
        start: {
          line: 279,
          column: 6
        },
        end: {
          line: 287,
          column: 7
        }
      },
      "65": {
        start: {
          line: 280,
          column: 8
        },
        end: {
          line: 280,
          column: 57
        }
      },
      "66": {
        start: {
          line: 282,
          column: 8
        },
        end: {
          line: 286,
          column: 11
        }
      },
      "67": {
        start: {
          line: 289,
          column: 6
        },
        end: {
          line: 292,
          column: 7
        }
      },
      "68": {
        start: {
          line: 290,
          column: 26
        },
        end: {
          line: 290,
          column: 47
        }
      },
      "69": {
        start: {
          line: 291,
          column: 8
        },
        end: {
          line: 291,
          column: 76
        }
      },
      "70": {
        start: {
          line: 294,
          column: 19
        },
        end: {
          line: 294,
          column: 40
        }
      },
      "71": {
        start: {
          line: 295,
          column: 6
        },
        end: {
          line: 295,
          column: 46
        }
      },
      "72": {
        start: {
          line: 297,
          column: 6
        },
        end: {
          line: 297,
          column: 54
        }
      },
      "73": {
        start: {
          line: 303,
          column: 26
        },
        end: {
          line: 303,
          column: 42
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 62,
            column: 2
          },
          end: {
            line: 62,
            column: 3
          }
        },
        loc: {
          start: {
            line: 62,
            column: 16
          },
          end: {
            line: 67,
            column: 3
          }
        },
        line: 62
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 73,
            column: 2
          },
          end: {
            line: 73,
            column: 3
          }
        },
        loc: {
          start: {
            line: 73,
            column: 58
          },
          end: {
            line: 86,
            column: 3
          }
        },
        line: 73
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 94,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        },
        loc: {
          start: {
            line: 94,
            column: 89
          },
          end: {
            line: 110,
            column: 3
          }
        },
        line: 94
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 119,
            column: 2
          },
          end: {
            line: 119,
            column: 3
          }
        },
        loc: {
          start: {
            line: 119,
            column: 107
          },
          end: {
            line: 136,
            column: 3
          }
        },
        line: 119
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 145,
            column: 2
          },
          end: {
            line: 145,
            column: 3
          }
        },
        loc: {
          start: {
            line: 145,
            column: 109
          },
          end: {
            line: 162,
            column: 3
          }
        },
        line: 145
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 169,
            column: 2
          },
          end: {
            line: 169,
            column: 3
          }
        },
        loc: {
          start: {
            line: 169,
            column: 82
          },
          end: {
            line: 184,
            column: 3
          }
        },
        line: 169
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 190,
            column: 2
          },
          end: {
            line: 190,
            column: 3
          }
        },
        loc: {
          start: {
            line: 190,
            column: 51
          },
          end: {
            line: 203,
            column: 3
          }
        },
        line: 190
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 210,
            column: 2
          },
          end: {
            line: 210,
            column: 3
          }
        },
        loc: {
          start: {
            line: 210,
            column: 80
          },
          end: {
            line: 225,
            column: 3
          }
        },
        line: 210
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 232,
            column: 2
          },
          end: {
            line: 232,
            column: 3
          }
        },
        loc: {
          start: {
            line: 232,
            column: 56
          },
          end: {
            line: 250,
            column: 3
          }
        },
        line: 232
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 259,
            column: 2
          },
          end: {
            line: 259,
            column: 3
          }
        },
        loc: {
          start: {
            line: 263,
            column: 47
          },
          end: {
            line: 299,
            column: 3
          }
        },
        line: 263
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 64,
            column: 24
          },
          end: {
            line: 64,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 64,
            column: 24
          },
          end: {
            line: 64,
            column: 43
          }
        }, {
          start: {
            line: 64,
            column: 47
          },
          end: {
            line: 64,
            column: 49
          }
        }],
        line: 64
      },
      "1": {
        loc: {
          start: {
            line: 77,
            column: 6
          },
          end: {
            line: 79,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 6
          },
          end: {
            line: 79,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 77
      },
      "2": {
        loc: {
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 101
      },
      "3": {
        loc: {
          start: {
            line: 127,
            column: 6
          },
          end: {
            line: 129,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 127,
            column: 6
          },
          end: {
            line: 129,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 127
      },
      "4": {
        loc: {
          start: {
            line: 153,
            column: 6
          },
          end: {
            line: 155,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 153,
            column: 6
          },
          end: {
            line: 155,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 153
      },
      "5": {
        loc: {
          start: {
            line: 175,
            column: 6
          },
          end: {
            line: 177,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 175,
            column: 6
          },
          end: {
            line: 177,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 175
      },
      "6": {
        loc: {
          start: {
            line: 194,
            column: 6
          },
          end: {
            line: 196,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 194,
            column: 6
          },
          end: {
            line: 196,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 194
      },
      "7": {
        loc: {
          start: {
            line: 216,
            column: 6
          },
          end: {
            line: 218,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 216,
            column: 6
          },
          end: {
            line: 218,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 216
      },
      "8": {
        loc: {
          start: {
            line: 241,
            column: 6
          },
          end: {
            line: 243,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 241,
            column: 6
          },
          end: {
            line: 243,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 241
      },
      "9": {
        loc: {
          start: {
            line: 245,
            column: 13
          },
          end: {
            line: 245,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 245,
            column: 13
          },
          end: {
            line: 245,
            column: 33
          }
        }, {
          start: {
            line: 245,
            column: 37
          },
          end: {
            line: 245,
            column: 58
          }
        }],
        line: 245
      },
      "10": {
        loc: {
          start: {
            line: 261,
            column: 4
          },
          end: {
            line: 261,
            column: 34
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 261,
            column: 32
          },
          end: {
            line: 261,
            column: 34
          }
        }],
        line: 261
      },
      "11": {
        loc: {
          start: {
            line: 262,
            column: 4
          },
          end: {
            line: 262,
            column: 35
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 262,
            column: 29
          },
          end: {
            line: 262,
            column: 35
          }
        }],
        line: 262
      },
      "12": {
        loc: {
          start: {
            line: 268,
            column: 6
          },
          end: {
            line: 270,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 268,
            column: 6
          },
          end: {
            line: 270,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 268
      },
      "13": {
        loc: {
          start: {
            line: 279,
            column: 6
          },
          end: {
            line: 287,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 279,
            column: 6
          },
          end: {
            line: 287,
            column: 7
          }
        }, {
          start: {
            line: 281,
            column: 13
          },
          end: {
            line: 287,
            column: 7
          }
        }],
        line: 279
      },
      "14": {
        loc: {
          start: {
            line: 289,
            column: 6
          },
          end: {
            line: 292,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 289,
            column: 6
          },
          end: {
            line: 292,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 289
      },
      "15": {
        loc: {
          start: {
            line: 291,
            column: 24
          },
          end: {
            line: 291,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 291,
            column: 24
          },
          end: {
            line: 291,
            column: 39
          }
        }, {
          start: {
            line: 291,
            column: 43
          },
          end: {
            line: 291,
            column: 74
          }
        }],
        line: 291
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0],
      "11": [0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "9d6a69a0e5b149c628bbf7d3fbcbdbc96bc50dec"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_7p9bcyhz4 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_7p9bcyhz4();
import { supabase } from "../lib/supabase";
export var MFAService = function () {
  function MFAService() {
    _classCallCheck(this, MFAService);
    cov_7p9bcyhz4().f[0]++;
    var supabaseUrl = (cov_7p9bcyhz4().s[0]++, (cov_7p9bcyhz4().b[0][0]++, supabase.auth.url()) || (cov_7p9bcyhz4().b[0][1]++, ""));
    cov_7p9bcyhz4().s[1]++;
    this.baseUrl = supabaseUrl.replace("/auth/v1", "/functions/v1/mfa");
  }
  return _createClass(MFAService, [{
    key: "startEnrollment",
    value: (function () {
      var _startEnrollment = _asyncToGenerator(function* () {
        cov_7p9bcyhz4().f[1]++;
        cov_7p9bcyhz4().s[2]++;
        try {
          var _ref = (cov_7p9bcyhz4().s[3]++, yield this.callMFAEndpoint("enroll", {}, "GET")),
            data = _ref.data,
            error = _ref.error;
          cov_7p9bcyhz4().s[4]++;
          if (error) {
            cov_7p9bcyhz4().b[1][0]++;
            cov_7p9bcyhz4().s[5]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[1][1]++;
          }
          cov_7p9bcyhz4().s[6]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[7]++;
          console.error("Failed to start MFA enrollment:", error);
          cov_7p9bcyhz4().s[8]++;
          throw error;
        }
      });
      function startEnrollment() {
        return _startEnrollment.apply(this, arguments);
      }
      return startEnrollment;
    }())
  }, {
    key: "verifySetup",
    value: (function () {
      var _verifySetup = _asyncToGenerator(function* (code, challengeId) {
        cov_7p9bcyhz4().f[2]++;
        cov_7p9bcyhz4().s[9]++;
        try {
          var _ref2 = (cov_7p9bcyhz4().s[10]++, yield this.callMFAEndpoint("verify", {
              code: code,
              challengeId: challengeId
            })),
            data = _ref2.data,
            error = _ref2.error;
          cov_7p9bcyhz4().s[11]++;
          if (error) {
            cov_7p9bcyhz4().b[2][0]++;
            cov_7p9bcyhz4().s[12]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[2][1]++;
          }
          cov_7p9bcyhz4().s[13]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[14]++;
          console.error("Failed to verify MFA setup:", error);
          cov_7p9bcyhz4().s[15]++;
          throw error;
        }
      });
      function verifySetup(_x, _x2) {
        return _verifySetup.apply(this, arguments);
      }
      return verifySetup;
    }())
  }, {
    key: "authenticate",
    value: (function () {
      var _authenticate = _asyncToGenerator(function* (code, userId, sessionId) {
        cov_7p9bcyhz4().f[3]++;
        cov_7p9bcyhz4().s[16]++;
        try {
          var _ref3 = (cov_7p9bcyhz4().s[17]++, yield this.callMFAEndpoint("authenticate", {
              code: code,
              userId: userId,
              sessionId: sessionId
            })),
            data = _ref3.data,
            error = _ref3.error;
          cov_7p9bcyhz4().s[18]++;
          if (error) {
            cov_7p9bcyhz4().b[3][0]++;
            cov_7p9bcyhz4().s[19]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[3][1]++;
          }
          cov_7p9bcyhz4().s[20]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[21]++;
          console.error("Failed to authenticate with MFA:", error);
          cov_7p9bcyhz4().s[22]++;
          throw error;
        }
      });
      function authenticate(_x3, _x4, _x5) {
        return _authenticate.apply(this, arguments);
      }
      return authenticate;
    }())
  }, {
    key: "validateRecoveryCode",
    value: (function () {
      var _validateRecoveryCode = _asyncToGenerator(function* (code, userId, sessionId) {
        cov_7p9bcyhz4().f[4]++;
        cov_7p9bcyhz4().s[23]++;
        try {
          var _ref4 = (cov_7p9bcyhz4().s[24]++, yield this.callMFAEndpoint("validate-recovery", {
              code: code,
              userId: userId,
              sessionId: sessionId
            })),
            data = _ref4.data,
            error = _ref4.error;
          cov_7p9bcyhz4().s[25]++;
          if (error) {
            cov_7p9bcyhz4().b[4][0]++;
            cov_7p9bcyhz4().s[26]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[4][1]++;
          }
          cov_7p9bcyhz4().s[27]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[28]++;
          console.error("Failed to validate recovery code:", error);
          cov_7p9bcyhz4().s[29]++;
          throw error;
        }
      });
      function validateRecoveryCode(_x6, _x7, _x8) {
        return _validateRecoveryCode.apply(this, arguments);
      }
      return validateRecoveryCode;
    }())
  }, {
    key: "disableMFA",
    value: (function () {
      var _disableMFA = _asyncToGenerator(function* (code) {
        cov_7p9bcyhz4().f[5]++;
        cov_7p9bcyhz4().s[30]++;
        try {
          var _ref5 = (cov_7p9bcyhz4().s[31]++, yield this.callMFAEndpoint("disable", {
              code: code
            })),
            data = _ref5.data,
            error = _ref5.error;
          cov_7p9bcyhz4().s[32]++;
          if (error) {
            cov_7p9bcyhz4().b[5][0]++;
            cov_7p9bcyhz4().s[33]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[5][1]++;
          }
          cov_7p9bcyhz4().s[34]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[35]++;
          console.error("Failed to disable MFA:", error);
          cov_7p9bcyhz4().s[36]++;
          throw error;
        }
      });
      function disableMFA(_x9) {
        return _disableMFA.apply(this, arguments);
      }
      return disableMFA;
    }())
  }, {
    key: "getMFAStatus",
    value: (function () {
      var _getMFAStatus = _asyncToGenerator(function* () {
        cov_7p9bcyhz4().f[6]++;
        cov_7p9bcyhz4().s[37]++;
        try {
          var _ref6 = (cov_7p9bcyhz4().s[38]++, yield this.callMFAEndpoint("status", {}, "GET")),
            data = _ref6.data,
            error = _ref6.error;
          cov_7p9bcyhz4().s[39]++;
          if (error) {
            cov_7p9bcyhz4().b[6][0]++;
            cov_7p9bcyhz4().s[40]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[6][1]++;
          }
          cov_7p9bcyhz4().s[41]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[42]++;
          console.error("Failed to get MFA status:", error);
          cov_7p9bcyhz4().s[43]++;
          throw error;
        }
      });
      function getMFAStatus() {
        return _getMFAStatus.apply(this, arguments);
      }
      return getMFAStatus;
    }())
  }, {
    key: "regenerateRecoveryCodes",
    value: (function () {
      var _regenerateRecoveryCodes = _asyncToGenerator(function* (code) {
        cov_7p9bcyhz4().f[7]++;
        cov_7p9bcyhz4().s[44]++;
        try {
          var _ref7 = (cov_7p9bcyhz4().s[45]++, yield this.callMFAEndpoint("regenerate-recovery-codes", {
              code: code
            })),
            data = _ref7.data,
            error = _ref7.error;
          cov_7p9bcyhz4().s[46]++;
          if (error) {
            cov_7p9bcyhz4().b[7][0]++;
            cov_7p9bcyhz4().s[47]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[7][1]++;
          }
          cov_7p9bcyhz4().s[48]++;
          return data;
        } catch (error) {
          cov_7p9bcyhz4().s[49]++;
          console.error("Failed to regenerate recovery codes:", error);
          cov_7p9bcyhz4().s[50]++;
          throw error;
        }
      });
      function regenerateRecoveryCodes(_x0) {
        return _regenerateRecoveryCodes.apply(this, arguments);
      }
      return regenerateRecoveryCodes;
    }())
  }, {
    key: "isMFARequired",
    value: (function () {
      var _isMFARequired = _asyncToGenerator(function* (userId) {
        cov_7p9bcyhz4().f[8]++;
        cov_7p9bcyhz4().s[51]++;
        try {
          var _ref8 = (cov_7p9bcyhz4().s[52]++, yield supabase.from("profiles").select("mfa_enabled, mfa_verified").eq("id", userId).single()),
            profile = _ref8.data,
            error = _ref8.error;
          cov_7p9bcyhz4().s[53]++;
          if (error) {
            cov_7p9bcyhz4().b[8][0]++;
            cov_7p9bcyhz4().s[54]++;
            throw new Error(error.message);
          } else {
            cov_7p9bcyhz4().b[8][1]++;
          }
          cov_7p9bcyhz4().s[55]++;
          return (cov_7p9bcyhz4().b[9][0]++, profile == null ? void 0 : profile.mfa_enabled) && (cov_7p9bcyhz4().b[9][1]++, profile == null ? void 0 : profile.mfa_verified);
        } catch (error) {
          cov_7p9bcyhz4().s[56]++;
          console.error("Failed to check if MFA is required:", error);
          cov_7p9bcyhz4().s[57]++;
          return false;
        }
      });
      function isMFARequired(_x1) {
        return _isMFARequired.apply(this, arguments);
      }
      return isMFARequired;
    }())
  }, {
    key: "callMFAEndpoint",
    value: (function () {
      var _callMFAEndpoint = _asyncToGenerator(function* (endpoint) {
        var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (cov_7p9bcyhz4().b[10][0]++, {});
        var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (cov_7p9bcyhz4().b[11][0]++, "POST");
        cov_7p9bcyhz4().f[9]++;
        cov_7p9bcyhz4().s[58]++;
        try {
          var _ref9 = (cov_7p9bcyhz4().s[59]++, yield supabase.auth.getSession()),
            session = _ref9.data.session;
          cov_7p9bcyhz4().s[60]++;
          if (!session) {
            cov_7p9bcyhz4().b[12][0]++;
            cov_7p9bcyhz4().s[61]++;
            throw new Error("No active session");
          } else {
            cov_7p9bcyhz4().b[12][1]++;
          }
          var url = (cov_7p9bcyhz4().s[62]++, `${this.baseUrl}/${endpoint}`);
          var headers = (cov_7p9bcyhz4().s[63]++, {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${session.access_token}`
          });
          var response;
          cov_7p9bcyhz4().s[64]++;
          if (method === "GET") {
            cov_7p9bcyhz4().b[13][0]++;
            cov_7p9bcyhz4().s[65]++;
            response = yield fetch(url, {
              headers: headers,
              method: method
            });
          } else {
            cov_7p9bcyhz4().b[13][1]++;
            cov_7p9bcyhz4().s[66]++;
            response = yield fetch(url, {
              method: method,
              headers: headers,
              body: JSON.stringify(body)
            });
          }
          cov_7p9bcyhz4().s[67]++;
          if (!response.ok) {
            cov_7p9bcyhz4().b[14][0]++;
            var errorData = (cov_7p9bcyhz4().s[68]++, yield response.json());
            cov_7p9bcyhz4().s[69]++;
            throw new Error((cov_7p9bcyhz4().b[15][0]++, errorData.error) || (cov_7p9bcyhz4().b[15][1]++, `HTTP error ${response.status}`));
          } else {
            cov_7p9bcyhz4().b[14][1]++;
          }
          var data = (cov_7p9bcyhz4().s[70]++, yield response.json());
          cov_7p9bcyhz4().s[71]++;
          return {
            data: data,
            error: null
          };
        } catch (error) {
          cov_7p9bcyhz4().s[72]++;
          return {
            data: {},
            error: error
          };
        }
      });
      function callMFAEndpoint(_x10) {
        return _callMFAEndpoint.apply(this, arguments);
      }
      return callMFAEndpoint;
    }())
  }]);
}();
export var mfaService = (cov_7p9bcyhz4().s[73]++, new MFAService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdXBhYmFzZSIsIk1GQVNlcnZpY2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJjb3ZfN3A5YmN5aHo0IiwiZiIsInN1cGFiYXNlVXJsIiwicyIsImIiLCJhdXRoIiwidXJsIiwiYmFzZVVybCIsInJlcGxhY2UiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl9zdGFydEVucm9sbG1lbnQiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWYiLCJjYWxsTUZBRW5kcG9pbnQiLCJkYXRhIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwic3RhcnRFbnJvbGxtZW50IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdmVyaWZ5U2V0dXAiLCJjb2RlIiwiY2hhbGxlbmdlSWQiLCJfcmVmMiIsInZlcmlmeVNldHVwIiwiX3giLCJfeDIiLCJfYXV0aGVudGljYXRlIiwidXNlcklkIiwic2Vzc2lvbklkIiwiX3JlZjMiLCJhdXRoZW50aWNhdGUiLCJfeDMiLCJfeDQiLCJfeDUiLCJfdmFsaWRhdGVSZWNvdmVyeUNvZGUiLCJfcmVmNCIsInZhbGlkYXRlUmVjb3ZlcnlDb2RlIiwiX3g2IiwiX3g3IiwiX3g4IiwiX2Rpc2FibGVNRkEiLCJfcmVmNSIsImRpc2FibGVNRkEiLCJfeDkiLCJfZ2V0TUZBU3RhdHVzIiwiX3JlZjYiLCJnZXRNRkFTdGF0dXMiLCJfcmVnZW5lcmF0ZVJlY292ZXJ5Q29kZXMiLCJfcmVmNyIsInJlZ2VuZXJhdGVSZWNvdmVyeUNvZGVzIiwiX3gwIiwiX2lzTUZBUmVxdWlyZWQiLCJfcmVmOCIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsInByb2ZpbGUiLCJtZmFfZW5hYmxlZCIsIm1mYV92ZXJpZmllZCIsImlzTUZBUmVxdWlyZWQiLCJfeDEiLCJfY2FsbE1GQUVuZHBvaW50IiwiZW5kcG9pbnQiLCJib2R5IiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibWV0aG9kIiwiX3JlZjkiLCJnZXRTZXNzaW9uIiwic2Vzc2lvbiIsImhlYWRlcnMiLCJhY2Nlc3NfdG9rZW4iLCJyZXNwb25zZSIsImZldGNoIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsInN0YXR1cyIsIl94MTAiLCJtZmFTZXJ2aWNlIl0sInNvdXJjZXMiOlsibWZhU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCIuLi9saWIvc3VwYWJhc2VcIjtcblxuLyoqXG4gKiBNRkEgZW5yb2xsbWVudCByZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1GQUVucm9sbG1lbnRSZXNwb25zZSB7XG4gIHNlY3JldDogc3RyaW5nO1xuICBxckNvZGU6IHN0cmluZztcbiAgY2hhbGxlbmdlSWQ6IHN0cmluZztcbiAgYWxnb3JpdGhtOiBzdHJpbmc7XG4gIGRpZ2l0czogbnVtYmVyO1xuICBwZXJpb2Q6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNRkEgdmVyaWZpY2F0aW9uIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUZBVmVyaWZpY2F0aW9uUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICByZWNvdmVyeUNvZGVzOiBzdHJpbmdbXTtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIE1GQSBhdXRoZW50aWNhdGlvbiByZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1GQUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBNRkEgcmVjb3ZlcnkgY29kZSB2YWxpZGF0aW9uIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUZBUmVjb3ZlcnlSZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICByZWNvdmVyeUNvZGVzUmVtYWluaW5nOiBudW1iZXI7XG59XG5cbi8qKlxuICogTUZBIHN0YXR1cyByZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1GQVN0YXR1c1Jlc3BvbnNlIHtcbiAgbWZhRW5hYmxlZDogYm9vbGVhbjtcbiAgbWZhVmVyaWZpZWQ6IGJvb2xlYW47XG4gIGVucm9sbG1lbnRUaW1lOiBzdHJpbmcgfCBudWxsO1xuICByZWNvdmVyeUNvZGVzUmVtYWluaW5nOiBudW1iZXI7XG59XG5cbi8qKlxuICogTUZBIHNlcnZpY2UgZm9yIG1hbmFnaW5nIE11bHRpLUZhY3RvciBBdXRoZW50aWNhdGlvblxuICovXG5leHBvcnQgY2xhc3MgTUZBU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYmFzZVVybDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gR2V0IHRoZSBTdXBhYmFzZSBVUkwgZnJvbSB0aGUgY2xpZW50XG4gICAgY29uc3Qgc3VwYWJhc2VVcmwgPSBzdXBhYmFzZS5hdXRoLnVybCgpIHx8IFwiXCI7XG4gICAgLy8gUmVwbGFjZSB0aGUgYXV0aCBwYXJ0IHdpdGggZnVuY3Rpb25zXG4gICAgdGhpcy5iYXNlVXJsID0gc3VwYWJhc2VVcmwucmVwbGFjZShcIi9hdXRoL3YxXCIsIFwiL2Z1bmN0aW9ucy92MS9tZmFcIik7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgTUZBIGVucm9sbG1lbnQgcHJvY2Vzc1xuICAgKiBAcmV0dXJucyBNRkEgZW5yb2xsbWVudCBkYXRhIGluY2x1ZGluZyBzZWNyZXQgYW5kIFFSIGNvZGVcbiAgICovXG4gIGFzeW5jIHN0YXJ0RW5yb2xsbWVudCgpOiBQcm9taXNlPE1GQUVucm9sbG1lbnRSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNhbGxNRkFFbmRwb2ludDxNRkFFbnJvbGxtZW50UmVzcG9uc2U+KFwiZW5yb2xsXCIsIHt9LCBcIkdFVFwiKTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc3RhcnQgTUZBIGVucm9sbG1lbnQ6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZnkgTUZBIHNldHVwIHdpdGggYSBUT1RQIGNvZGVcbiAgICogQHBhcmFtIGNvZGUgLSBUaGUgVE9UUCBjb2RlIGZyb20gdGhlIGF1dGhlbnRpY2F0b3IgYXBwXG4gICAqIEBwYXJhbSBjaGFsbGVuZ2VJZCAtIFRoZSBjaGFsbGVuZ2UgSUQgZnJvbSBlbnJvbGxtZW50XG4gICAqIEByZXR1cm5zIFZlcmlmaWNhdGlvbiByZXN1bHQgd2l0aCByZWNvdmVyeSBjb2Rlc1xuICAgKi9cbiAgYXN5bmMgdmVyaWZ5U2V0dXAoY29kZTogc3RyaW5nLCBjaGFsbGVuZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxNRkFWZXJpZmljYXRpb25SZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNhbGxNRkFFbmRwb2ludDxNRkFWZXJpZmljYXRpb25SZXNwb25zZT4oXCJ2ZXJpZnlcIiwge1xuICAgICAgICBjb2RlLFxuICAgICAgICBjaGFsbGVuZ2VJZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHZlcmlmeSBNRkEgc2V0dXA6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBdXRoZW50aWNhdGUgd2l0aCBNRkEgZHVyaW5nIGxvZ2luXG4gICAqIEBwYXJhbSBjb2RlIC0gVGhlIFRPVFAgY29kZSBmcm9tIHRoZSBhdXRoZW50aWNhdG9yIGFwcFxuICAgKiBAcGFyYW0gdXNlcklkIC0gVGhlIHVzZXIgSUQgdG8gYXV0aGVudGljYXRlXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgLSBPcHRpb25hbCBzZXNzaW9uIElEIGZvciB0cmFja2luZ1xuICAgKiBAcmV0dXJucyBBdXRoZW50aWNhdGlvbiByZXN1bHRcbiAgICovXG4gIGFzeW5jIGF1dGhlbnRpY2F0ZShjb2RlOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBzZXNzaW9uSWQ/OiBzdHJpbmcpOiBQcm9taXNlPE1GQUF1dGhlbnRpY2F0aW9uUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jYWxsTUZBRW5kcG9pbnQ8TUZBQXV0aGVudGljYXRpb25SZXNwb25zZT4oXCJhdXRoZW50aWNhdGVcIiwge1xuICAgICAgICBjb2RlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIHNlc3Npb25JZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZSB3aXRoIE1GQTpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgcmVjb3ZlcnkgY29kZVxuICAgKiBAcGFyYW0gY29kZSAtIFRoZSByZWNvdmVyeSBjb2RlXG4gICAqIEBwYXJhbSB1c2VySWQgLSBUaGUgdXNlciBJRFxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIC0gT3B0aW9uYWwgc2Vzc2lvbiBJRCBmb3IgdHJhY2tpbmdcbiAgICogQHJldHVybnMgVmFsaWRhdGlvbiByZXN1bHRcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlUmVjb3ZlcnlDb2RlKGNvZGU6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIHNlc3Npb25JZD86IHN0cmluZyk6IFByb21pc2U8TUZBUmVjb3ZlcnlSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNhbGxNRkFFbmRwb2ludDxNRkFSZWNvdmVyeVJlc3BvbnNlPihcInZhbGlkYXRlLXJlY292ZXJ5XCIsIHtcbiAgICAgICAgY29kZSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBzZXNzaW9uSWRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB2YWxpZGF0ZSByZWNvdmVyeSBjb2RlOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSBNRkEgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAgICogQHBhcmFtIGNvZGUgLSBPcHRpb25hbCBUT1RQIGNvZGUgZm9yIHZlcmlmaWNhdGlvbiAocmVxdWlyZWQgZm9yIG5vbi1hZG1pbiB1c2VycylcbiAgICogQHJldHVybnMgUmVzdWx0IG9mIHRoZSBvcGVyYXRpb25cbiAgICovXG4gIGFzeW5jIGRpc2FibGVNRkEoY29kZT86IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNhbGxNRkFFbmRwb2ludDx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PihcImRpc2FibGVcIiwge1xuICAgICAgICBjb2RlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZGlzYWJsZSBNRkE6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgTUZBIHN0YXR1c1xuICAgKiBAcmV0dXJucyBNRkEgc3RhdHVzIGluZm9ybWF0aW9uXG4gICAqL1xuICBhc3luYyBnZXRNRkFTdGF0dXMoKTogUHJvbWlzZTxNRkFTdGF0dXNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmNhbGxNRkFFbmRwb2ludDxNRkFTdGF0dXNSZXNwb25zZT4oXCJzdGF0dXNcIiwge30sIFwiR0VUXCIpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgTUZBIHN0YXR1czpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2VuZXJhdGUgcmVjb3ZlcnkgY29kZXNcbiAgICogQHBhcmFtIGNvZGUgLSBUT1RQIGNvZGUgZm9yIHZlcmlmaWNhdGlvblxuICAgKiBAcmV0dXJucyBOZXcgcmVjb3ZlcnkgY29kZXNcbiAgICovXG4gIGFzeW5jIHJlZ2VuZXJhdGVSZWNvdmVyeUNvZGVzKGNvZGU6IHN0cmluZyk6IFByb21pc2U8TUZBVmVyaWZpY2F0aW9uUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5jYWxsTUZBRW5kcG9pbnQ8TUZBVmVyaWZpY2F0aW9uUmVzcG9uc2U+KFwicmVnZW5lcmF0ZS1yZWNvdmVyeS1jb2Rlc1wiLCB7XG4gICAgICAgIGNvZGVcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byByZWdlbmVyYXRlIHJlY292ZXJ5IGNvZGVzOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgTUZBIGlzIHJlcXVpcmVkIGZvciBhIHVzZXJcbiAgICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSUQgdG8gY2hlY2tcbiAgICogQHJldHVybnMgV2hldGhlciBNRkEgaXMgcmVxdWlyZWRcbiAgICovXG4gIGFzeW5jIGlzTUZBUmVxdWlyZWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHVzZXIgcHJvZmlsZSB0byBjaGVjayBpZiBNRkEgaXMgZW5hYmxlZFxuICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgICAuc2VsZWN0KFwibWZhX2VuYWJsZWQsIG1mYV92ZXJpZmllZFwiKVxuICAgICAgICAuZXEoXCJpZFwiLCB1c2VySWQpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHByb2ZpbGU/Lm1mYV9lbmFibGVkICYmIHByb2ZpbGU/Lm1mYV92ZXJpZmllZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjaGVjayBpZiBNRkEgaXMgcmVxdWlyZWQ6XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRGVmYXVsdCB0byBub3QgcmVxdWlyaW5nIE1GQSBvbiBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGFuIE1GQSBlbmRwb2ludFxuICAgKiBAcGFyYW0gZW5kcG9pbnQgLSBFbmRwb2ludCB0byBjYWxsXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBtZXRob2QgLSBIVFRQIG1ldGhvZFxuICAgKiBAcmV0dXJucyBSZXNwb25zZSBkYXRhIGFuZCBlcnJvclxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjYWxsTUZBRW5kcG9pbnQ8VD4oXG4gICAgZW5kcG9pbnQ6IHN0cmluZyxcbiAgICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30sXG4gICAgbWV0aG9kOiBcIkdFVFwiIHwgXCJQT1NUXCIgPSBcIlBPU1RcIlxuICApOiBQcm9taXNlPHsgZGF0YTogVDsgZXJyb3I6IEVycm9yIHwgbnVsbCB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSBzZXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVcmx9LyR7ZW5kcG9pbnR9YDtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYEJlYXJlciAke3Nlc3Npb24uYWNjZXNzX3Rva2VufWBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGxldCByZXNwb25zZTtcbiAgICAgIGlmIChtZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHsgaGVhZGVycywgbWV0aG9kIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEhUVFAgZXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBkYXRhIGFzIFQsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IGRhdGE6IHt9IGFzIFQsIGVycm9yOiBlcnJvciBhcyBFcnJvciB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBFeHBvcnQgYSBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBtZmFTZXJ2aWNlID0gbmV3IE1GQVNlcnZpY2UoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxTQUFTQSxRQUFRLFFBQVEsaUJBQWlCO0FB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