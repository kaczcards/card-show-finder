{"version":3,"names":["React","View","Text","StyleSheet","TouchableOpacity","Image","Ionicons","jsx","_jsx","jsxs","_jsxs","cov_1mwureuhi2","s","ConversationHeader","_ref","conversation","onBack","title","f","otherParticipant","b","participants","length","isGroupChat","type","participant_count","displayName","display_name","photoUrl","photo_url","style","styles","header","children","backButton","onPress","name","size","color","profileContainer","source","uri","avatar","avatarFallback","groupAvatar","avatarText","charAt","toUpperCase","titleContainer","numberOfLines","subtitle","actionButton","create","flexDirection","alignItems","backgroundColor","borderBottomWidth","borderBottomColor","padding","height","marginRight","flex","width","borderRadius","justifyContent","fontSize","fontWeight"],"sources":["ConversationHeader.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  Image\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { Conversation } from '../../../services/messagingService';\n\ninterface ConversationHeaderProps {\n  conversation: Conversation | null;\n  onBack: () => void;\n  title?: string;\n}\n\nconst ConversationHeader: React.FC<ConversationHeaderProps> = ({\n  conversation,\n  onBack,\n  title\n}) => {\n  // Get the other user's profile from the conversation\n  const otherParticipant = conversation?.participants && conversation.participants.length > 0 \n    ? conversation.participants[0] \n    : null;\n  \n  // For group chats, show count instead\n  const isGroupChat = conversation?.type !== 'direct' || (conversation?.participant_count || 0) > 2;\n  \n  // Determine display name with fallbacks\n  let displayName = title || '';\n  if (!displayName) {\n    if (isGroupChat) {\n      displayName = `Group (${conversation?.participant_count || 0})`;\n    } else if (otherParticipant?.display_name) {\n      displayName = otherParticipant.display_name;\n    } else {\n      displayName = 'Conversation';\n    }\n  }\n  \n  const photoUrl = !isGroupChat && otherParticipant?.photo_url;\n\n  return (\n    <View style={styles.header}>\n      <TouchableOpacity \n        style={styles.backButton}\n        onPress={onBack}\n      >\n        <Ionicons name=\"arrow-back\" size={24} color=\"#0057B8\" />\n      </TouchableOpacity>\n      \n      <View style={styles.profileContainer}>\n        {photoUrl ? (\n          <Image source={{ uri: photoUrl }} style={styles.avatar} />\n        ) : (\n          <View style={[\n            styles.avatarFallback, \n            isGroupChat && styles.groupAvatar\n          ]}>\n            <Text style={styles.avatarText}>\n              {isGroupChat \n                ? `${conversation?.participant_count || 0}` \n                : displayName.charAt(0).toUpperCase()}\n            </Text>\n          </View>\n        )}\n        \n        <View style={styles.titleContainer}>\n          <Text style={styles.title} numberOfLines={1}>\n            {displayName}\n          </Text>\n          {otherParticipant && (\n            <Text style={styles.subtitle} numberOfLines={1}>\n              {isGroupChat \n                ? `${conversation?.participant_count || 0} participants` \n                : 'Tap for details'}\n            </Text>\n          )}\n        </View>\n      </View>\n      \n      <TouchableOpacity style={styles.actionButton}>\n        <Ionicons name=\"ellipsis-vertical\" size={20} color=\"#0057B8\" />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF',\n    borderBottomWidth: 1,\n    borderBottomColor: '#E1E1E1',\n    padding: 12,\n    height: 60,\n  },\n  backButton: {\n    marginRight: 8,\n  },\n  profileContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  avatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    marginRight: 10,\n  },\n  avatarFallback: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: '#0057B8',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 10,\n  },\n  groupAvatar: {\n    backgroundColor: '#FF6A00',\n  },\n  avatarText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  titleContainer: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#333333',\n  },\n  subtitle: {\n    fontSize: 12,\n    color: '#8E8E93',\n  },\n  actionButton: {\n    padding: 8,\n  },\n});\n\nexport default ConversationHeader;\n"],"mappings":"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","ignoreList":[]}