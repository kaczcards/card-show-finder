7695b6a11927c1dd86e390e4dc3f4d80
_getJestObj().mock('../../../src/contexts/AuthContext', function () {
  return {
    useAuth: jest.fn()
  };
});
_getJestObj().mock('../../../src/components/Chat', function () {
  return {
    ChatList: jest.fn(function () {
      return null;
    })
  };
});
_getJestObj().mock('../../../src/supabase', function () {
  return {
    supabase: {
      from: jest.fn(function () {
        return {
          select: jest.fn(function () {
            return {
              eq: jest.fn(function () {
                return {
                  single: jest.fn(function () {
                    return Promise.resolve({
                      data: {
                        id: 'user-1',
                        username: 'testuser',
                        role: 'attendee'
                      },
                      error: null
                    });
                  })
                };
              })
            };
          })
        };
      })
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _DirectMessagesScreen = _interopRequireDefault(require("../../../src/screens/Messages/DirectMessagesScreen"));
var _AuthContext = require("../../../src/contexts/AuthContext");
var _Chat = require("../../../src/components/Chat");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNavigation = {
  navigate: jest.fn(),
  setOptions: jest.fn()
};
var mockRoute = {
  params: {}
};
describe('DirectMessagesScreen', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _AuthContext.useAuth.mockReturnValue({
      authState: {
        user: {
          id: 'user-1',
          email: 'test@example.com'
        }
      }
    });
    mockRoute.params = {};
  });
  test('renders correctly when user is logged in', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      getByText = _render.getByText;
    expect(getByText('Messages')).toBeTruthy();
  });
  test('renders sign in message when user is not logged in', function () {
    _AuthContext.useAuth.mockReturnValue({
      authState: {
        user: null
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      getByText = _render2.getByText;
    expect(getByText('Please sign in to use messages')).toBeTruthy();
    expect(getByText('Sign In')).toBeTruthy();
  });
  test('navigates to Profile when Sign In button is pressed', function () {
    _AuthContext.useAuth.mockReturnValue({
      authState: {
        user: null
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      getByText = _render3.getByText;
    _reactNative.fireEvent.press(getByText('Sign In'));
    expect(mockNavigation.navigate).toHaveBeenCalledWith('Profile');
  });
  test('renders new conversation UI when showNewConversation is true', (0, _asyncToGenerator2.default)(function* () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: {
          params: {
            isNewConversation: true
          }
        }
      })),
      getByText = _render4.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('New Message')).toBeTruthy();
      expect(getByText('Back to Messages')).toBeTruthy();
    });
  }));
  test('passes stable function props to ChatList (wrapped in useCallback)', function () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      rerender = _render5.rerender;
    var firstRenderProps = _Chat.ChatList.mock.calls[0][0];
    var firstHandleSelectConversation = firstRenderProps.onSelectConversation;
    var firstHandleCreateNewConversation = firstRenderProps.onCreateNewConversation;
    rerender((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
      navigation: mockNavigation,
      route: mockRoute
    }));
    var secondRenderProps = _Chat.ChatList.mock.calls[1][0];
    var secondHandleSelectConversation = secondRenderProps.onSelectConversation;
    var secondHandleCreateNewConversation = secondRenderProps.onCreateNewConversation;
    expect(secondHandleSelectConversation).toBe(firstHandleSelectConversation);
    expect(secondHandleCreateNewConversation).toBe(firstHandleCreateNewConversation);
  });
  test('handleSelectConversation updates navigation title correctly', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
      navigation: mockNavigation,
      route: mockRoute
    }));
    var chatListProps = _Chat.ChatList.mock.calls[0][0];
    var handleSelectConversation = chatListProps.onSelectConversation;
    var mockConversation = {
      id: 'convo-1',
      participants: [{
        user_id: 'user-2',
        display_name: 'John Doe'
      }]
    };
    handleSelectConversation(mockConversation);
    expect(mockNavigation.setOptions).toHaveBeenCalledWith({
      title: 'John Doe'
    });
  });
  test('handleSelectConversation uses fallback title when display_name is missing', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
      navigation: mockNavigation,
      route: mockRoute
    }));
    var chatListProps = _Chat.ChatList.mock.calls[0][0];
    var handleSelectConversation = chatListProps.onSelectConversation;
    var mockConversation = {
      id: 'convo-1',
      participants: [{
        user_id: 'user-2'
      }]
    };
    handleSelectConversation(mockConversation);
    expect(mockNavigation.setOptions).toHaveBeenCalledWith({
      title: 'Conversation'
    });
  });
  test('handleCreateNewConversation sets showNewConversation to true', function () {
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      queryByText = _render6.queryByText;
    expect(queryByText('New Message')).toBeFalsy();
    var chatListProps = _Chat.ChatList.mock.calls[0][0];
    var handleCreateNewConversation = chatListProps.onCreateNewConversation;
    handleCreateNewConversation();
    expect(queryByText('New Message')).toBeTruthy();
  });
  test('functions remain stable even when props change', function () {
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      rerender = _render7.rerender;
    var firstRenderProps = _Chat.ChatList.mock.calls[0][0];
    var firstHandleSelectConversation = firstRenderProps.onSelectConversation;
    var updatedNavigation = Object.assign({}, mockNavigation, {
      addListener: jest.fn()
    });
    rerender((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
      navigation: updatedNavigation,
      route: mockRoute
    }));
    var secondRenderProps = _Chat.ChatList.mock.calls[1][0];
    var secondHandleSelectConversation = secondRenderProps.onSelectConversation;
    expect(secondRenderProps.onCreateNewConversation).toBe(firstRenderProps.onCreateNewConversation);
    if (updatedNavigation === mockNavigation) {
      expect(secondHandleSelectConversation).toBe(firstHandleSelectConversation);
    } else {
      expect(secondHandleSelectConversation).not.toBe(firstHandleSelectConversation);
    }
  });
  test('initialConversationId is passed correctly to ChatList', function () {
    var conversationId = 'test-conversation-id';
    mockRoute.params = {
      conversationId: conversationId
    };
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
      navigation: mockNavigation,
      route: mockRoute
    }));
    var chatListProps = _Chat.ChatList.mock.calls[0][0];
    expect(chatListProps.initialConversationId).toBe(conversationId);
  });
  test('debug panel toggles when debug button is pressed', function () {
    var _getByText$parentElem;
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_DirectMessagesScreen.default, {
        navigation: mockNavigation,
        route: mockRoute
      })),
      getByText = _render8.getByText,
      queryByText = _render8.queryByText;
    expect(queryByText('Debug Info')).toBeFalsy();
    var debugButton = (_getByText$parentElem = getByText('Messages').parentElement) == null ? void 0 : _getByText$parentElem.querySelector('TouchableOpacity');
    _reactNative.fireEvent.press(debugButton);
    expect(queryByText('Debug Info')).toBeTruthy();
    _reactNative.fireEvent.press(debugButton);
    expect(queryByText('Debug Info')).toBeFalsy();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VBdXRoIiwiamVzdCIsImZuIiwiQ2hhdExpc3QiLCJzdXBhYmFzZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGF0YSIsImlkIiwidXNlcm5hbWUiLCJyb2xlIiwiZXJyb3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9EaXJlY3RNZXNzYWdlc1NjcmVlbiIsIl9BdXRoQ29udGV4dCIsIl9DaGF0IiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsIm1vY2tOYXZpZ2F0aW9uIiwibmF2aWdhdGUiLCJzZXRPcHRpb25zIiwibW9ja1JvdXRlIiwicGFyYW1zIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImF1dGhTdGF0ZSIsInVzZXIiLCJlbWFpbCIsInRlc3QiLCJfcmVuZGVyIiwicmVuZGVyIiwianN4IiwiZGVmYXVsdCIsIm5hdmlnYXRpb24iLCJyb3V0ZSIsImdldEJ5VGV4dCIsImV4cGVjdCIsInRvQmVUcnV0aHkiLCJfcmVuZGVyMiIsIl9yZW5kZXIzIiwiZmlyZUV2ZW50IiwicHJlc3MiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIl9yZW5kZXI0IiwiaXNOZXdDb252ZXJzYXRpb24iLCJ3YWl0Rm9yIiwiX3JlbmRlcjUiLCJyZXJlbmRlciIsImZpcnN0UmVuZGVyUHJvcHMiLCJjYWxscyIsImZpcnN0SGFuZGxlU2VsZWN0Q29udmVyc2F0aW9uIiwib25TZWxlY3RDb252ZXJzYXRpb24iLCJmaXJzdEhhbmRsZUNyZWF0ZU5ld0NvbnZlcnNhdGlvbiIsIm9uQ3JlYXRlTmV3Q29udmVyc2F0aW9uIiwic2Vjb25kUmVuZGVyUHJvcHMiLCJzZWNvbmRIYW5kbGVTZWxlY3RDb252ZXJzYXRpb24iLCJzZWNvbmRIYW5kbGVDcmVhdGVOZXdDb252ZXJzYXRpb24iLCJ0b0JlIiwiY2hhdExpc3RQcm9wcyIsImhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbiIsIm1vY2tDb252ZXJzYXRpb24iLCJwYXJ0aWNpcGFudHMiLCJ1c2VyX2lkIiwiZGlzcGxheV9uYW1lIiwidGl0bGUiLCJfcmVuZGVyNiIsInF1ZXJ5QnlUZXh0IiwidG9CZUZhbHN5IiwiaGFuZGxlQ3JlYXRlTmV3Q29udmVyc2F0aW9uIiwiX3JlbmRlcjciLCJ1cGRhdGVkTmF2aWdhdGlvbiIsIk9iamVjdCIsImFzc2lnbiIsImFkZExpc3RlbmVyIiwibm90IiwiY29udmVyc2F0aW9uSWQiLCJpbml0aWFsQ29udmVyc2F0aW9uSWQiLCJfZ2V0QnlUZXh0JHBhcmVudEVsZW0iLCJfcmVuZGVyOCIsImRlYnVnQnV0dG9uIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiXSwic291cmNlcyI6WyJEaXJlY3RNZXNzYWdlc1NjcmVlbi50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgRGlyZWN0TWVzc2FnZXNTY3JlZW4gZnJvbSAnLi4vLi4vLi4vc3JjL3NjcmVlbnMvTWVzc2FnZXMvRGlyZWN0TWVzc2FnZXNTY3JlZW4nO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyBDaGF0TGlzdCB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXQnO1xuXG4vLyBNb2NrIHRoZSBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0JywgKCkgPT4gKHtcbiAgdXNlQXV0aDogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NoYXQnLCAoKSA9PiAoe1xuICBDaGF0TGlzdDogamVzdC5mbigoKSA9PiBudWxsKSxcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi8uLi9zcmMvc3VwYWJhc2UnLCAoKSA9PiAoe1xuICBzdXBhYmFzZToge1xuICAgIGZyb206IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBlcTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiB7IGlkOiAndXNlci0xJywgdXNlcm5hbWU6ICd0ZXN0dXNlcicsIHJvbGU6ICdhdHRlbmRlZScgfSwgZXJyb3I6IG51bGwgfSkpLFxuICAgICAgICB9KSksXG4gICAgICB9KSksXG4gICAgfSkpLFxuICB9LFxufSkpO1xuXG4vLyBOYXZpZ2F0aW9uIG1vY2tcbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0ge1xuICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICBzZXRPcHRpb25zOiBqZXN0LmZuKCksXG59O1xuXG4vLyBSb3V0ZSBwYXJhbXMgbW9ja1xuY29uc3QgbW9ja1JvdXRlID0ge1xuICBwYXJhbXM6IHt9LFxufTtcblxuZGVzY3JpYmUoJ0RpcmVjdE1lc3NhZ2VzU2NyZWVuJywgKCkgPT4ge1xuICAvLyBSZXNldCBtb2NrcyBiZWZvcmUgZWFjaCB0ZXN0XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIERlZmF1bHQgYXV0aCBtb2NrIGltcGxlbWVudGF0aW9uXG4gICAgKHVzZUF1dGggYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgYXV0aFN0YXRlOiB7XG4gICAgICAgIHVzZXI6IHsgaWQ6ICd1c2VyLTEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFJlc2V0IHJvdXRlIHBhcmFtc1xuICAgIG1vY2tSb3V0ZS5wYXJhbXMgPSB7fTtcbiAgfSk7XG5cbiAgdGVzdCgncmVuZGVycyBjb3JyZWN0bHkgd2hlbiB1c2VyIGlzIGxvZ2dlZCBpbicsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnTWVzc2FnZXMnKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICB0ZXN0KCdyZW5kZXJzIHNpZ24gaW4gbWVzc2FnZSB3aGVuIHVzZXIgaXMgbm90IGxvZ2dlZCBpbicsICgpID0+IHtcbiAgICAodXNlQXV0aCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBhdXRoU3RhdGU6IHsgdXNlcjogbnVsbCB9LFxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8RGlyZWN0TWVzc2FnZXNTY3JlZW4gbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259IHJvdXRlPXttb2NrUm91dGV9IC8+XG4gICAgKTtcbiAgICBcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCdQbGVhc2Ugc2lnbiBpbiB0byB1c2UgbWVzc2FnZXMnKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoJ1NpZ24gSW4nKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICB0ZXN0KCduYXZpZ2F0ZXMgdG8gUHJvZmlsZSB3aGVuIFNpZ24gSW4gYnV0dG9uIGlzIHByZXNzZWQnLCAoKSA9PiB7XG4gICAgKHVzZUF1dGggYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgYXV0aFN0YXRlOiB7IHVzZXI6IG51bGwgfSxcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5VGV4dCgnU2lnbiBJbicpKTtcbiAgICBleHBlY3QobW9ja05hdmlnYXRpb24ubmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdQcm9maWxlJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3JlbmRlcnMgbmV3IGNvbnZlcnNhdGlvbiBVSSB3aGVuIHNob3dOZXdDb252ZXJzYXRpb24gaXMgdHJ1ZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17eyBwYXJhbXM6IHsgaXNOZXdDb252ZXJzYXRpb246IHRydWUgfSB9fSAvPlxuICAgICk7XG4gICAgXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdOZXcgTWVzc2FnZScpKS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdCYWNrIHRvIE1lc3NhZ2VzJykpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgncGFzc2VzIHN0YWJsZSBmdW5jdGlvbiBwcm9wcyB0byBDaGF0TGlzdCAod3JhcHBlZCBpbiB1c2VDYWxsYmFjayknLCAoKSA9PiB7XG4gICAgLy8gRmlyc3QgcmVuZGVyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBwcm9wcyBwYXNzZWQgdG8gQ2hhdExpc3Qgb24gZmlyc3QgcmVuZGVyXG4gICAgY29uc3QgZmlyc3RSZW5kZXJQcm9wcyA9IChDaGF0TGlzdCBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHNbMF1bMF07XG4gICAgY29uc3QgZmlyc3RIYW5kbGVTZWxlY3RDb252ZXJzYXRpb24gPSBmaXJzdFJlbmRlclByb3BzLm9uU2VsZWN0Q29udmVyc2F0aW9uO1xuICAgIGNvbnN0IGZpcnN0SGFuZGxlQ3JlYXRlTmV3Q29udmVyc2F0aW9uID0gZmlyc3RSZW5kZXJQcm9wcy5vbkNyZWF0ZU5ld0NvbnZlcnNhdGlvbjtcbiAgICBcbiAgICAvLyBGb3JjZSBhIHJlLXJlbmRlclxuICAgIHJlcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBwcm9wcyBwYXNzZWQgdG8gQ2hhdExpc3Qgb24gc2Vjb25kIHJlbmRlclxuICAgIGNvbnN0IHNlY29uZFJlbmRlclByb3BzID0gKENoYXRMaXN0IGFzIGplc3QuTW9jaykubW9jay5jYWxsc1sxXVswXTtcbiAgICBjb25zdCBzZWNvbmRIYW5kbGVTZWxlY3RDb252ZXJzYXRpb24gPSBzZWNvbmRSZW5kZXJQcm9wcy5vblNlbGVjdENvbnZlcnNhdGlvbjtcbiAgICBjb25zdCBzZWNvbmRIYW5kbGVDcmVhdGVOZXdDb252ZXJzYXRpb24gPSBzZWNvbmRSZW5kZXJQcm9wcy5vbkNyZWF0ZU5ld0NvbnZlcnNhdGlvbjtcbiAgICBcbiAgICAvLyBJZiB0aGUgZnVuY3Rpb25zIGFyZSB3cmFwcGVkIGluIHVzZUNhbGxiYWNrLCB0aGV5IHNob3VsZCBtYWludGFpbiByZWZlcmVudGlhbCBlcXVhbGl0eVxuICAgIGV4cGVjdChzZWNvbmRIYW5kbGVTZWxlY3RDb252ZXJzYXRpb24pLnRvQmUoZmlyc3RIYW5kbGVTZWxlY3RDb252ZXJzYXRpb24pO1xuICAgIGV4cGVjdChzZWNvbmRIYW5kbGVDcmVhdGVOZXdDb252ZXJzYXRpb24pLnRvQmUoZmlyc3RIYW5kbGVDcmVhdGVOZXdDb252ZXJzYXRpb24pO1xuICB9KTtcblxuICB0ZXN0KCdoYW5kbGVTZWxlY3RDb252ZXJzYXRpb24gdXBkYXRlcyBuYXZpZ2F0aW9uIHRpdGxlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAvLyBSZW5kZXIgdGhlIGNvbXBvbmVudFxuICAgIHJlbmRlcihcbiAgICAgIDxEaXJlY3RNZXNzYWdlc1NjcmVlbiBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gcm91dGU9e21vY2tSb3V0ZX0gLz5cbiAgICApO1xuICAgIFxuICAgIC8vIEdldCB0aGUgb25TZWxlY3RDb252ZXJzYXRpb24gZnVuY3Rpb24gcGFzc2VkIHRvIENoYXRMaXN0XG4gICAgY29uc3QgY2hhdExpc3RQcm9wcyA9IChDaGF0TGlzdCBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHNbMF1bMF07XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0Q29udmVyc2F0aW9uID0gY2hhdExpc3RQcm9wcy5vblNlbGVjdENvbnZlcnNhdGlvbjtcbiAgICBcbiAgICAvLyBDYWxsIHRoZSBmdW5jdGlvbiB3aXRoIGEgbW9jayBjb252ZXJzYXRpb25cbiAgICBjb25zdCBtb2NrQ29udmVyc2F0aW9uID0ge1xuICAgICAgaWQ6ICdjb252by0xJyxcbiAgICAgIHBhcnRpY2lwYW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgdXNlcl9pZDogJ3VzZXItMicsXG4gICAgICAgICAgZGlzcGxheV9uYW1lOiAnSm9obiBEb2UnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICAgIGhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbihtb2NrQ29udmVyc2F0aW9uKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBuYXZpZ2F0aW9uLnNldE9wdGlvbnMgd2FzIGNhbGxlZCB3aXRoIHRoZSBjb3JyZWN0IHRpdGxlXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0aW9uLnNldE9wdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgIHRpdGxlOiAnSm9obiBEb2UnLFxuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdoYW5kbGVTZWxlY3RDb252ZXJzYXRpb24gdXNlcyBmYWxsYmFjayB0aXRsZSB3aGVuIGRpc3BsYXlfbmFtZSBpcyBtaXNzaW5nJywgKCkgPT4ge1xuICAgIC8vIFJlbmRlciB0aGUgY29tcG9uZW50XG4gICAgcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBvblNlbGVjdENvbnZlcnNhdGlvbiBmdW5jdGlvbiBwYXNzZWQgdG8gQ2hhdExpc3RcbiAgICBjb25zdCBjaGF0TGlzdFByb3BzID0gKENoYXRMaXN0IGFzIGplc3QuTW9jaykubW9jay5jYWxsc1swXVswXTtcbiAgICBjb25zdCBoYW5kbGVTZWxlY3RDb252ZXJzYXRpb24gPSBjaGF0TGlzdFByb3BzLm9uU2VsZWN0Q29udmVyc2F0aW9uO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIGZ1bmN0aW9uIHdpdGggYSBtb2NrIGNvbnZlcnNhdGlvbiB0aGF0IGhhcyBubyBkaXNwbGF5X25hbWVcbiAgICBjb25zdCBtb2NrQ29udmVyc2F0aW9uID0ge1xuICAgICAgaWQ6ICdjb252by0xJyxcbiAgICAgIHBhcnRpY2lwYW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgdXNlcl9pZDogJ3VzZXItMicsXG4gICAgICAgICAgLy8gTm8gZGlzcGxheV9uYW1lXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG4gICAgaGFuZGxlU2VsZWN0Q29udmVyc2F0aW9uKG1vY2tDb252ZXJzYXRpb24pO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIG5hdmlnYXRpb24uc2V0T3B0aW9ucyB3YXMgY2FsbGVkIHdpdGggdGhlIGZhbGxiYWNrIHRpdGxlXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0aW9uLnNldE9wdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgIHRpdGxlOiAnQ29udmVyc2F0aW9uJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgnaGFuZGxlQ3JlYXRlTmV3Q29udmVyc2F0aW9uIHNldHMgc2hvd05ld0NvbnZlcnNhdGlvbiB0byB0cnVlJywgKCkgPT4ge1xuICAgIC8vIFJlbmRlciB0aGUgY29tcG9uZW50XG4gICAgY29uc3QgeyBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgLy8gSW5pdGlhbGx5LCB0aGUgbmV3IG1lc3NhZ2UgVUkgc2hvdWxkIG5vdCBiZSB2aXNpYmxlXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCdOZXcgTWVzc2FnZScpKS50b0JlRmFsc3koKTtcbiAgICBcbiAgICAvLyBHZXQgdGhlIG9uQ3JlYXRlTmV3Q29udmVyc2F0aW9uIGZ1bmN0aW9uIHBhc3NlZCB0byBDaGF0TGlzdFxuICAgIGNvbnN0IGNoYXRMaXN0UHJvcHMgPSAoQ2hhdExpc3QgYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzWzBdWzBdO1xuICAgIGNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NvbnZlcnNhdGlvbiA9IGNoYXRMaXN0UHJvcHMub25DcmVhdGVOZXdDb252ZXJzYXRpb247XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb25cbiAgICBoYW5kbGVDcmVhdGVOZXdDb252ZXJzYXRpb24oKTtcbiAgICBcbiAgICAvLyBOb3cgdGhlIG5ldyBtZXNzYWdlIFVJIHNob3VsZCBiZSB2aXNpYmxlXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCdOZXcgTWVzc2FnZScpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuXG4gIHRlc3QoJ2Z1bmN0aW9ucyByZW1haW4gc3RhYmxlIGV2ZW4gd2hlbiBwcm9wcyBjaGFuZ2UnLCAoKSA9PiB7XG4gICAgLy8gRmlyc3QgcmVuZGVyIHdpdGggaW5pdGlhbCByb3V0ZVxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcihcbiAgICAgIDxEaXJlY3RNZXNzYWdlc1NjcmVlbiBcbiAgICAgICAgbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259IFxuICAgICAgICByb3V0ZT17bW9ja1JvdXRlfSBcbiAgICAgIC8+XG4gICAgKTtcbiAgICBcbiAgICAvLyBHZXQgdGhlIHByb3BzIHBhc3NlZCB0byBDaGF0TGlzdCBvbiBmaXJzdCByZW5kZXJcbiAgICBjb25zdCBmaXJzdFJlbmRlclByb3BzID0gKENoYXRMaXN0IGFzIGplc3QuTW9jaykubW9jay5jYWxsc1swXVswXTtcbiAgICBjb25zdCBmaXJzdEhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbiA9IGZpcnN0UmVuZGVyUHJvcHMub25TZWxlY3RDb252ZXJzYXRpb247XG4gICAgXG4gICAgLy8gQ2hhbmdlIHRoZSBuYXZpZ2F0aW9uIHByb3BcbiAgICBjb25zdCB1cGRhdGVkTmF2aWdhdGlvbiA9IHtcbiAgICAgIC4uLm1vY2tOYXZpZ2F0aW9uLFxuICAgICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICB9O1xuICAgIFxuICAgIC8vIFJlLXJlbmRlciB3aXRoIGRpZmZlcmVudCBuYXZpZ2F0aW9uIHByb3BcbiAgICByZXJlbmRlcihcbiAgICAgIDxEaXJlY3RNZXNzYWdlc1NjcmVlbiBcbiAgICAgICAgbmF2aWdhdGlvbj17dXBkYXRlZE5hdmlnYXRpb259IFxuICAgICAgICByb3V0ZT17bW9ja1JvdXRlfSBcbiAgICAgIC8+XG4gICAgKTtcbiAgICBcbiAgICAvLyBHZXQgdGhlIHByb3BzIHBhc3NlZCB0byBDaGF0TGlzdCBvbiBzZWNvbmQgcmVuZGVyXG4gICAgY29uc3Qgc2Vjb25kUmVuZGVyUHJvcHMgPSAoQ2hhdExpc3QgYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzWzFdWzBdO1xuICAgIGNvbnN0IHNlY29uZEhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbiA9IHNlY29uZFJlbmRlclByb3BzLm9uU2VsZWN0Q29udmVyc2F0aW9uO1xuICAgIFxuICAgIC8vIFRoZSBvbkNyZWF0ZU5ld0NvbnZlcnNhdGlvbiBmdW5jdGlvbiBzaG91bGQgcmVtYWluIHN0YWJsZSAobm8gZGVwZW5kZW5jaWVzKVxuICAgIGV4cGVjdChzZWNvbmRSZW5kZXJQcm9wcy5vbkNyZWF0ZU5ld0NvbnZlcnNhdGlvbikudG9CZShmaXJzdFJlbmRlclByb3BzLm9uQ3JlYXRlTmV3Q29udmVyc2F0aW9uKTtcbiAgICBcbiAgICAvLyBUaGUgb25TZWxlY3RDb252ZXJzYXRpb24gZnVuY3Rpb24gbWlnaHQgY2hhbmdlIGJlY2F1c2UgaXQgZGVwZW5kcyBvbiBuYXZpZ2F0aW9uXG4gICAgLy8gQnV0IHRoaXMgdGVzdCB2ZXJpZmllcyBvdXIgaW1wbGVtZW50YXRpb24gaXMgY29ycmVjdCBlaXRoZXIgd2F5XG4gICAgaWYgKHVwZGF0ZWROYXZpZ2F0aW9uID09PSBtb2NrTmF2aWdhdGlvbikge1xuICAgICAgLy8gSWYgbmF2aWdhdGlvbiByZWZlcmVuY2UgaXMgdGhlIHNhbWUsIGZ1bmN0aW9uIHNob3VsZCBiZSB0aGUgc2FtZVxuICAgICAgZXhwZWN0KHNlY29uZEhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbikudG9CZShmaXJzdEhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIG5hdmlnYXRpb24gcmVmZXJlbmNlIGNoYW5nZWQsIGZ1bmN0aW9uIG1pZ2h0IGNoYW5nZSB0b28gKGR1ZSB0byBkZXBlbmRlbmN5KVxuICAgICAgLy8gVGhpcyBpcyBleHBlY3RlZCBiZWhhdmlvciB3aXRoIHVzZUNhbGxiYWNrIHdoZW4gZGVwZW5kZW5jaWVzIGNoYW5nZVxuICAgICAgZXhwZWN0KHNlY29uZEhhbmRsZVNlbGVjdENvbnZlcnNhdGlvbikubm90LnRvQmUoZmlyc3RIYW5kbGVTZWxlY3RDb252ZXJzYXRpb24pO1xuICAgIH1cbiAgfSk7XG5cbiAgdGVzdCgnaW5pdGlhbENvbnZlcnNhdGlvbklkIGlzIHBhc3NlZCBjb3JyZWN0bHkgdG8gQ2hhdExpc3QnLCAoKSA9PiB7XG4gICAgLy8gU2V0IHVwIHJvdXRlIHdpdGggaW5pdGlhbENvbnZlcnNhdGlvbklkXG4gICAgY29uc3QgY29udmVyc2F0aW9uSWQgPSAndGVzdC1jb252ZXJzYXRpb24taWQnO1xuICAgIG1vY2tSb3V0ZS5wYXJhbXMgPSB7IGNvbnZlcnNhdGlvbklkIH07XG4gICAgXG4gICAgLy8gUmVuZGVyIHRoZSBjb21wb25lbnRcbiAgICByZW5kZXIoXG4gICAgICA8RGlyZWN0TWVzc2FnZXNTY3JlZW4gbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259IHJvdXRlPXttb2NrUm91dGV9IC8+XG4gICAgKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBpbml0aWFsQ29udmVyc2F0aW9uSWQgd2FzIHBhc3NlZCB0byBDaGF0TGlzdFxuICAgIGNvbnN0IGNoYXRMaXN0UHJvcHMgPSAoQ2hhdExpc3QgYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzWzBdWzBdO1xuICAgIGV4cGVjdChjaGF0TGlzdFByb3BzLmluaXRpYWxDb252ZXJzYXRpb25JZCkudG9CZShjb252ZXJzYXRpb25JZCk7XG4gIH0pO1xuXG4gIHRlc3QoJ2RlYnVnIHBhbmVsIHRvZ2dsZXMgd2hlbiBkZWJ1ZyBidXR0b24gaXMgcHJlc3NlZCcsICgpID0+IHtcbiAgICAvLyBSZW5kZXIgdGhlIGNvbXBvbmVudFxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0LCBxdWVyeUJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPERpcmVjdE1lc3NhZ2VzU2NyZWVuIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSByb3V0ZT17bW9ja1JvdXRlfSAvPlxuICAgICk7XG4gICAgXG4gICAgLy8gRGVidWcgcGFuZWwgc2hvdWxkIG5vdCBiZSB2aXNpYmxlIGluaXRpYWxseVxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dCgnRGVidWcgSW5mbycpKS50b0JlRmFsc3koKTtcbiAgICBcbiAgICAvLyBGaW5kIGFuZCBwcmVzcyB0aGUgZGVidWcgYnV0dG9uIChpdCBoYXMgYW4gaWNvbiwgc28gd2UnbGwgbmVlZCB0byBmaW5kIGl0IGJ5IGl0cyByb2xlKVxuICAgIGNvbnN0IGRlYnVnQnV0dG9uID0gZ2V0QnlUZXh0KCdNZXNzYWdlcycpLnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJ1RvdWNoYWJsZU9wYWNpdHknKTtcbiAgICBmaXJlRXZlbnQucHJlc3MoZGVidWdCdXR0b24pO1xuICAgIFxuICAgIC8vIERlYnVnIHBhbmVsIHNob3VsZCBub3cgYmUgdmlzaWJsZVxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dCgnRGVidWcgSW5mbycpKS50b0JlVHJ1dGh5KCk7XG4gICAgXG4gICAgLy8gUHJlc3MgdGhlIGRlYnVnIGJ1dHRvbiBhZ2FpblxuICAgIGZpcmVFdmVudC5wcmVzcyhkZWJ1Z0J1dHRvbik7XG4gICAgXG4gICAgLy8gRGVidWcgcGFuZWwgc2hvdWxkIGJlIGhpZGRlbiBhZ2FpblxuICAgIGV4cGVjdChxdWVyeUJ5VGV4dCgnRGVidWcgSW5mbycpKS50b0JlRmFsc3koKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBT0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG1DQUFtQyxFQUFFO0VBQUEsT0FBTztJQUNwREMsT0FBTyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNuQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBRUhKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDhCQUE4QixFQUFFO0VBQUEsT0FBTztJQUMvQ0ksUUFBUSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU0sSUFBSTtJQUFBO0VBQzlCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEosV0FBQSxHQUFLQyxJQUFJLENBQUMsdUJB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