{"version":3,"names":["React","useState","useEffect","useRef","View","Text","FlatList","TextInput","TouchableOpacity","StyleSheet","ActivityIndicator","KeyboardAvoidingView","Platform","Image","SafeAreaView","getMessages","sendMessage","markMessagesAsRead","Ionicons","jsx","_jsx","jsxs","_jsxs","cov_22jd7xfkta","s","formatMessageTime","dateString","f","messageDate","Date","toLocaleTimeString","hour","minute","groupMessagesByDate","messages","groups","forEach","message","date","created_at","toLocaleDateString","b","push","Object","keys","map","MessageDetail","_ref","conversationId","userId","recipientId","_ref$recipientName","recipientName","recipientAvatar","onMessageSent","_ref2","_ref3","_slicedToArray","setMessages","_ref4","_ref5","isLoading","setIsLoading","_ref6","_ref7","messageText","setMessageText","_ref8","_ref9","isSending","setIsSending","_ref0","_ref1","error","setError","flatListRef","inputRef","fetchMessages","setupSubscription","_ref10","_asyncToGenerator","subscription","supabase","from","on","payload","new","conversation_id","prevMessages","concat","_toConsumableArray","recipient_id","scrollToBottom","subscribe","removeSubscription","apply","arguments","then","cleanup","length","_ref11","fetchedMessages","setTimeout","console","handleSendMessage","_ref12","trim","_inputRef$current","trimmedMessage","current","focus","scrollToEnd","animated","renderDateSeparator","today","yesterday","setDate","getDate","displayDate","toDateString","year","month","day","style","styles","dateSeparator","children","dateSeparatorText","renderMessage","_ref13","item","isUserMessage","sender_id","messageContainer","userMessageContainer","otherMessageContainer","avatarContainer","source","uri","avatar","avatarPlaceholder","avatarText","charAt","toUpperCase","messageBubble","userMessageBubble","otherMessageBubble","userMessageText","otherMessageText","content","messageTime","userMessageTime","otherMessageTime","read_at","readReceipt","renderMessageList","loadingContainer","size","color","loadingText","errorContainer","errorText","retryButton","onPress","retryButtonText","emptyContainer","emptyText","emptySubtext","groupedMessages","ref","data","keyExtractor","removeClippedSubviews","renderItem","_ref14","id","contentContainerStyle","messageListContent","onContentSizeChange","onLayout","container","keyboardAvoidingView","behavior","OS","undefined","keyboardVerticalOffset","messagesContainer","inputContainer","textInput","placeholder","value","onChangeText","multiline","maxLength","returnKeyType","blurOnSubmit","sendButton","sendButtonDisabled","disabled","name","create","flex","backgroundColor","paddingHorizontal","paddingVertical","flexDirection","marginVertical","justifyContent","width","height","marginHorizontal","alignSelf","borderRadius","alignItems","fontSize","fontWeight","maxWidth","padding","marginBottom","borderBottomRightRadius","borderBottomLeftRadius","borderWidth","borderColor","borderTopWidth","borderTopColor","minHeight","maxHeight","marginRight","marginTop","textAlign"],"sources":["MessageDetail.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  FlatList,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  ActivityIndicator,\n  KeyboardAvoidingView,\n  Platform,\n  Image,\n  SafeAreaView\n} from 'react-native';\nimport { Message, getMessages, sendMessage, markMessagesAsRead } from '../services/messagingService';\nimport { Ionicons } from '@expo/vector-icons';\n\ninterface MessageDetailProps {\n  conversationId: string;\n  userId: string;\n  recipientId: string;\n  recipientName?: string;\n  recipientAvatar?: string;\n  onMessageSent?: () => void;\n}\n\n// Helper function to format message time\nconst formatMessageTime = (dateString: string): string => {\n  const messageDate = new Date(dateString);\n  return messageDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n};\n\n// Helper to group messages by date\nconst groupMessagesByDate = (messages: Message[]): { date: string; messages: Message[] }[] => {\n  const groups: { [key: string]: Message[] } = {};\n  \n  messages.forEach(message => {\n    const date = new Date(message.created_at).toLocaleDateString();\n    if (!groups[date]) {\n      groups[date] = [];\n    }\n    groups[date].push(message);\n  });\n  \n  return Object.keys(groups).map(date => ({\n    date,\n    messages: groups[date]\n  }));\n};\n\nconst MessageDetail: React.FC<MessageDetailProps> = ({\n  conversationId,\n  userId,\n  recipientId,\n  recipientName = 'User',\n  recipientAvatar,\n  onMessageSent\n}) => {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [messageText, setMessageText] = useState('');\n  const [isSending, setIsSending] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  const flatListRef = useRef<FlatList>(null);\n  const inputRef = useRef<TextInput>(null);\n\n  // Fetch messages when the component mounts or conversation changes\n  useEffect(() => {\n    fetchMessages();\n    \n    // Set up real-time subscription for new messages\n    const setupSubscription = async () => {\n      const subscription = supabase\n        .from('messages')\n        .on('INSERT', (payload) => {\n          if (payload.new.conversation_id === conversationId) {\n            // Add the new message to the state\n            setMessages(prevMessages => [...prevMessages, payload.new]);\n            // Mark as read if the user is the recipient\n            if (payload.new.recipient_id === userId) {\n              markMessagesAsRead(conversationId, userId);\n            }\n            // Scroll to bottom\n            scrollToBottom();\n          }\n        })\n        .subscribe();\n      \n      // Return cleanup function\n      return () => {\n        supabase.removeSubscription(subscription);\n      };\n    };\n    \n    const subscription = setupSubscription();\n    \n    // Cleanup subscription on unmount\n    return () => {\n      subscription.then(cleanup => cleanup());\n    };\n  }, [conversationId, userId]);\n\n  // Mark messages as read when viewing the conversation\n  useEffect(() => {\n    if (messages.length > 0) {\n      markMessagesAsRead(conversationId, userId);\n    }\n  }, [messages, conversationId, userId]);\n\n  // Fetch messages from the API\n  const fetchMessages = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const fetchedMessages = await getMessages(conversationId, userId);\n      setMessages(fetchedMessages);\n      \n      // Mark messages as read\n      if (fetchedMessages.length > 0) {\n        await markMessagesAsRead(conversationId, userId);\n      }\n      \n      // Scroll to bottom after messages load\n      setTimeout(() => {\n        scrollToBottom();\n      }, 100);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n      setError('Failed to load messages');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Send a new message\n  const handleSendMessage = async () => {\n    if (!messageText.trim()) return;\n    \n    try {\n      setIsSending(true);\n      const trimmedMessage = messageText.trim();\n      setMessageText('');\n      \n      await sendMessage(userId, recipientId, trimmedMessage, conversationId);\n      \n      // Notify parent component that a message was sent (for updating lists)\n      if (onMessageSent) {\n        onMessageSent();\n      }\n      \n      // Focus the input again\n      inputRef.current?.focus();\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setError('Failed to send message');\n      // Restore the message text if sending failed\n      setMessageText(messageText);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Scroll to the bottom of the message list\n  const scrollToBottom = () => {\n    if (flatListRef.current && messages.length > 0) {\n      flatListRef.current.scrollToEnd({ animated: true });\n    }\n  };\n\n  // Render a date separator\n  const renderDateSeparator = (date: string) => {\n    const messageDate = new Date(date);\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n    \n    let displayDate;\n    if (messageDate.toDateString() === today.toDateString()) {\n      displayDate = 'Today';\n    } else if (messageDate.toDateString() === yesterday.toDateString()) {\n      displayDate = 'Yesterday';\n    } else {\n      displayDate = messageDate.toLocaleDateString([], {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    }\n    \n    return (\n      <View style={styles.dateSeparator}>\n        <Text style={styles.dateSeparatorText}>{displayDate}</Text>\n      </View>\n    );\n  };\n\n  // Render a message bubble\n  const renderMessage = ({ item }: { item: Message }) => {\n    const isUserMessage = item.sender_id === userId;\n    \n    return (\n      <View style={[\n        styles.messageContainer,\n        isUserMessage ? styles.userMessageContainer : styles.otherMessageContainer\n      ]}>\n        {!isUserMessage && (\n          <View style={styles.avatarContainer}>\n            {recipientAvatar ? (\n              <Image source={{ uri: recipientAvatar }} style={styles.avatar} />\n            ) : (\n              <View style={styles.avatarPlaceholder}>\n                <Text style={styles.avatarText}>{recipientName.charAt(0).toUpperCase()}</Text>\n              </View>\n            )}\n          </View>\n        )}\n        \n        <View style={[\n          styles.messageBubble,\n          isUserMessage ? styles.userMessageBubble : styles.otherMessageBubble\n        ]}>\n          <Text style={[\n            styles.messageText,\n            isUserMessage ? styles.userMessageText : styles.otherMessageText\n          ]}>\n            {item.content}\n          </Text>\n          <Text style={[\n            styles.messageTime,\n            isUserMessage ? styles.userMessageTime : styles.otherMessageTime\n          ]}>\n            {formatMessageTime(item.created_at)}\n            {isUserMessage && item.read_at && (\n              <Text style={styles.readReceipt}> â€¢ Read</Text>\n            )}\n          </Text>\n        </View>\n        \n        {isUserMessage && (\n          <View style={styles.avatarContainer}>\n            {/* Empty view for alignment */}\n          </View>\n        )}\n      </View>\n    );\n  };\n\n  // Render the list of messages grouped by date\n  const renderMessageList = () => {\n    if (isLoading) {\n      return (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color=\"#FF6A00\" />\n          <Text style={styles.loadingText}>Loading messages...</Text>\n        </View>\n      );\n    }\n    \n    if (error) {\n      return (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <TouchableOpacity style={styles.retryButton} onPress={fetchMessages}>\n            <Text style={styles.retryButtonText}>Retry</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    \n    if (messages.length === 0) {\n      return (\n        <View style={styles.emptyContainer}>\n          <Text style={styles.emptyText}>No messages yet</Text>\n          <Text style={styles.emptySubtext}>\n            Send a message to start the conversation\n          </Text>\n        </View>\n      );\n    }\n    \n    const groupedMessages = groupMessagesByDate(messages);\n    \n    return (\n      <FlatList\n        ref={flatListRef}\n        data={groupedMessages}\n        keyExtractor={(item) => item.date}\n        removeClippedSubviews={false}\n        renderItem={({ item }) => (\n          <View>\n            {renderDateSeparator(item.date)}\n            {item.messages.map((message) => (\n              <View key={message.id}>\n                {renderMessage({ item: message })}\n              </View>\n            ))}\n          </View>\n        )}\n        contentContainerStyle={styles.messageListContent}\n        onContentSizeChange={scrollToBottom}\n        onLayout={scrollToBottom}\n      />\n    );\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <KeyboardAvoidingView\n        style={styles.keyboardAvoidingView}\n        behavior={Platform.OS === 'ios' ? 'padding' : undefined}\n        keyboardVerticalOffset={Platform.OS === 'ios' ? 90 : 0}\n      >\n        <View style={styles.messagesContainer}>\n          {renderMessageList()}\n        </View>\n        \n        <View style={styles.inputContainer}>\n          <TextInput\n            ref={inputRef}\n            style={styles.textInput}\n            placeholder=\"Type a message...\"\n            value={messageText}\n            onChangeText={setMessageText}\n            multiline\n            maxLength={1000}\n            returnKeyType=\"default\"\n            blurOnSubmit={false}\n          />\n          <TouchableOpacity\n            style={[\n              styles.sendButton,\n              (!messageText.trim() || isSending) && styles.sendButtonDisabled\n            ]}\n            onPress={handleSendMessage}\n            disabled={!messageText.trim() || isSending}\n          >\n            {isSending ? (\n              <ActivityIndicator size=\"small\" color=\"white\" />\n            ) : (\n              <Ionicons name=\"send\" size={20} color=\"white\" />\n            )}\n          </TouchableOpacity>\n        </View>\n      </KeyboardAvoidingView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F5F5F5',\n  },\n  keyboardAvoidingView: {\n    flex: 1,\n  },\n  messagesContainer: {\n    flex: 1,\n    paddingHorizontal: 8,\n  },\n  messageListContent: {\n    paddingVertical: 16,\n  },\n  messageContainer: {\n    flexDirection: 'row',\n    marginVertical: 4,\n    paddingHorizontal: 8,\n  },\n  userMessageContainer: {\n    justifyContent: 'flex-end',\n  },\n  otherMessageContainer: {\n    justifyContent: 'flex-start',\n  },\n  avatarContainer: {\n    width: 36,\n    height: 36,\n    marginHorizontal: 8,\n    alignSelf: 'flex-end',\n  },\n  avatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n  },\n  avatarPlaceholder: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: '#0057B8',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  avatarText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  messageBubble: {\n    maxWidth: '70%',\n    padding: 12,\n    borderRadius: 18,\n    marginBottom: 2,\n  },\n  userMessageBubble: {\n    backgroundColor: '#FF6A00',\n    borderBottomRightRadius: 4,\n  },\n  otherMessageBubble: {\n    backgroundColor: 'white',\n    borderBottomLeftRadius: 4,\n    borderWidth: 1,\n    borderColor: '#EEEEEE',\n  },\n  messageText: {\n    fontSize: 16,\n    marginBottom: 4,\n  },\n  userMessageText: {\n    color: 'white',\n  },\n  otherMessageText: {\n    color: '#333333',\n  },\n  messageTime: {\n    fontSize: 10,\n    alignSelf: 'flex-end',\n  },\n  userMessageTime: {\n    color: 'rgba(255, 255, 255, 0.7)',\n  },\n  otherMessageTime: {\n    color: '#999999',\n  },\n  readReceipt: {\n    fontSize: 10,\n  },\n  dateSeparator: {\n    alignItems: 'center',\n    marginVertical: 16,\n  },\n  dateSeparatorText: {\n    fontSize: 12,\n    color: '#666666',\n    backgroundColor: 'rgba(0, 0, 0, 0.05)',\n    paddingHorizontal: 12,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderTopWidth: 1,\n    borderTopColor: '#EEEEEE',\n    backgroundColor: 'white',\n  },\n  textInput: {\n    flex: 1,\n    minHeight: 40,\n    maxHeight: 120,\n    borderWidth: 1,\n    borderColor: '#DDDDDD',\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    marginRight: 8,\n    backgroundColor: '#F5F5F5',\n    fontSize: 16,\n  },\n  sendButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: '#FF6A00',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButtonDisabled: {\n    backgroundColor: '#CCCCCC',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 12,\n    fontSize: 16,\n    color: '#666666',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n  },\n  emptyText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginVertical: 8,\n    color: '#333333',\n  },\n  emptySubtext: {\n    fontSize: 14,\n    color: '#666666',\n    textAlign: 'center',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n  },\n  errorText: {\n    fontSize: 16,\n    color: '#FF3B30',\n    marginBottom: 16,\n    textAlign: 'center',\n  },\n  retryButton: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    backgroundColor: '#FF6A00',\n    borderRadius: 8,\n  },\n  retryButtonText: {\n    color: 'white',\n    fontWeight: 'bold',\n  },\n});\n\nexport default MessageDetail;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}