{"version":3,"names":["React","useState","useRef","View","FlatList","StyleSheet","TextInput","TouchableOpacity","KeyboardAvoidingView","Platform","Ionicons","useConversationsQuery","useConversationMessagesQuery","ChatItem","EmptyState","ErrorState","LoadingState","MessageBubble","ConversationHeader","jsx","_jsx","jsxs","_jsxs","cov_wm9uwet3d","s","ChatList","_ref","userId","onSelectConversation","onCreateNewConversation","initialConversationId","f","_ref2","_ref3","_slicedToArray","selectedConversation","setSelectedConversation","_ref4","_ref5","messageText","setMessageText","_ref6","conversations","isLoadingConversations","isLoading","conversationsError","error","refetchConversations","refetch","markConversationAsRead","sendMessage","isSending","processedInitialIdRef","useEffect","b","length","current","conversation","find","c","id","handleSelectConversation","_ref7","messages","isLoadingMessages","messagesError","sendConversationMessage","isSendingMessage","handleBackToList","handleSendMessage","trim","renderConversationList","_ref8","message","onRetry","retry","style","styles","container","children","data","renderItem","_ref9","item","onSelect","isSelected","keyExtractor","refreshing","onRefresh","ListEmptyComponent","title","subtitle","contentContainerStyle","fullScreenContainer","listContainer","newConversationButton","onPress","name","size","color","renderConversationDetail","behavior","OS","undefined","keyboardVerticalOffset","onBack","iconName","_ref0","isCurrentUser","sender_id","isOptimistic","startsWith","messagesList","inverted","inputContainer","textInput","placeholder","value","onChangeText","multiline","maxLength","editable","accessible","accessibilityLabel","accessibilityHint","returnKeyType","onSubmitEditing","sendButton","disabledButton","disabled","accessibilityRole","accessibilityState","busy","create","flex","backgroundColor","flexGrow","paddingBottom","padding","flexDirection","alignItems","borderTopWidth","borderTopColor","paddingVertical","paddingHorizontal","borderRadius","maxHeight","marginRight","width","height","justifyContent","opacity","position","right","bottom","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius"],"sources":["ChatList.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport {\n  View,\n  FlatList,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  KeyboardAvoidingView,\n  Platform\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { Conversation, Message } from '../../services/messagingService';\nimport { useConversationsQuery, useConversationMessagesQuery } from '../../hooks';\nimport {\n  ChatItem,\n  EmptyState,\n  ErrorState,\n  LoadingState,\n  MessageBubble,\n  ConversationHeader\n} from './components';\n\ninterface ChatListProps {\n  userId: string | null;\n  onSelectConversation?: (conversation: Conversation) => void;\n  onCreateNewConversation?: () => void;\n  initialConversationId?: string;\n}\n\nconst ChatList: React.FC<ChatListProps> = ({\n  userId,\n  onSelectConversation,\n  onCreateNewConversation,\n  initialConversationId\n}) => {\n  // State for managing UI\n  const [selectedConversation, setSelectedConversation] = useState<Conversation | null>(null);\n  const [messageText, setMessageText] = useState('');\n\n  // Use React Query hooks for data fetching\n  const {\n    conversations,\n    isLoading: isLoadingConversations,\n    error: conversationsError,\n    refetch: refetchConversations,\n    markConversationAsRead,\n    sendMessage,\n    isSending\n  } = useConversationsQuery(userId);\n\n  // Find initial conversation if provided\n  // Track which initialConversationId we have already processed so we don't trigger\n  // handleSelectConversation on every render (which caused an infinite loop).\n  const processedInitialIdRef = useRef<string | null>(null);\n\n  React.useEffect(() => {\n    if (\n      initialConversationId &&\n      conversations.length > 0 &&\n      processedInitialIdRef.current !== initialConversationId\n    ) {\n      const conversation = conversations.find(\n        (c) => c.id === initialConversationId\n      );\n      if (conversation) {\n        handleSelectConversation(conversation);\n        // Set the ref to prevent infinite loop\n        processedInitialIdRef.current = initialConversationId;\n      }\n    }\n  }, [initialConversationId, conversations]);\n\n  // Fetch messages for the selected conversation\n  const {\n    messages,\n    isLoading: isLoadingMessages,\n    error: messagesError,\n    sendMessage: sendConversationMessage,\n    isSending: isSendingMessage\n  } = useConversationMessagesQuery(\n    selectedConversation?.id || null,\n    userId\n  );\n\n  // Handle selecting a conversation\n  const handleSelectConversation = (conversation: Conversation) => {\n    setSelectedConversation(conversation);\n    \n    // Mark conversation as read\n    if (userId) {\n      markConversationAsRead(conversation.id);\n    }\n    \n    // Call external handler if provided\n    if (onSelectConversation) {\n      onSelectConversation(conversation);\n    }\n  };\n\n  // Handle going back to the conversation list\n  const handleBackToList = () => {\n    setSelectedConversation(null);\n  };\n\n  // Handle sending a message\n  const handleSendMessage = () => {\n    if (!messageText.trim() || !selectedConversation || !userId) return;\n    \n    // Send the message\n    sendConversationMessage(messageText.trim());\n    \n    // Clear the input\n    setMessageText('');\n  };\n\n  // Render conversation list view\n  const renderConversationList = () => {\n    if (isLoadingConversations && conversations.length === 0) {\n      return <LoadingState />;\n    }\n\n    if (conversationsError) {\n      return (\n        <ErrorState \n          error={conversationsError.message} \n          onRetry={conversationsError.retry ?? refetchConversations}\n        />\n      );\n    }\n\n    return (\n      <View style={styles.container}>\n        <FlatList\n          data={conversations}\n          renderItem={({ item }) => (\n            <ChatItem\n              conversation={item}\n              onSelect={handleSelectConversation}\n              isSelected={selectedConversation?.id === item.id}\n            />\n          )}\n          keyExtractor={(item) => item.id}\n          refreshing={isLoadingConversations && conversations.length > 0}\n          onRefresh={refetchConversations}\n          ListEmptyComponent={\n            <EmptyState \n              title=\"No conversations yet\"\n              subtitle=\"When you message a dealer or show organizer, your conversations will appear here\"\n            />\n          }\n          contentContainerStyle={\n            conversations.length === 0 ? styles.fullScreenContainer : styles.listContainer\n          }\n        />\n        \n        {onCreateNewConversation && (\n          <TouchableOpacity\n            style={styles.newConversationButton}\n            onPress={onCreateNewConversation}\n          >\n            <Ionicons name=\"create\" size={24} color=\"#fff\" />\n          </TouchableOpacity>\n        )}\n      </View>\n    );\n  };\n\n  // Render conversation detail view\n  const renderConversationDetail = () => {\n    if (!selectedConversation) return null;\n\n    return (\n      <KeyboardAvoidingView \n        style={styles.container} \n        behavior={Platform.OS === 'ios' ? 'padding' : undefined}\n        keyboardVerticalOffset={Platform.OS === 'ios' ? 90 : 0}\n      >\n        <ConversationHeader\n          conversation={selectedConversation}\n          onBack={handleBackToList}\n        />\n        \n        {isLoadingMessages && messages.length === 0 ? (\n          <LoadingState message=\"Loading messages...\" />\n        ) : messagesError ? (\n          <ErrorState \n            error={messagesError.message}\n            title=\"Couldn't load messages\" \n            onRetry={messagesError.retry}\n          />\n        ) : messages.length === 0 ? (\n          <EmptyState \n            title=\"No messages yet\"\n            subtitle=\"Start the conversation by sending a message\"\n            iconName=\"chatbubbles-outline\"\n          />\n        ) : (\n          <FlatList\n            data={messages}\n            renderItem={({ item }) => (\n              <MessageBubble\n                message={item}\n                isCurrentUser={userId === item.sender_id}\n                isOptimistic={item.id.startsWith('temp-')}\n              />\n            )}\n            keyExtractor={(item) => item.id}\n            contentContainerStyle={styles.messagesList}\n            inverted={false}\n          />\n        )}\n        \n        <View style={styles.inputContainer}>\n          <TextInput\n            style={styles.textInput}\n            placeholder=\"Type a message...\"\n            value={messageText}\n            onChangeText={setMessageText}\n            multiline\n            maxLength={500}\n            editable={!isSendingMessage}\n            accessible\n            accessibilityLabel=\"Message input field\"\n            accessibilityHint=\"Enter the message you want to send\"\n            returnKeyType=\"send\"\n            onSubmitEditing={handleSendMessage}\n          />\n          <TouchableOpacity\n            style={[\n              styles.sendButton,\n              (!messageText.trim() || isSendingMessage) && styles.disabledButton\n            ]}\n            disabled={!messageText.trim() || isSendingMessage}\n            onPress={handleSendMessage}\n            accessibilityRole=\"button\"\n            accessibilityLabel=\"Send message\"\n            accessibilityState={{ disabled: !messageText.trim() || isSendingMessage, busy: isSendingMessage }}\n          >\n            {isSendingMessage ? (\n              <Ionicons name=\"hourglass-outline\" size={20} color=\"#fff\" />\n            ) : (\n              <Ionicons name=\"send\" size={20} color=\"#fff\" />\n            )}\n          </TouchableOpacity>\n        </View>\n      </KeyboardAvoidingView>\n    );\n  };\n\n  // Main render\n  return selectedConversation ? renderConversationDetail() : renderConversationList();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F5F5F5',\n  },\n  fullScreenContainer: {\n    flexGrow: 1,\n    paddingBottom: 100, // Extra padding at bottom for scroll effect\n  },\n  listContainer: {\n    paddingBottom: 20,\n  },\n  messagesList: {\n    padding: 16,\n    flexGrow: 1,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FFF',\n    borderTopWidth: 1,\n    borderTopColor: '#E1E1E1',\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n  },\n  textInput: {\n    flex: 1,\n    backgroundColor: '#F0F0F0',\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    maxHeight: 100,\n    marginRight: 8,\n  },\n  sendButton: {\n    backgroundColor: '#FF6A00',\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  newConversationButton: {\n    position: 'absolute',\n    right: 16,\n    bottom: 16,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: '#FF6A00',\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.3,\n    shadowRadius: 3,\n  },\n});\n\nexport default ChatList;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}