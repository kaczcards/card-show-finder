{"version":3,"names":["React","createContext","useState","useEffect","useContext","supabase","UserRole","AsyncStorage","supabaseAuthService","refreshUserSession","jsx","_jsx","BYPASS_PROFILE_FETCH","cov_1jiijzbd8t","s","defaultAuthState","user","isLoading","error","isAuthenticated","AuthContext","authState","Object","assign","favoriteCount","login","_login","_asyncToGenerator","f","Error","apply","arguments","register","_register","logout","_logout","resetPassword","_resetPassword","updateProfile","_updateProfile","addFavoriteShow","_addFavoriteShow","removeFavoriteShow","_removeFavoriteShow","clearError","refreshUserRole","_refreshUserRole","AuthProvider","_ref","_ref24","_ref25","_ref26","children","_ref2","_ref3","_slicedToArray","setAuthState","_ref4","_ref5","setFavoriteCount","fetchFavoriteCount","_ref6","userId","b","_ref7","from","select","eq","single","data","console","count","favorite_shows_count","__DEV__","warn","_x","initializeAuth","_ref8","_ref9","auth","getSession","session","_ref0","id","profileData","profileError","userData","mapProfileToUser","message","_ref1","onAuthStateChange","_ref10","event","_ref11","prev","_x2","_x3","subscription","unsubscribe","_ref12","credentials","email","result","signIn","newState","hasError","Promise","reject","_ref13","nowIso","Date","toISOString","mockUser","firstName","lastName","homeZipCode","role","MVP_DEALER","createdAt","updatedAt","isEmailVerified","accountType","subscriptionStatus","paymentStatus","subscriptionExpiry","now","favoriteShows","attendedShows","phoneNumber","profileImageUrl","favoriteShowsCount","getCurrentUser","forceRefreshAndFetchProfile","msg","_x4","_ref14","password","registerUser","_x5","_x6","_x7","_x8","_x9","_x0","_ref15","signOut","_ref16","_x1","_ref17","userDataWithId","updatedUser","updateUserProfile","_x10","_ref18","showId","addShowToFavorites","_x11","_ref19","removeShowFromFavorites","_x12","_ref20","keys","getAllKeys","supabaseKeys","filter","k","includes","length","multiRemove","clearErr","_ref21","success","refreshErr","_ref22","profile","authStub","mapped","err","_x13","_ref23","fresh","e","contextValue","Provider","value","useAuth","context"],"sources":["AuthContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\nimport { supabase } from '../supabase';\nimport { User, UserRole, AuthState, AuthCredentials } from '../types';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as supabaseAuthService from '../services/supabaseAuthService';\nimport { signIn as _signIn } from '../services/supabaseAuthService';\nimport { refreshUserSession } from '../services/sessionService';\n// import * as Sentry from 'sentry-expo'; // ↳ Temporarily disabled while debugging\n\n/* ------------------------------------------------------------------\n * Build-time / runtime dev flag to bypass profile fetch\n * ------------------------------------------------------------------\n * • Enabled automatically in Expo dev (`__DEV__`)\n * • Or via env  EXPO_PUBLIC_BYPASS_PROFILE_FETCH=true\n *   Lets developers log in with Auth only, even if the\n *   `profiles` row hasn't been created yet.\n * ------------------------------------------------------------------ */\n/**\n * BYPASS_PROFILE_FETCH disabled.\n * ---------------------------------------------------------------\n * This flag was intended for development convenience.  Leaving it\n * enabled in production caused ALL users to be treated as\n * MVP_DEALER, granting unintended access.  We now hard-disable it\n * to ensure each user's role is always read from the database.\n */\nconst BYPASS_PROFILE_FETCH = false;\n\n// Define the shape of our auth context\ninterface AuthContextType {\n  authState: AuthState & { favoriteCount: number };\n  /**\n   * Convenience getters exposed alongside the full `authState`,\n   * so that consuming components can access them directly without\n   * drilling into `authState`.\n   */\n  error: string | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  login: (credentials: AuthCredentials) => Promise<User>;\n  register: (\n    email: string,\n    password: string,\n    firstName: string,\n    lastName: string,\n    homeZipCode: string,\n    role: UserRole\n  ) => Promise<User>;\n  logout: () => Promise<void>;\n  resetPassword: (email: string) => Promise<void>;\n  updateProfile: (userData: Partial<User>) => Promise<void>;\n  addFavoriteShow: (showId: string) => Promise<void>;\n  removeFavoriteShow: (showId: string) => Promise<void>;\n  clearError: () => void;\n  refreshUserRole: () => Promise<boolean>;\n}\n\n// Default auth state\nconst defaultAuthState: AuthState = {\n  user: null,\n  isLoading: true,\n  error: null,\n  isAuthenticated: false,\n};\n\n// Create the context with default values\nconst AuthContext = createContext<AuthContextType>({\n  authState: { ...defaultAuthState, favoriteCount: 0 },\n  error: defaultAuthState.error,\n  isLoading: defaultAuthState.isLoading,\n  isAuthenticated: defaultAuthState.isAuthenticated,\n  login: async () => { throw new Error('AuthContext not initialized'); },\n  register: async () => { throw new Error('AuthContext not initialized'); },\n  logout: async () => { throw new Error('AuthContext not initialized'); },\n  resetPassword: async () => { throw new Error('AuthContext not initialized'); },\n  updateProfile: async () => { throw new Error('AuthContext not initialized'); },\n  addFavoriteShow: async () => { throw new Error('AuthContext not initialized'); },\n  removeFavoriteShow: async () => { throw new Error('AuthContext not initialized'); },\n  clearError: () => {},\n  refreshUserRole: async () => false,\n});\n\n// Provider component\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [authState, setAuthState] = useState<AuthState>(defaultAuthState);\n  const [favoriteCount, setFavoriteCount] = useState(0);\n\n  // Function to fetch the count of user's favorite shows\n  const fetchFavoriteCount = async (userId: string) => {\n    if (!userId) {\n      setFavoriteCount(0);\n      return;\n    }\n\n    try {\n      // Get the favorite_shows_count directly from the profiles table\n      const { data, error } = await supabase\n        .from('profiles')\n        .select('favorite_shows_count')\n        .eq('id', userId)\n        .single();\n\n      if (error) {\n        console.error('[AuthContext] Error fetching favorite_shows_count:', error);\n        return;\n      }\n\n      // Set the count from the profile data\n      const count = data?.favorite_shows_count || 0;\n      if (__DEV__)\n        console.warn('[AuthContext] Fetched favorite_shows_count:', count);\n      setFavoriteCount(count);\n    } catch (error) {\n      console.error('[AuthContext] Unexpected error in fetchFavoriteCount:', error);\n      // Keep the current count on error\n    }\n  };\n\n  // Initialize auth state on app start\n  useEffect(() => {\n    const initializeAuth = async () => {\n      try {\n        // Check if we have a stored session\n        const { data: { session }, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          throw error;\n        }\n        \n        if (session) {\n          // Get user profile from the database\n          const { data: profileData, error: profileError } = await supabase\n            .from('profiles')\n            .select('*')\n            .eq('id', session.user.id)\n            .single();\n          \n          if (profileError) {\n            throw profileError;\n          }\n          \n          // Map combined auth + profile data using shared helper so ALL fields\n          // (including social URLs) are consistently included.\n          const userData: User = supabaseAuthService.mapProfileToUser(\n            session.user,\n            profileData,\n          );\n          \n          setAuthState({\n            user: userData,\n            isLoading: false,\n            error: null,\n            isAuthenticated: true,\n          });\n\n          // Set favorite count from profile data\n          setFavoriteCount(profileData.favorite_shows_count || 0);\n        } else {\n          // No session found\n          setAuthState({\n            user: null,\n            isLoading: false,\n            error: null,\n            isAuthenticated: false,\n          });\n        }\n      } catch (error: any) {\n        console.error('Error initializing auth:', error);\n        setAuthState({\n          user: null,\n          isLoading: false,\n          error: error.message || 'Failed to initialize authentication',\n          isAuthenticated: false,\n        });\n      }\n    };\n    \n    // Set up auth state change listener\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        if (event === 'SIGNED_IN' && session) {\n          try {\n            // Get user profile from the database\n            const { data: profileData, error: profileError } = await supabase\n              .from('profiles')\n              .select('*')\n              .eq('id', session.user.id)\n              .single();\n            \n            if (profileError) {\n              throw profileError;\n            }\n            \n            // Use shared mapper for consistency\n            const userData: User = supabaseAuthService.mapProfileToUser(\n              session.user,\n              profileData,\n            );\n            \n            setAuthState({\n              user: userData,\n              isLoading: false,\n              error: null,\n              isAuthenticated: true,\n            });\n\n            // Set favorite count from profile data\n            setFavoriteCount(profileData.favorite_shows_count || 0);\n          } catch (error: any) {\n            console.error('Error handling auth state change:', error);\n            setAuthState(prev => ({\n              ...prev,\n              isLoading: false,\n              error: error.message || 'Failed to get user data on auth change',\n            }));\n          }\n        } else if (event === 'SIGNED_OUT') {\n          setAuthState({\n            user: null,\n            isLoading: false,\n            error: null,\n            isAuthenticated: false,\n          });\n          setFavoriteCount(0);\n        }\n      }\n    );\n    \n    // Initialize auth\n    initializeAuth();\n    \n    // Cleanup subscription on unmount\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, []);\n  \n  // Login method\n  const login = async (credentials: AuthCredentials): Promise<User> => {\n    // 1. Immediately set the app to a \"loading\" state and clear old errors.\n    if (__DEV__)\n      console.warn('[AuthContext] Login attempt started for email:', credentials.email);\n    setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n\n    // 2. Call the Supabase service to attempt the login.\n    const result = await supabaseAuthService.signIn(credentials);\n\n    // 3. Handle the response directly.\n    if (result.error) {\n      // FAILURE: If the service returns an error, update the state.\n      console.error('[AuthContext] Login failed with error:', result.error.message);\n      \n      // Set the error message and turn off the loading indicator.\n      const newState = {\n        ...authState,\n        isLoading: false,\n        error: result.error.message,\n        isAuthenticated: false\n      };\n      \n      setAuthState(newState);\n      if (__DEV__)\n        console.warn('[AuthContext] Auth state updated after login failure:', \n        { isAuthenticated: newState.isAuthenticated, hasError: !!newState.error });\n      \n      return Promise.reject(new Error(result.error.message));\n    } else if (result.user) {\n      // SUCCESS: If the service returns a user, get their profile and update state.\n      if (__DEV__)\n        console.warn('[AuthContext] Auth login succeeded – id:', result.user.id);\n\n      // ---- Optional bypass for dev -------------------------------------------------\n      if (BYPASS_PROFILE_FETCH) {\n        if (__DEV__)\n          console.warn(\n          '[AuthContext] BYPASS_PROFILE_FETCH active – skipping profile lookup, using auth payload only.'\n        );\n        const nowIso = new Date().toISOString();\n        \n        // Create a complete mock user with all fields that might be used elsewhere\n        const mockUser: User = {\n          id: result.user.id,\n          email: result.user.email ?? credentials.email,\n          firstName: 'Dev',\n          lastName: 'User',\n          homeZipCode: '00000',\n          role: UserRole.MVP_DEALER, // Use MVP_DEALER to access all features\n          createdAt: nowIso,\n          updatedAt: nowIso,\n          isEmailVerified: true, // Always verified in dev mode\n          accountType: 'collector',\n          subscriptionStatus: 'active', // Active subscription in dev mode\n          paymentStatus: 'none',\n          subscriptionExpiry: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString(), // 1 year from now\n          favoriteShows: [],\n          attendedShows: [],\n          phoneNumber: '555-123-4567', // Add mock phone number\n          profileImageUrl: 'https://ui-avatars.com/api/?name=Dev+User&background=0D8ABC&color=fff', // Add mock profile image\n          favoriteShowsCount: 0, // Start with 0 favorites\n        };\n        \n        // Update state with the mock user\n        const newState = {\n          user: mockUser,\n          isLoading: false,\n          error: null,\n          isAuthenticated: true,\n        };\n        \n        setAuthState(newState);\n        if (__DEV__)\n          console.warn('[AuthContext] Auth state updated with mock user:', \n          { isAuthenticated: newState.isAuthenticated, userId: mockUser.id, role: mockUser.role });\n        \n        // Set favorite count to 0 for mock user\n        setFavoriteCount(0);\n        \n        return mockUser;\n      }\n\n      // ---- Normal profile fetch ----------------------------------------------------\n      if (__DEV__)\n        console.warn('[AuthContext] Fetching user profile from database...');\n      let userData = await supabaseAuthService.getCurrentUser(result.user.id);\n      \n      if (userData) {\n        if (__DEV__)\n          console.warn('[AuthContext] Profile fetch successful:', \n          { userId: userData.id, role: userData.role });\n        \n        // Create new state with the user data\n        const newState = {\n          user: userData,\n          isLoading: false,\n          error: null,\n          isAuthenticated: true\n        };\n        \n        setAuthState(newState);\n        if (__DEV__)\n          console.warn('[AuthContext] Auth state updated after successful login:', \n          { isAuthenticated: newState.isAuthenticated, userId: userData.id });\n        \n        // Fetch favorite count for the logged in user\n        fetchFavoriteCount(userData.id);\n        \n        return userData;\n      } else {\n        if (__DEV__)\n          console.warn(\n          '[AuthContext] getCurrentUser returned null – attempting forceRefreshAndFetchProfile'\n        );\n        userData = await forceRefreshAndFetchProfile(result.user.id);\n\n        if (userData) {\n          if (__DEV__)\n            console.warn('[AuthContext] Fallback profile fetch succeeded:', \n            { userId: userData.id, role: userData.role });\n          \n          // Create new state with the user data from fallback\n          const newState = {\n            user: userData,\n            isLoading: false,\n            error: null,\n            isAuthenticated: true,\n          };\n          \n          setAuthState(newState);\n          if (__DEV__)\n            console.warn('[AuthContext] Auth state updated after fallback profile fetch:', \n            { isAuthenticated: newState.isAuthenticated, userId: userData.id });\n          \n          fetchFavoriteCount(userData.id);\n          return userData;\n        }\n\n        // EDGE CASE: Still no profile after fallback\n        console.error('[AuthContext] All profile fetch attempts failed');\n        const msg =\n          'We were unable to load your profile information. Please try again later or contact support.';\n        \n        const newState = {\n          ...authState,\n          isLoading: false,\n          error: msg,\n          isAuthenticated: false,\n        };\n        \n        setAuthState(newState);\n        if (__DEV__)\n          console.warn('[AuthContext] Auth state updated after all profile fetch attempts failed:', \n          { isAuthenticated: newState.isAuthenticated, hasError: !!newState.error });\n        \n        return Promise.reject(new Error(msg));\n      }\n    } else {\n      // EDGE CASE: If there's no error but also no user, handle it.\n      console.error('[AuthContext] No error but no user returned from auth service');\n      const msg = \"An unexpected error occurred. Please try again.\";\n      \n      const newState = {\n        ...authState,\n        isLoading: false,\n        error: msg,\n        isAuthenticated: false\n      };\n      \n      setAuthState(newState);\n      if (__DEV__)\n        console.warn('[AuthContext] Auth state updated after unexpected error:', \n        { isAuthenticated: newState.isAuthenticated, hasError: !!newState.error });\n      \n      return Promise.reject(new Error(msg));\n    }\n  };\n  \n  // Register method\n  const register = async (\n    email: string,\n    password: string,\n    firstName: string,\n    lastName: string,\n    homeZipCode: string,\n    role: UserRole\n  ): Promise<User> => {\n    try {\n      setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n      \n      const userData = await supabaseAuthService.registerUser(\n        email,\n        password,\n        firstName,\n        lastName,\n        homeZipCode,\n        role\n      );\n      \n      const newState = {\n        user: userData,\n        isLoading: false,\n        error: null,\n        isAuthenticated: true,\n      };\n      \n      setAuthState(newState);\n      if (__DEV__)\n        console.warn('[AuthContext] Auth state updated after registration:', \n        { isAuthenticated: newState.isAuthenticated, userId: userData.id });\n      \n      // New user has no favorites yet\n      setFavoriteCount(0);\n      \n      // ----------------- Sentry Business Metric -------------------\n      // Capture a lightweight \"User Signed Up\" event so we can track\n      // daily / weekly signup numbers directly in Sentry dashboards.\n      /* Sentry.captureMessage('User Signed Up', {\n         level: 'info',\n         tags: { event_type: 'business' },\n         extra: { userId: userData.id, email: userData.email },\n       }); */ // ← Temporarily disabled while debugging\n\n      return userData;\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      setAuthState(prev => ({\n        ...prev,\n        isLoading: false,\n        error: error.message || 'Failed to register',\n        isAuthenticated: false,\n      }));\n      throw error;\n    }\n  };\n  \n  // Logout method\n  const logout = async (): Promise<void> => {\n    try {\n      setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n      \n      await supabaseAuthService.signOut();\n      \n      const newState = {\n        user: null,\n        isLoading: false,\n        error: null,\n        isAuthenticated: false,\n      };\n      \n      setAuthState(newState);\n      if (__DEV__)\n        console.warn('[AuthContext] Auth state updated after logout:', \n        { isAuthenticated: newState.isAuthenticated });\n      \n      // Reset favorite count on logout\n      setFavoriteCount(0);\n    } catch (error: any) {\n      console.error('Logout error:', error);\n      setAuthState(prev => ({\n        ...prev,\n        isLoading: false,\n        error: error.message || 'Failed to sign out',\n      }));\n      throw error;\n    }\n  };\n  \n  // Reset password method\n  const resetPassword = async (email: string): Promise<void> => {\n    try {\n      setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n      \n      await supabaseAuthService.resetPassword(email);\n      \n      setAuthState(prev => ({\n        ...prev,\n        isLoading: false,\n        error: null,\n      }));\n    } catch (error: any) {\n      console.error('Reset password error:', error);\n      setAuthState(prev => ({\n        ...prev,\n        isLoading: false,\n        error: error.message || 'Failed to reset password',\n      }));\n      throw error;\n    }\n  };\n  \n  // Update profile method\n  const updateProfile = async (userData: Partial<User>): Promise<void> => {\n    try {\n      setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\n      \n      if (!authState.user) {\n        throw new Error('User not authenticated');\n      }\n      \n      // Include the user ID in the userData object\n      const userDataWithId: Partial<User> = {\n        ...userData,\n        id: authState.user.id\n      };\n      \n      // Call the updated service with the userData that now includes ID\n      const updatedUser = await supabaseAuthService.updateUserProfile(userDataWithId);\n      \n      setAuthState(prev => ({\n        ...prev,\n        user: updatedUser,\n        isLoading: false,\n        error: null,\n      }));\n    } catch (error: any) {\n      console.error('Update profile error:', error);\n      setAuthState(prev => ({\n        ...prev,\n        isLoading: false,\n        error: error.message || 'Failed to update profile',\n      }));\n      throw error;\n    }\n  };\n  \n  // Add favorite show method\n  const addFavoriteShow = async (showId: string): Promise<void> => {\n    try {\n      if (!authState.user) {\n        throw new Error('User not authenticated');\n      }\n      \n      if (__DEV__)\n        console.warn('[AuthContext] Adding show to favorites:', showId);\n      \n      // Call the service to add the show to favorites\n      // The database trigger will automatically update the favorite_shows_count\n      await supabaseAuthService.addShowToFavorites(authState.user.id, showId);\n      \n      // Refresh the favorite count from the database\n      fetchFavoriteCount(authState.user.id);\n      \n      if (__DEV__)\n        console.warn('[AuthContext] Show added to favorites successfully');\n    } catch (error: any) {\n      console.error('[AuthContext] Error adding show to favorites:', error);\n      setAuthState(prev => ({\n        ...prev,\n        error: error.message || 'Failed to add show to favorites',\n      }));\n      throw error;\n    }\n  };\n  \n  // Remove favorite show method\n  const removeFavoriteShow = async (showId: string): Promise<void> => {\n    try {\n      if (!authState.user) {\n        throw new Error('User not authenticated');\n      }\n      \n      if (__DEV__)\n        console.warn('[AuthContext] Removing show from favorites:', showId);\n      \n      // Call the service to remove the show from favorites\n      // The database trigger will automatically update the favorite_shows_count\n      await supabaseAuthService.removeShowFromFavorites(authState.user.id, showId);\n      \n      // Refresh the favorite count from the database\n      fetchFavoriteCount(authState.user.id);\n      \n      if (__DEV__)\n        console.warn('[AuthContext] Show removed from favorites successfully');\n    } catch (error: any) {\n      console.error('[AuthContext] Error removing show from favorites:', error);\n      setAuthState(prev => ({\n        ...prev,\n        error: error.message || 'Failed to remove show from favorites',\n      }));\n      throw error;\n    }\n  };\n  \n  // Clear error method\n  const clearError = () => {\n    setAuthState(prev => ({\n      ...prev,\n      error: null,\n    }));\n  };\n\n  /**\n   * Helper util that guarantees we have the *latest* profile information\n   * from Supabase in three steps:\n   *   1. Clear any cached JWT/session entries in AsyncStorage (_defensive)\n   *   2. Force‐refresh the JWT via `refreshUserSession`\n   *   3. Fetch a fresh profile row from the DB and map it to the `User` shape\n   *\n   * If any step fails we fall back to directly hitting the `profiles` table.\n   * Detailed console logs are provided to aid troubleshooting in production.\n   */\n  const forceRefreshAndFetchProfile = async (userId: string): Promise<User | null> => {\n    try {\n      // 1) Clear stale auth tokens from AsyncStorage (best-effort)\n      try {\n        const keys = await AsyncStorage.getAllKeys();\n        const supabaseKeys = keys.filter(k => k.includes('supabase'));\n        if (supabaseKeys.length) {\n          await AsyncStorage.multiRemove(supabaseKeys);\n           \n          if (__DEV__)\n            console.warn('[AuthContext] Cleared cached Supabase tokens', supabaseKeys);\n        }\n      } catch (clearErr) {\n        if (__DEV__)\n          console.warn('[AuthContext] Failed to clear cached tokens', clearErr);\n      }\n\n      // 2) Force the session to refresh\n      const { success, error: refreshErr } = await refreshUserSession();\n      if (!success) {\n        if (__DEV__)\n          console.warn('[AuthContext] Session refresh failed – falling back to direct DB fetch', refreshErr);\n      }\n\n      // 3) Fetch the latest profile data directly\n      const { data: profile, error } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .single();\n\n      if (error || !profile) {\n        console.error('[AuthContext] Failed to fetch profile after refresh', error);\n        return null;\n      }\n\n      // Map DB → App `User`\n      // Use the shared mapper so social URLs and any new fields are included.\n      const authStub = { id: userId, email: profile.email || '' } as any;\n      const mapped: User = supabaseAuthService.mapProfileToUser(authStub, profile);\n      if (__DEV__)\n        console.warn('[AuthContext] Fetched fresh profile', mapped.role, mapped.accountType);\n\n      return mapped;\n    } catch (err) {\n      console.error('[AuthContext] Unexpected error in forceRefreshAndFetchProfile', err);\n      return null;\n    }\n  };\n\n  const refreshUserRole = async (): Promise<boolean> => {\n    try {\n      if (!authState.user) return false;\n\n      // Use the new robust helper\n      const fresh = await forceRefreshAndFetchProfile(authState.user.id);\n      if (!fresh) {\n        return false;\n      }\n\n      setAuthState(prev => {\n        if (!prev.user) return prev;\n        return {\n          ...prev,\n          user: fresh,\n        };\n      });\n      \n      // Also refresh the favorite count\n      fetchFavoriteCount(authState.user.id);\n      \n      return true;\n    } catch (e) {\n      console.error('An unexpected error occurred in refreshUserRole:', e);\n      return false;\n    }\n  };\n  \n  // Context value - ensuring error, isLoading, and isAuthenticated are always defined\n  const contextValue: AuthContextType = {\n    authState: { ...authState, favoriteCount },\n    // Explicitly extract these properties from authState with fallbacks to ensure they're never undefined\n    error: authState?.error ?? null,\n    isLoading: authState?.isLoading ?? false,\n    isAuthenticated: authState?.isAuthenticated ?? false,\n    login,\n    register,\n    logout,\n    resetPassword,\n    updateProfile,\n    addFavoriteShow,\n    removeFavoriteShow,\n    clearError,\n    refreshUserRole,\n  };\n  \n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Custom hook for using the auth context\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  \n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  \n  return context;\n};\n\n// Expose context for external modules\nexport { AuthContext };\nexport default AuthContext;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}