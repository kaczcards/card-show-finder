b737835fad4e33238229d86a200057c5
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
import { env as _env } from "expo/virtual/env";
function cov_2672s7zqdg() {
  var path = "/Users/kevin/card-show-finder/src/services/stripePaymentService.ts";
  var hash = "536987c896635b46e5428b85e53362ad7dd3ac9b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/kevin/card-show-finder/src/services/stripePaymentService.ts",
    statementMap: {
      "0": {
        start: {
          line: 46,
          column: 31
        },
        end: {
          line: 46,
          column: 77
        }
      },
      "1": {
        start: {
          line: 47,
          column: 35
        },
        end: {
          line: 47,
          column: 111
        }
      },
      "2": {
        start: {
          line: 56,
          column: 32
        },
        end: {
          line: 63,
          column: 1
        }
      },
      "3": {
        start: {
          line: 57,
          column: 2
        },
        end: {
          line: 60,
          column: 3
        }
      },
      "4": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 97
        }
      },
      "5": {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 17
        }
      },
      "6": {
        start: {
          line: 62,
          column: 2
        },
        end: {
          line: 62,
          column: 14
        }
      },
      "7": {
        start: {
          line: 75,
          column: 49
        },
        end: {
          line: 163,
          column: 1
        }
      },
      "8": {
        start: {
          line: 81,
          column: 15
        },
        end: {
          line: 81,
          column: 60
        }
      },
      "9": {
        start: {
          line: 81,
          column: 44
        },
        end: {
          line: 81,
          column: 59
        }
      },
      "10": {
        start: {
          line: 82,
          column: 2
        },
        end: {
          line: 84,
          column: 3
        }
      },
      "11": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 83,
          column: 69
        }
      },
      "12": {
        start: {
          line: 86,
          column: 2
        },
        end: {
          line: 162,
          column: 3
        }
      },
      "13": {
        start: {
          line: 88,
          column: 21
        },
        end: {
          line: 100,
          column: 6
        }
      },
      "14": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 105,
          column: 5
        }
      },
      "15": {
        start: {
          line: 103,
          column: 24
        },
        end: {
          line: 103,
          column: 45
        }
      },
      "16": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 104,
          column: 77
        }
      },
      "17": {
        start: {
          line: 107,
          column: 77
        },
        end: {
          line: 107,
          column: 98
        }
      },
      "18": {
        start: {
          line: 110,
          column: 33
        },
        end: {
          line: 117,
          column: 6
        }
      },
      "19": {
        start: {
          line: 119,
          column: 4
        },
        end: {
          line: 131,
          column: 5
        }
      },
      "20": {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 120,
          column: 65
        }
      },
      "21": {
        start: {
          line: 121,
          column: 6
        },
        end: {
          line: 129,
          column: 9
        }
      },
      "22": {
        start: {
          line: 130,
          column: 6
        },
        end: {
          line: 130,
          column: 86
        }
      },
      "23": {
        start: {
          line: 134,
          column: 36
        },
        end: {
          line: 134,
          column: 63
        }
      },
      "24": {
        start: {
          line: 136,
          column: 4
        },
        end: {
          line: 152,
          column: 5
        }
      },
      "25": {
        start: {
          line: 138,
          column: 6
        },
        end: {
          line: 140,
          column: 7
        }
      },
      "26": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 139,
          column: 66
        }
      },
      "27": {
        start: {
          line: 141,
          column: 6
        },
        end: {
          line: 141,
          column: 71
        }
      },
      "28": {
        start: {
          line: 142,
          column: 6
        },
        end: {
          line: 150,
          column: 9
        }
      },
      "29": {
        start: {
          line: 151,
          column: 6
        },
        end: {
          line: 151,
          column: 82
        }
      },
      "30": {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 155,
          column: 65
        }
      },
      "31": {
        start: {
          line: 157,
          column: 4
        },
        end: {
          line: 157,
          column: 59
        }
      },
      "32": {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 160,
          column: 73
        }
      },
      "33": {
        start: {
          line: 161,
          column: 4
        },
        end: {
          line: 161,
          column: 84
        }
      },
      "34": {
        start: {
          line: 173,
          column: 41
        },
        end: {
          line: 220,
          column: 1
        }
      },
      "35": {
        start: {
          line: 178,
          column: 2
        },
        end: {
          line: 219,
          column: 3
        }
      },
      "36": {
        start: {
          line: 187,
          column: 23
        },
        end: {
          line: 187,
          column: 48
        }
      },
      "37": {
        start: {
          line: 190,
          column: 20
        },
        end: {
          line: 190,
          column: 90
        }
      },
      "38": {
        start: {
          line: 193,
          column: 4
        },
        end: {
          line: 193,
          column: 87
        }
      },
      "39": {
        start: {
          line: 196,
          column: 4
        },
        end: {
          line: 203,
          column: 7
        }
      },
      "40": {
        start: {
          line: 206,
          column: 4
        },
        end: {
          line: 206,
          column: 81
        }
      },
      "41": {
        start: {
          line: 210,
          column: 4
        },
        end: {
          line: 218,
          column: 7
        }
      },
      "42": {
        start: {
          line: 229,
          column: 42
        },
        end: {
          line: 250,
          column: 1
        }
      },
      "43": {
        start: {
          line: 234,
          column: 20
        },
        end: {
          line: 244,
          column: 21
        }
      },
      "44": {
        start: {
          line: 246,
          column: 2
        },
        end: {
          line: 249,
          column: 3
        }
      },
      "45": {
        start: {
          line: 247,
          column: 4
        },
        end: {
          line: 247,
          column: 75
        }
      },
      "46": {
        start: {
          line: 248,
          column: 4
        },
        end: {
          line: 248,
          column: 68
        }
      },
      "47": {
        start: {
          line: 257,
          column: 19
        },
        end: {
          line: 264,
          column: 1
        }
      },
      "48": {
        start: {
          line: 258,
          column: 20
        },
        end: {
          line: 258,
          column: 71
        }
      },
      "49": {
        start: {
          line: 260,
          column: 2
        },
        end: {
          line: 263,
          column: 3
        }
      },
      "50": {
        start: {
          line: 261,
          column: 4
        },
        end: {
          line: 261,
          column: 63
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 56,
            column: 32
          },
          end: {
            line: 56,
            column: 33
          }
        },
        loc: {
          start: {
            line: 56,
            column: 47
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 56
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 75,
            column: 49
          },
          end: {
            line: 75,
            column: 50
          }
        },
        loc: {
          start: {
            line: 80,
            column: 35
          },
          end: {
            line: 163,
            column: 1
          }
        },
        line: 80
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 81,
            column: 39
          },
          end: {
            line: 81,
            column: 40
          }
        },
        loc: {
          start: {
            line: 81,
            column: 44
          },
          end: {
            line: 81,
            column: 59
          }
        },
        line: 81
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 173,
            column: 41
          },
          end: {
            line: 173,
            column: 42
          }
        },
        loc: {
          start: {
            line: 177,
            column: 20
          },
          end: {
            line: 220,
            column: 1
          }
        },
        line: 177
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 229,
            column: 42
          },
          end: {
            line: 229,
            column: 43
          }
        },
        loc: {
          start: {
            line: 233,
            column: 20
          },
          end: {
            line: 250,
            column: 1
          }
        },
        line: 233
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 257,
            column: 19
          },
          end: {
            line: 257,
            column: 20
          }
        },
        loc: {
          start: {
            line: 257,
            column: 69
          },
          end: {
            line: 264,
            column: 1
          }
        },
        line: 257
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 60,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 60,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "1": {
        loc: {
          start: {
            line: 82,
            column: 2
          },
          end: {
            line: 84,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 82,
            column: 2
          },
          end: {
            line: 84,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 82
      },
      "2": {
        loc: {
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 105,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 105,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 102
      },
      "3": {
        loc: {
          start: {
            line: 104,
            column: 22
          },
          end: {
            line: 104,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 104,
            column: 22
          },
          end: {
            line: 104,
            column: 37
          }
        }, {
          start: {
            line: 104,
            column: 41
          },
          end: {
            line: 104,
            column: 75
          }
        }],
        line: 104
      },
      "4": {
        loc: {
          start: {
            line: 119,
            column: 4
          },
          end: {
            line: 131,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 119,
            column: 4
          },
          end: {
            line: 131,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 119
      },
      "5": {
        loc: {
          start: {
            line: 136,
            column: 4
          },
          end: {
            line: 152,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 4
          },
          end: {
            line: 152,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "6": {
        loc: {
          start: {
            line: 138,
            column: 6
          },
          end: {
            line: 140,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 138,
            column: 6
          },
          end: {
            line: 140,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 138
      },
      "7": {
        loc: {
          start: {
            line: 161,
            column: 36
          },
          end: {
            line: 161,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 161,
            column: 36
          },
          end: {
            line: 161,
            column: 49
          }
        }, {
          start: {
            line: 161,
            column: 53
          },
          end: {
            line: 161,
            column: 81
          }
        }],
        line: 161
      },
      "8": {
        loc: {
          start: {
            line: 190,
            column: 20
          },
          end: {
            line: 190,
            column: 90
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 190,
            column: 45
          },
          end: {
            line: 190,
            column: 64
          }
        }, {
          start: {
            line: 190,
            column: 67
          },
          end: {
            line: 190,
            column: 90
          }
        }],
        line: 190
      },
      "9": {
        loc: {
          start: {
            line: 246,
            column: 2
          },
          end: {
            line: 249,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 246,
            column: 2
          },
          end: {
            line: 249,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 246
      },
      "10": {
        loc: {
          start: {
            line: 260,
            column: 2
          },
          end: {
            line: 263,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 260,
            column: 2
          },
          end: {
            line: 263,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 260
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "536987c896635b46e5428b85e53362ad7dd3ac9b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_2672s7zqdg = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2672s7zqdg();
import { supabase } from '../supabase';
import { SUBSCRIPTION_PLANS, calculateExpiryDate } from './subscriptionTypes';
import { UserRole } from './userRoleService';
var STRIPE_PUBLISHABLE_KEY = (cov_2672s7zqdg().s[0]++, _env.EXPO_PUBLIC_STRIPE_PUBLISHABLE_KEY);
var SUPABASE_EDGE_FUNCTION_URL = (cov_2672s7zqdg().s[1]++, `${_env.EXPO_PUBLIC_SUPABASE_URL}/functions/v1/create-payment-intent`);
cov_2672s7zqdg().s[2]++;
export var initializeStripe = function initializeStripe() {
  cov_2672s7zqdg().f[0]++;
  cov_2672s7zqdg().s[3]++;
  if (!STRIPE_PUBLISHABLE_KEY) {
    cov_2672s7zqdg().b[0][0]++;
    cov_2672s7zqdg().s[4]++;
    console.error('Stripe publishable key is not set. Please check your environment variables.');
    cov_2672s7zqdg().s[5]++;
    return false;
  } else {
    cov_2672s7zqdg().b[0][1]++;
  }
  cov_2672s7zqdg().s[6]++;
  return true;
};
cov_2672s7zqdg().s[7]++;
export var createPaymentSheetForSubscription = function () {
  var _ref = _asyncToGenerator(function* (userId, planId, initPaymentSheet, presentPaymentSheet) {
    cov_2672s7zqdg().f[1]++;
    var plan = (cov_2672s7zqdg().s[8]++, SUBSCRIPTION_PLANS.find(function (p) {
      cov_2672s7zqdg().f[2]++;
      cov_2672s7zqdg().s[9]++;
      return p.id === planId;
    }));
    cov_2672s7zqdg().s[10]++;
    if (!plan) {
      cov_2672s7zqdg().b[1][0]++;
      cov_2672s7zqdg().s[11]++;
      return {
        success: false,
        error: 'Subscription plan not found.'
      };
    } else {
      cov_2672s7zqdg().b[1][1]++;
    }
    cov_2672s7zqdg().s[12]++;
    try {
      var _supabase$auth$getSes;
      var response = (cov_2672s7zqdg().s[13]++, yield fetch(SUPABASE_EDGE_FUNCTION_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${(_supabase$auth$getSes = supabase.auth.getSession()) == null || (_supabase$auth$getSes = _supabase$auth$getSes.data.session) == null ? void 0 : _supabase$auth$getSes.access_token}`
        },
        body: JSON.stringify({
          amount: plan.price * 100,
          currency: 'usd',
          userId: userId,
          planId: plan.id
        })
      }));
      cov_2672s7zqdg().s[14]++;
      if (!response.ok) {
        cov_2672s7zqdg().b[2][0]++;
        var errorBody = (cov_2672s7zqdg().s[15]++, yield response.json());
        cov_2672s7zqdg().s[16]++;
        throw new Error((cov_2672s7zqdg().b[3][0]++, errorBody.error) || (cov_2672s7zqdg().b[3][1]++, 'Failed to create payment intent.'));
      } else {
        cov_2672s7zqdg().b[2][1]++;
      }
      var _ref2 = (cov_2672s7zqdg().s[17]++, yield response.json()),
        paymentIntent = _ref2.paymentIntent,
        ephemeralKey = _ref2.ephemeralKey,
        customer = _ref2.customer;
      var _ref3 = (cov_2672s7zqdg().s[18]++, yield initPaymentSheet({
          merchantDisplayName: 'Card Show Finder, LLC.',
          customerId: customer,
          customerEphemeralKeySecret: ephemeralKey,
          paymentIntentClientSecret: paymentIntent,
          allowsDelayedPaymentMethods: true,
          returnURL: 'cardshowfinder://stripe-redirect'
        })),
        initError = _ref3.error;
      cov_2672s7zqdg().s[19]++;
      if (initError) {
        cov_2672s7zqdg().b[4][0]++;
        cov_2672s7zqdg().s[20]++;
        console.error('Stripe initPaymentSheet error:', initError);
        cov_2672s7zqdg().s[21]++;
        yield logPayment({
          user_id: userId,
          plan_id: plan.id,
          amount: plan.price,
          currency: 'usd',
          status: 'failed',
          transaction_id: paymentIntent,
          error_message: `Init Error: ${initError.message}`
        });
        cov_2672s7zqdg().s[22]++;
        return {
          success: false,
          error: `Initialization failed: ${initError.message}`
        };
      } else {
        cov_2672s7zqdg().b[4][1]++;
      }
      var _ref4 = (cov_2672s7zqdg().s[23]++, yield presentPaymentSheet()),
        presentError = _ref4.error;
      cov_2672s7zqdg().s[24]++;
      if (presentError) {
        cov_2672s7zqdg().b[5][0]++;
        cov_2672s7zqdg().s[25]++;
        if (presentError.code === 'Canceled') {
          cov_2672s7zqdg().b[6][0]++;
          cov_2672s7zqdg().s[26]++;
          return {
            success: false,
            error: 'Payment was canceled.'
          };
        } else {
          cov_2672s7zqdg().b[6][1]++;
        }
        cov_2672s7zqdg().s[27]++;
        console.error('Stripe presentPaymentSheet error:', presentError);
        cov_2672s7zqdg().s[28]++;
        yield logPayment({
          user_id: userId,
          plan_id: plan.id,
          amount: plan.price,
          currency: 'usd',
          status: 'failed',
          transaction_id: paymentIntent,
          error_message: `Present Error: ${presentError.message}`
        });
        cov_2672s7zqdg().s[29]++;
        return {
          success: false,
          error: `Payment failed: ${presentError.message}`
        };
      } else {
        cov_2672s7zqdg().b[5][1]++;
      }
      cov_2672s7zqdg().s[30]++;
      yield processSubscriptionUpdate(userId, plan, paymentIntent);
      cov_2672s7zqdg().s[31]++;
      return {
        success: true,
        transactionId: paymentIntent
      };
    } catch (error) {
      cov_2672s7zqdg().s[32]++;
      console.error('An unexpected error occurred during payment:', error);
      cov_2672s7zqdg().s[33]++;
      return {
        success: false,
        error: (cov_2672s7zqdg().b[7][0]++, error.message) || (cov_2672s7zqdg().b[7][1]++, 'An unknown error occurred.')
      };
    }
  });
  return function createPaymentSheetForSubscription(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();
cov_2672s7zqdg().s[34]++;
export var processSubscriptionUpdate = function () {
  var _ref5 = _asyncToGenerator(function* (userId, plan, transactionId) {
    cov_2672s7zqdg().f[3]++;
    cov_2672s7zqdg().s[35]++;
    try {
      var expiryDate = (cov_2672s7zqdg().s[36]++, calculateExpiryDate(plan));
      var newRole = (cov_2672s7zqdg().s[37]++, plan.type === 'dealer' ? (cov_2672s7zqdg().b[8][0]++, UserRole.MVP_DEALER) : (cov_2672s7zqdg().b[8][1]++, UserRole.SHOW_ORGANIZER));
      cov_2672s7zqdg().s[38]++;
      yield updateUserProfileWithSubscription(userId, newRole, expiryDate.toISOString());
      cov_2672s7zqdg().s[39]++;
      yield logPayment({
        user_id: userId,
        plan_id: plan.id,
        amount: plan.price,
        currency: 'usd',
        status: 'succeeded',
        transaction_id: transactionId
      });
    } catch (error) {
      cov_2672s7zqdg().s[40]++;
      console.error('Failed to process subscription update after payment:', error);
      cov_2672s7zqdg().s[41]++;
      yield logPayment({
        user_id: userId,
        plan_id: plan.id,
        amount: plan.price,
        currency: 'usd',
        status: 'failed',
        transaction_id: transactionId,
        error_message: 'Post-payment profile update failed.'
      });
    }
  });
  return function processSubscriptionUpdate(_x5, _x6, _x7) {
    return _ref5.apply(this, arguments);
  };
}();
cov_2672s7zqdg().s[42]++;
var updateUserProfileWithSubscription = function () {
  var _ref6 = _asyncToGenerator(function* (userId, newRole, expiryDateISO) {
    cov_2672s7zqdg().f[4]++;
    var _ref7 = (cov_2672s7zqdg().s[43]++, yield supabase.from('profiles').update({
        role: newRole,
        subscription_status: 'active',
        payment_status: 'paid',
        subscription_expiry: expiryDateISO,
        updated_at: new Date().toISOString()
      }).eq('id', userId)),
      error = _ref7.error;
    cov_2672s7zqdg().s[44]++;
    if (error) {
      cov_2672s7zqdg().b[9][0]++;
      cov_2672s7zqdg().s[45]++;
      console.error('Error updating user profile with subscription:', error);
      cov_2672s7zqdg().s[46]++;
      throw new Error('Failed to update user profile after payment.');
    } else {
      cov_2672s7zqdg().b[9][1]++;
    }
  });
  return function updateUserProfileWithSubscription(_x8, _x9, _x0) {
    return _ref6.apply(this, arguments);
  };
}();
cov_2672s7zqdg().s[47]++;
var logPayment = function () {
  var _ref8 = _asyncToGenerator(function* (paymentData) {
    cov_2672s7zqdg().f[5]++;
    var _ref9 = (cov_2672s7zqdg().s[48]++, yield supabase.from('payments').insert(paymentData)),
      error = _ref9.error;
    cov_2672s7zqdg().s[49]++;
    if (error) {
      cov_2672s7zqdg().b[10][0]++;
      cov_2672s7zqdg().s[50]++;
      console.error('Error logging payment transaction:', error);
    } else {
      cov_2672s7zqdg().b[10][1]++;
    }
  });
  return function logPayment(_x1) {
    return _ref8.apply(this, arguments);
  };
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdXBhYmFzZSIsIlNVQlNDUklQVElPTl9QTEFOUyIsImNhbGN1bGF0ZUV4cGlyeURhdGUiLCJVc2VyUm9sZSIsIlNUUklQRV9QVUJMSVNIQUJMRV9LRVkiLCJjb3ZfMjY3MnM3enFkZyIsInMiLCJfZW52IiwiRVhQT19QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSIsIlNVUEFCQVNFX0VER0VfRlVOQ1RJT05fVVJMIiwiRVhQT19QVUJMSUNfU1VQQUJBU0VfVVJMIiwiaW5pdGlhbGl6ZVN0cmlwZSIsImYiLCJiIiwiY29uc29sZSIsImVycm9yIiwiY3JlYXRlUGF5bWVudFNoZWV0Rm9yU3Vic2NyaXB0aW9uIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwidXNlcklkIiwicGxhbklkIiwiaW5pdFBheW1lbnRTaGVldCIsInByZXNlbnRQYXltZW50U2hlZXQiLCJwbGFuIiwiZmluZCIsInAiLCJpZCIsInN1Y2Nlc3MiLCJfc3VwYWJhc2UkYXV0aCRnZXRTZXMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGgiLCJnZXRTZXNzaW9uIiwiZGF0YSIsInNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFtb3VudCIsInByaWNlIiwiY3VycmVuY3kiLCJvayIsImVycm9yQm9keSIsImpzb24iLCJFcnJvciIsIl9yZWYyIiwicGF5bWVudEludGVudCIsImVwaGVtZXJhbEtleSIsImN1c3RvbWVyIiwiX3JlZjMiLCJtZXJjaGFudERpc3BsYXlOYW1lIiwiY3VzdG9tZXJJZCIsImN1c3RvbWVyRXBoZW1lcmFsS2V5U2VjcmV0IiwicGF5bWVudEludGVudENsaWVudFNlY3JldCIsImFsbG93c0RlbGF5ZWRQYXltZW50TWV0aG9kcyIsInJldHVyblVSTCIsImluaXRFcnJvciIsImxvZ1BheW1lbnQiLCJ1c2VyX2lkIiwicGxhbl9pZCIsInN0YXR1cyIsInRyYW5zYWN0aW9uX2lkIiwiZXJyb3JfbWVzc2FnZSIsIm1lc3NhZ2UiLCJfcmVmNCIsInByZXNlbnRFcnJvciIsImNvZGUiLCJwcm9jZXNzU3Vic2NyaXB0aW9uVXBkYXRlIiwidHJhbnNhY3Rpb25JZCIsIl94IiwiX3gyIiwiX3gzIiwiX3g0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmNSIsImV4cGlyeURhdGUiLCJuZXdSb2xlIiwidHlwZSIsIk1WUF9ERUFMRVIiLCJTSE9XX09SR0FOSVpFUiIsInVwZGF0ZVVzZXJQcm9maWxlV2l0aFN1YnNjcmlwdGlvbiIsInRvSVNPU3RyaW5nIiwiX3g1IiwiX3g2IiwiX3g3IiwiX3JlZjYiLCJleHBpcnlEYXRlSVNPIiwiX3JlZjciLCJmcm9tIiwidXBkYXRlIiwicm9sZSIsInN1YnNjcmlwdGlvbl9zdGF0dXMiLCJwYXltZW50X3N0YXR1cyIsInN1YnNjcmlwdGlvbl9leHBpcnkiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsImVxIiwiX3g4IiwiX3g5IiwiX3gwIiwiX3JlZjgiLCJwYXltZW50RGF0YSIsIl9yZWY5IiwiaW5zZXJ0IiwiX3gxIl0sInNvdXJjZXMiOlsic3RyaXBlUGF5bWVudFNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RyaXBlUHJvdmlkZXIsIHVzZVN0cmlwZSB9IGZyb20gJ0BzdHJpcGUvc3RyaXBlLXJlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL3N1cGFiYXNlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvblBsYW4sIFNVQlNDUklQVElPTl9QTEFOUywgY2FsY3VsYXRlRXhwaXJ5RGF0ZSB9IGZyb20gJy4vc3Vic2NyaXB0aW9uVHlwZXMnO1xuaW1wb3J0IHsgVXNlclJvbGUgfSBmcm9tICcuL3VzZXJSb2xlU2VydmljZSc7XG5cbi8vIC0tLSBUeXBlIERlZmluaXRpb25zIC0tLVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIG91dGNvbWUgb2YgYSBwYXltZW50IG9wZXJhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJpcGVQYXltZW50UmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHRyYW5zYWN0aW9uSWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgZXhwZWN0ZWQgSlNPTiByZXNwb25zZSBmcm9tIHRoZSBiYWNrZW5kIChTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uKVxuICogd2hlbiBjcmVhdGluZyBhIHBheW1lbnQgaW50ZW50LlxuICovXG5pbnRlcmZhY2UgUGF5bWVudEludGVudFJlc3BvbnNlIHtcbiAgcGF5bWVudEludGVudDogc3RyaW5nOyAvLyBUaGUgUGF5bWVudCBJbnRlbnQgY2xpZW50IHNlY3JldFxuICBlcGhlbWVyYWxLZXk6IHN0cmluZzsgIC8vIFRoZSBFcGhlbWVyYWwgS2V5IHNlY3JldCBmb3IgdGhlIGN1c3RvbWVyXG4gIGN1c3RvbWVyOiBzdHJpbmc7ICAgICAgLy8gVGhlIFN0cmlwZSBDdXN0b21lciBJRFxuICBwdWJsaXNoYWJsZUtleTogc3RyaW5nOyAvLyBUaGUgU3RyaXBlIHB1Ymxpc2hhYmxlIGtleVxufVxuXG4vKipcbiAqIERlZmluZXMgdGhlIHN0cnVjdHVyZSBmb3IgbG9nZ2luZyBhIHBheW1lbnQgdHJhbnNhY3Rpb24gaW4gU3VwYWJhc2UuXG4gKi9cbmludGVyZmFjZSBQYXltZW50TG9nIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgcGxhbl9pZDogc3RyaW5nO1xuICBhbW91bnQ6IG51bWJlcjtcbiAgY3VycmVuY3k6IHN0cmluZztcbiAgc3RhdHVzOiAnc3VjY2VlZGVkJyB8ICdmYWlsZWQnIHwgJ3BlbmRpbmcnO1xuICB0cmFuc2FjdGlvbl9pZDogc3RyaW5nOyAvLyBTdHJpcGUgUGF5bWVudCBJbnRlbnQgSURcbiAgZXJyb3JfbWVzc2FnZT86IHN0cmluZztcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cblxuLy8gLS0tIENvbnN0YW50cyAtLS1cblxuLy8gSXQncyBjcnVjaWFsIHRvIGxvYWQgdGhpcyBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlcyBhbmQgbm90IGhhcmRjb2RlIGl0LlxuY29uc3QgU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSA9IHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVk7XG5jb25zdCBTVVBBQkFTRV9FREdFX0ZVTkNUSU9OX1VSTCA9IGAke3Byb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX1VSTH0vZnVuY3Rpb25zL3YxL2NyZWF0ZS1wYXltZW50LWludGVudGA7XG5cbi8vIC0tLSBTZXJ2aWNlIEltcGxlbWVudGF0aW9uIC0tLVxuXG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBTdHJpcGUgU0RLLlxuICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIG9uY2UgYXQgdGhlIHJvb3Qgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGluaXRpYWxpemF0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplU3RyaXBlID0gKCk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIVNUUklQRV9QVUJMSVNIQUJMRV9LRVkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdHJpcGUgcHVibGlzaGFibGUga2V5IGlzIG5vdCBzZXQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIFN0cmlwZVByb3ZpZGVyIGNvbXBvbmVudCBoYW5kbGVzIGluaXRpYWxpemF0aW9uLiBUaGlzIGZ1bmN0aW9uIGlzIGZvciB2YWxpZGF0aW9uLlxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcHJlc2VudHMgdGhlIFN0cmlwZSBQYXltZW50IFNoZWV0IGZvciBhIGdpdmVuIHN1YnNjcmlwdGlvbiBwbGFuLlxuICogVGhpcyBmdW5jdGlvbiBvcmNoZXN0cmF0ZXMgdGhlIGVudGlyZSBjbGllbnQtc2lkZSBwYXltZW50IGZsb3cuXG4gKlxuICogQHBhcmFtIHVzZXJJZCAtIFRoZSBJRCBvZiB0aGUgdXNlciBwdXJjaGFzaW5nIHRoZSBzdWJzY3JpcHRpb24uXG4gKiBAcGFyYW0gcGxhbklkIC0gVGhlIElEIG9mIHRoZSBzdWJzY3JpcHRpb24gcGxhbiBiZWluZyBwdXJjaGFzZWQuXG4gKiBAcGFyYW0gaW5pdFBheW1lbnRTaGVldCAtIFRoZSBgaW5pdFBheW1lbnRTaGVldGAgZnVuY3Rpb24gZnJvbSB0aGUgYHVzZVN0cmlwZWAgaG9vay5cbiAqIEBwYXJhbSBwcmVzZW50UGF5bWVudFNoZWV0IC0gVGhlIGBwcmVzZW50UGF5bWVudFNoZWV0YCBmdW5jdGlvbiBmcm9tIHRoZSBgdXNlU3RyaXBlYCBob29rLlxuICogQHJldHVybnMge1Byb21pc2U8U3RyaXBlUGF5bWVudFJlc3VsdD59IFRoZSByZXN1bHQgb2YgdGhlIHBheW1lbnQgb3BlcmF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlUGF5bWVudFNoZWV0Rm9yU3Vic2NyaXB0aW9uID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgcGxhbklkOiBzdHJpbmcsXG4gIGluaXRQYXltZW50U2hlZXQ6IChwYXJhbXM6IGFueSkgPT4gUHJvbWlzZTxhbnk+LFxuICBwcmVzZW50UGF5bWVudFNoZWV0OiAoKSA9PiBQcm9taXNlPGFueT5cbik6IFByb21pc2U8U3RyaXBlUGF5bWVudFJlc3VsdD4gPT4ge1xuICBjb25zdCBwbGFuID0gU1VCU0NSSVBUSU9OX1BMQU5TLmZpbmQocCA9PiBwLmlkID09PSBwbGFuSWQpO1xuICBpZiAoIXBsYW4pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdTdWJzY3JpcHRpb24gcGxhbiBub3QgZm91bmQuJyB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyAxLiBDcmVhdGUgYSBwYXltZW50IGludGVudCBvbiB0aGUgc2VydmVyICh2aWEgU3VwYWJhc2UgRWRnZSBGdW5jdGlvbilcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFNVUEFCQVNFX0VER0VfRlVOQ1RJT05fVVJMLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk/LmRhdGEuc2Vzc2lvbj8uYWNjZXNzX3Rva2VufWAsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhbW91bnQ6IHBsYW4ucHJpY2UgKiAxMDAsIC8vIFN0cmlwZSBleHBlY3RzIGFtb3VudCBpbiBjZW50c1xuICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICBwbGFuSWQ6IHBsYW4uaWQsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yQm9keSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckJvZHkuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgcGF5bWVudCBpbnRlbnQuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBwYXltZW50SW50ZW50LCBlcGhlbWVyYWxLZXksIGN1c3RvbWVyIH06IFBheW1lbnRJbnRlbnRSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIC8vIDIuIEluaXRpYWxpemUgdGhlIFBheW1lbnQgU2hlZXRcbiAgICBjb25zdCB7IGVycm9yOiBpbml0RXJyb3IgfSA9IGF3YWl0IGluaXRQYXltZW50U2hlZXQoe1xuICAgICAgbWVyY2hhbnREaXNwbGF5TmFtZTogJ0NhcmQgU2hvdyBGaW5kZXIsIExMQy4nLFxuICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXIsXG4gICAgICBjdXN0b21lckVwaGVtZXJhbEtleVNlY3JldDogZXBoZW1lcmFsS2V5LFxuICAgICAgcGF5bWVudEludGVudENsaWVudFNlY3JldDogcGF5bWVudEludGVudCxcbiAgICAgIGFsbG93c0RlbGF5ZWRQYXltZW50TWV0aG9kczogdHJ1ZSxcbiAgICAgIHJldHVyblVSTDogJ2NhcmRzaG93ZmluZGVyOi8vc3RyaXBlLXJlZGlyZWN0JywgLy8gQ3VzdG9tIFVSTCBzY2hlbWVcbiAgICB9KTtcblxuICAgIGlmIChpbml0RXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmlwZSBpbml0UGF5bWVudFNoZWV0IGVycm9yOicsIGluaXRFcnJvcik7XG4gICAgICBhd2FpdCBsb2dQYXltZW50KHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICBwbGFuX2lkOiBwbGFuLmlkLFxuICAgICAgICBhbW91bnQ6IHBsYW4ucHJpY2UsXG4gICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgdHJhbnNhY3Rpb25faWQ6IHBheW1lbnRJbnRlbnQsXG4gICAgICAgIGVycm9yX21lc3NhZ2U6IGBJbml0IEVycm9yOiAke2luaXRFcnJvci5tZXNzYWdlfWAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYEluaXRpYWxpemF0aW9uIGZhaWxlZDogJHtpbml0RXJyb3IubWVzc2FnZX1gIH07XG4gICAgfVxuXG4gICAgLy8gMy4gUHJlc2VudCB0aGUgUGF5bWVudCBTaGVldFxuICAgIGNvbnN0IHsgZXJyb3I6IHByZXNlbnRFcnJvciB9ID0gYXdhaXQgcHJlc2VudFBheW1lbnRTaGVldCgpO1xuXG4gICAgaWYgKHByZXNlbnRFcnJvcikge1xuICAgICAgLy8gVXNlciBjYW5jZWxsZWQgb3IgcGF5bWVudCBmYWlsZWRcbiAgICAgIGlmIChwcmVzZW50RXJyb3IuY29kZSA9PT0gJ0NhbmNlbGVkJykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdQYXltZW50IHdhcyBjYW5jZWxlZC4nIH07XG4gICAgICB9XG4gICAgICBjb25zb2xlLmVycm9yKCdTdHJpcGUgcHJlc2VudFBheW1lbnRTaGVldCBlcnJvcjonLCBwcmVzZW50RXJyb3IpO1xuICAgICAgYXdhaXQgbG9nUGF5bWVudCh7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgcGxhbl9pZDogcGxhbi5pZCxcbiAgICAgICAgYW1vdW50OiBwbGFuLnByaWNlLFxuICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgIHRyYW5zYWN0aW9uX2lkOiBwYXltZW50SW50ZW50LFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiBgUHJlc2VudCBFcnJvcjogJHtwcmVzZW50RXJyb3IubWVzc2FnZX1gLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBQYXltZW50IGZhaWxlZDogJHtwcmVzZW50RXJyb3IubWVzc2FnZX1gIH07XG4gICAgfVxuXG4gICAgLy8gNC4gUGF5bWVudCBzdWNjZWVkZWQsIHByb2Nlc3MgdGhlIHN1YnNjcmlwdGlvblxuICAgIGF3YWl0IHByb2Nlc3NTdWJzY3JpcHRpb25VcGRhdGUodXNlcklkLCBwbGFuLCBwYXltZW50SW50ZW50KTtcblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHRyYW5zYWN0aW9uSWQ6IHBheW1lbnRJbnRlbnQgfTtcblxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcGF5bWVudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLicgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBsb2dpYyBhZnRlciBhIHN1Y2Nlc3NmdWwgcGF5bWVudDogY2FsY3VsYXRlcyBleHBpcnksIHVwZGF0ZXMgdGhlIHVzZXIncyBwcm9maWxlLFxuICogYW5kIGxvZ3MgdGhlIHRyYW5zYWN0aW9uLlxuICpcbiAqIEBwYXJhbSB1c2VySWQgLSBUaGUgSUQgb2YgdGhlIHVzZXIuXG4gKiBAcGFyYW0gcGxhbiAtIFRoZSBzdWJzY3JpcHRpb24gcGxhbiB0aGF0IHdhcyBwdXJjaGFzZWQuXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb25JZCAtIFRoZSBTdHJpcGUgUGF5bWVudCBJbnRlbnQgSUQgZm9yIGxvZ2dpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9jZXNzU3Vic2NyaXB0aW9uVXBkYXRlID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgcGxhbjogU3Vic2NyaXB0aW9uUGxhbixcbiAgdHJhbnNhY3Rpb25JZDogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGV4cGlyeSBkYXRlIGZvciB0aGUgKipwYWlkKiogc3Vic2NyaXB0aW9uLlxuICAgICAqIFdlIGludGVudGlvbmFsbHkgaWdub3JlIGFueSBmcmVlLXRyaWFsIGRhdGEgaGVyZSBiZWNhdXNlIGFuIHVwZ3JhZGVcbiAgICAgKiBzaG91bGQgdGVybWluYXRlIHRoZSB0cmlhbCBhbmQgc3RhcnQgdGhlIHBhaWQgcGVyaW9kIGltbWVkaWF0ZWx5LlxuICAgICAqIFRoZSBoZWxwZXIgaW4gYHN1YnNjcmlwdGlvblR5cGVzYCBhbHJlYWR5IGVuY29kZXM6XG4gICAgICogICDigKIgQW5udWFsICDihpIgKzM2NSBkYXlzXG4gICAgICogICDigKIgTW9udGhseSDihpIgKzMwICBkYXlzXG4gICAgICovXG4gICAgY29uc3QgZXhwaXJ5RGF0ZSA9IGNhbGN1bGF0ZUV4cGlyeURhdGUocGxhbik7XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIG5ldyByb2xlIGJhc2VkIG9uIHRoZSBzdWJzY3JpcHRpb24gdHlwZVxuICAgIGNvbnN0IG5ld1JvbGUgPSBwbGFuLnR5cGUgPT09ICdkZWFsZXInID8gVXNlclJvbGUuTVZQX0RFQUxFUiA6IFVzZXJSb2xlLlNIT1dfT1JHQU5JWkVSO1xuXG4gICAgLy8gVXBkYXRlIHVzZXIgcHJvZmlsZSBpbiBTdXBhYmFzZVxuICAgIGF3YWl0IHVwZGF0ZVVzZXJQcm9maWxlV2l0aFN1YnNjcmlwdGlvbih1c2VySWQsIG5ld1JvbGUsIGV4cGlyeURhdGUudG9JU09TdHJpbmcoKSk7XG5cbiAgICAvLyBMb2cgdGhlIHN1Y2Nlc3NmdWwgcGF5bWVudFxuICAgIGF3YWl0IGxvZ1BheW1lbnQoe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgcGxhbl9pZDogcGxhbi5pZCxcbiAgICAgIGFtb3VudDogcGxhbi5wcmljZSxcbiAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgIHN0YXR1czogJ3N1Y2NlZWRlZCcsXG4gICAgICB0cmFuc2FjdGlvbl9pZDogdHJhbnNhY3Rpb25JZCxcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIHN1YnNjcmlwdGlvbiB1cGRhdGUgYWZ0ZXIgcGF5bWVudDonLCBlcnJvcik7XG4gICAgLy8gRXZlbiBpZiBwb3N0LXBheW1lbnQgcHJvY2Vzc2luZyBmYWlscywgdGhlIHBheW1lbnQgd2FzIHN1Y2Nlc3NmdWwuXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgaGFuZGxlZCB3aXRoIGEgcmVjb25jaWxpYXRpb24gcHJvY2VzcyBvciBtb25pdG9yaW5nLlxuICAgIC8vIEZvciBub3csIHdlIGxvZyB0aGUgZXJyb3IuXG4gICAgYXdhaXQgbG9nUGF5bWVudCh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBwbGFuX2lkOiBwbGFuLmlkLFxuICAgICAgYW1vdW50OiBwbGFuLnByaWNlLFxuICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgc3RhdHVzOiAnZmFpbGVkJywgLy8gTG9nIGFzICdmYWlsZWQnIHRvIGluZGljYXRlIGEgcHJvY2Vzc2luZyBmYWlsdXJlIHBvc3QtcGF5bWVudFxuICAgICAgdHJhbnNhY3Rpb25faWQ6IHRyYW5zYWN0aW9uSWQsXG4gICAgICBlcnJvcl9tZXNzYWdlOiAnUG9zdC1wYXltZW50IHByb2ZpbGUgdXBkYXRlIGZhaWxlZC4nLFxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHVzZXIncyBwcm9maWxlIGluIHRoZSBTdXBhYmFzZSAncHJvZmlsZXMnIHRhYmxlIHdpdGggbmV3IHN1YnNjcmlwdGlvbiBkZXRhaWxzLlxuICpcbiAqIEBwYXJhbSB1c2VySWQgLSBUaGUgdXNlcidzIElELlxuICogQHBhcmFtIG5ld1JvbGUgLSBUaGUgbmV3IHJvbGUgdG8gYXNzaWduIHRvIHRoZSB1c2VyLlxuICogQHBhcmFtIGV4cGlyeURhdGVJU08gLSBUaGUgSVNPIHN0cmluZyBvZiB0aGUgc3Vic2NyaXB0aW9uIGV4cGlyeSBkYXRlLlxuICovXG5jb25zdCB1cGRhdGVVc2VyUHJvZmlsZVdpdGhTdWJzY3JpcHRpb24gPSBhc3luYyAoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBuZXdSb2xlOiBVc2VyUm9sZSxcbiAgZXhwaXJ5RGF0ZUlTTzogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgIC51cGRhdGUoe1xuICAgICAgcm9sZTogbmV3Um9sZSxcbiAgICAgIHN1YnNjcmlwdGlvbl9zdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgLy8gTWFyayB0aGUgdXNlciBhcyBoYXZpbmcgY29tcGxldGVkIHBheW1lbnQgc28gVUkgZG9lcyBub3Qgc2hvdyDigJxUcmlhbOKAnSBiYW5uZXJzXG4gICAgICBwYXltZW50X3N0YXR1czogJ3BhaWQnLFxuICAgICAgc3Vic2NyaXB0aW9uX2V4cGlyeTogZXhwaXJ5RGF0ZUlTTyxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KVxuICAgIC5lcSgnaWQnLCB1c2VySWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXIgcHJvZmlsZSB3aXRoIHN1YnNjcmlwdGlvbjonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHVzZXIgcHJvZmlsZSBhZnRlciBwYXltZW50LicpO1xuICB9XG59O1xuXG4vKipcbiAqIExvZ3MgYSBwYXltZW50IHRyYW5zYWN0aW9uIHRvIHRoZSAncGF5bWVudHMnIHRhYmxlIGluIFN1cGFiYXNlLlxuICpcbiAqIEBwYXJhbSBwYXltZW50RGF0YSAtIFRoZSBwYXltZW50IGRldGFpbHMgdG8gbG9nLlxuICovXG5jb25zdCBsb2dQYXltZW50ID0gYXN5bmMgKHBheW1lbnREYXRhOiBQYXltZW50TG9nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ3BheW1lbnRzJykuaW5zZXJ0KHBheW1lbnREYXRhKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIHBheW1lbnQgdHJhbnNhY3Rpb246JywgZXJyb3IpO1xuICAgIC8vIFRoaXMgaXMgYSBub24tY3JpdGljYWwgZXJyb3IgZm9yIHRoZSB1c2VyIGZsb3csIGJ1dCBpbXBvcnRhbnQgZm9yIGFuYWx5dGljcy9kZWJ1Z2dpbmcuXG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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